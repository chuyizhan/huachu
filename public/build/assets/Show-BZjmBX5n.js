import{_ as U}from"./WebLayout.vue_vue_type_script_setup_true_lang-mA0_YuHb.js";import{_ as b}from"./index-C5dOS73e.js";import{_ as y,a as k}from"./CardContent.vue_vue_type_script_setup_true_lang-sH_VD07I.js";import{_ as x}from"./index-CQ_MgWDB.js";import{_ as E,b as L,a as M}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-DDWxRpZB.js";import{d as V,r as g,C as q,c as f,o as l,w as c,a as r,b as e,e as o,h as A,y as j,f as n,j as d,t as a,i as m,n as B,F as D,s as I}from"./app-CLker8_I.js";import{A as P}from"./arrow-left-DMCTHK_E.js";import{M as z}from"./map-pin-Cv_aNOhf.js";import{C as O}from"./calendar-Du_cMERi.js";import{U as H}from"./user-plus-DzE42ksT.js";import{U as K}from"./user-minus-D7T9fXZ1.js";import{S as R}from"./star-BvHedq_Y.js";import{B as C}from"./book-open-AdJfCycZ.js";import{E as X}from"./eye-CFVB4H8c.js";import{H as G}from"./heart-BGFMAGho.js";import{M as J}from"./message-square-BbPBgRXp.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-Bs-KBN4D.js";import"./createLucideIcon-Cu_j3yQl.js";import"./user-BAaR-s8W.js";import"./Primitive--Q3dnjLI.js";import"./index-COykws3Z.js";import"./useForwardExpose-3nqGFbn8.js";import"./usePrimitiveElement-C50WbyVL.js";import"./RovingFocusGroup-B-YAqW90.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";const W={class:"min-h-screen py-8"},Y={class:"max-w-6xl mx-auto px-4"},Z={class:"flex items-center mb-8"},ee={class:"flex flex-col md:flex-row gap-8"},te={class:"flex-shrink-0"},se={class:"flex-1 text-center md:text-left"},oe={class:"flex flex-col md:flex-row md:items-start md:justify-between mb-4"},ae={class:"text-3xl font-bold text-white mb-2 flex items-center justify-center md:justify-start gap-3"},re={class:"text-[#ff6e02] font-medium mb-2"},le={class:"flex items-center justify-center md:justify-start text-[#999999] text-sm gap-4 mb-4"},ie={key:0,class:"flex items-center gap-1"},ne={class:"flex items-center gap-1"},ce={key:0,class:"mt-4 md:mt-0"},de={key:0,class:"text-[#cccccc] mb-6 max-w-2xl"},me={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},fe={class:"text-center p-4 bg-[#1f2937] rounded-lg"},ue={class:"text-2xl font-bold text-white"},_e={class:"text-center p-4 bg-[#1f2937] rounded-lg"},pe={class:"text-2xl font-bold text-white"},he={class:"text-center p-4 bg-[#1f2937] rounded-lg"},xe={class:"text-2xl font-bold text-white"},ge={key:0,class:"text-center p-4 bg-[#1f2937] rounded-lg"},ve={class:"text-2xl font-bold text-white flex items-center justify-center gap-1"},we={key:1,class:"text-center md:text-left"},be=["href"],ye={class:"mb-8"},ke={class:"text-2xl font-bold text-white mb-6 flex items-center gap-3"},je={key:0,class:"text-center py-16"},Be={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ce={key:0,class:"aspect-video overflow-hidden"},Fe=["src","alt"],Se={class:"flex items-center justify-between mb-3"},$e={class:"flex items-center gap-2"},Ne={class:"text-lg"},Te={class:"text-lg font-semibold text-white hover:text-[#ff6e02] transition-colors mb-3 line-clamp-2"},Ue={key:0,class:"text-[#999999] text-sm mb-4 line-clamp-3"},Ee={class:"flex items-center gap-2 mb-4"},Le={class:"text-sm text-[#999999]"},Me={class:"flex items-center justify-between text-sm text-[#999999] pt-4 border-t border-[#4B5563]"},Ve={class:"flex items-center gap-4"},qe={class:"flex items-center gap-1"},Ae={class:"flex items-center gap-1"},De={class:"flex items-center gap-1"},Ie={class:"text-xs"},Pe={key:2,class:"mt-12 flex justify-center"},ze={class:"text-[#999999] text-sm"},Oe={key:0},He=V({__name:"Show",props:{creator:{},posts:{},isFollowing:{type:Boolean},canFollow:{type:Boolean}},setup(F){const u=F,p=g(u.isFollowing),v=g(u.creator.followers_count||0),_=g(!1),S={discussion:"讨论",tutorial:"教程",showcase:"展示",question:"问题"},$={discussion:"💬",tutorial:"📖",showcase:"🎨",question:"❓"},h=q(()=>{switch(u.creator.verification_status){case"verified":return{text:"已认证",class:"bg-green-500/20 text-green-400 border-green-500/30"};case"premium":return{text:"VIP创作者",class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"};case"expert":return{text:"专家",class:"bg-purple-500/20 text-purple-400 border-purple-500/30"};default:return null}});function w(t){return new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}function N(t){return t.split(" ").map(s=>s[0]).join("").toUpperCase()}const T=async()=>{if(!(!u.canFollow||_.value)){_.value=!0;try{const t=await fetch(`/creators/${u.creator.id}/follow`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},credentials:"same-origin"}),s=await t.json();t.ok&&s.success?(p.value=s.following,v.value=s.followers_count):(console.error("Follow toggle failed:",s.message||"Unknown error"),alert(s.message||"操作失败，请重试"))}catch(t){console.error("Error toggling follow:",t),alert("网络错误，请重试")}finally{_.value=!1}}};return(t,s)=>(l(),f(U,null,{default:c(()=>[r(o(A),{title:`${t.creator.display_name} - 创作者档案`},null,8,["title"]),e("div",W,[e("div",Y,[e("div",Z,[r(o(j),{href:"/community/creators",class:"mr-4"},{default:c(()=>[r(o(b),{variant:"ghost",size:"sm",class:"text-white hover:text-[#ff6e02]"},{default:c(()=>[r(o(P),{class:"h-4 w-4 mr-2"}),s[0]||(s[0]=n(" 返回创作者 ",-1))]),_:1,__:[0]})]),_:1})]),r(o(y),{class:"bg-[#374151] border-[#4B5563] mb-8"},{default:c(()=>[r(o(k),{class:"p-8"},{default:c(()=>[e("div",ee,[e("div",te,[r(o(E),{class:"h-32 w-32 mx-auto md:mx-0"},{default:c(()=>[t.creator.user.avatar?(l(),f(o(L),{key:0,src:t.creator.user.avatar,alt:t.creator.display_name},null,8,["src","alt"])):d("",!0),r(o(M),{class:"bg-[#ff6e02] text-white text-2xl font-bold"},{default:c(()=>[n(a(N(t.creator.display_name)),1)]),_:1})]),_:1})]),e("div",se,[e("div",oe,[e("div",null,[e("h1",ae,[n(a(t.creator.display_name)+" ",1),h.value?(l(),f(o(x),{key:0,class:B(h.value.class)},{default:c(()=>[n(a(h.value.text),1)]),_:1},8,["class"])):d("",!0)]),e("p",re,a(t.creator.specialty),1),e("div",le,[t.creator.location?(l(),m("span",ie,[r(o(z),{class:"h-4 w-4"}),n(" "+a(t.creator.location),1)])):d("",!0),e("span",ne,[r(o(O),{class:"h-4 w-4"}),n(" "+a(w(t.creator.joined_at||t.creator.user.created_at))+" 加入 ",1)])])]),t.canFollow?(l(),m("div",ce,[r(o(b),{onClick:T,disabled:_.value,class:B(p.value?"bg-transparent border-[#ff6e02] text-[#ff6e02] hover:bg-[#ff6e02] hover:text-white":"bg-[#ff6e02] hover:bg-[#e55a00] text-white")},{default:c(()=>[p.value?(l(),f(o(K),{key:1,class:"h-4 w-4 mr-2"})):(l(),f(o(H),{key:0,class:"h-4 w-4 mr-2"})),n(" "+a(_.value?"处理中...":p.value?"取消关注":"关注"),1)]),_:1},8,["disabled","class"])])):d("",!0)]),t.creator.bio?(l(),m("p",de,a(t.creator.bio),1)):d("",!0),e("div",me,[e("div",fe,[e("div",ue,a(v.value),1),s[1]||(s[1]=e("div",{class:"text-sm text-[#999999]"},"粉丝",-1))]),e("div",_e,[e("div",pe,a(t.creator.posts_count||0),1),s[2]||(s[2]=e("div",{class:"text-sm text-[#999999]"},"帖子",-1))]),e("div",he,[e("div",xe,a(t.creator.likes_received||0),1),s[3]||(s[3]=e("div",{class:"text-sm text-[#999999]"},"获赞",-1))]),t.creator.rating?(l(),m("div",ge,[e("div",ve,[n(a(t.creator.rating)+" ",1),r(o(R),{class:"h-5 w-5 text-yellow-400 fill-current"})]),s[4]||(s[4]=e("div",{class:"text-sm text-[#999999]"},"评分",-1))])):d("",!0)]),t.creator.website?(l(),m("div",we,[e("a",{href:t.creator.website,target:"_blank",rel:"noopener noreferrer",class:"text-[#ff6e02] hover:text-[#e55a00] underline"},a(t.creator.website),9,be)])):d("",!0)])])]),_:1})]),_:1}),e("div",ye,[e("h2",ke,[r(o(C),{class:"h-7 w-7 text-[#ff6e02]"}),s[5]||(s[5]=n(" 最新帖子 ",-1))]),t.posts.data.length===0?(l(),m("div",je,[r(o(C),{class:"h-16 w-16 text-[#666666] mx-auto mb-6"}),s[6]||(s[6]=e("h3",{class:"text-xl font-medium text-white mb-4"},"暂无发布内容",-1)),s[7]||(s[7]=e("p",{class:"text-[#999999] max-w-md mx-auto"}," 该创作者还没有发布任何内容，请稍后再来查看 ",-1))])):(l(),m("div",Be,[(l(!0),m(D,null,I(t.posts.data,i=>(l(),f(o(y),{key:i.id,class:"bg-[#374151] border-[#4B5563] hover:border-[#6B7280] transition-all duration-200 hover:scale-105 group overflow-hidden"},{default:c(()=>[i.images&&i.images.length>0?(l(),m("div",Ce,[e("img",{src:i.images[0],alt:i.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,Fe)])):d("",!0),r(o(k),{class:"p-6"},{default:c(()=>[e("div",Se,[e("div",$e,[e("span",Ne,a($[i.type]),1),r(o(x),{class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:c(()=>[n(a(S[i.type]),1)]),_:2},1024)]),i.is_featured?(l(),f(o(x),{key:0,class:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},{default:c(()=>s[8]||(s[8]=[n(" 精选 ",-1)])),_:1,__:[8]})):d("",!0)]),r(o(j),{href:`/posts/${i.slug}`},{default:c(()=>[e("h3",Te,a(i.title),1)]),_:2},1032,["href"]),i.excerpt?(l(),m("p",Ue,a(i.excerpt),1)):d("",!0),e("div",Ee,[s[9]||(s[9]=e("div",{class:"w-3 h-3 rounded-full bg-[#ff6e02]"},null,-1)),e("span",Le,a(i.category.name),1)]),e("div",Me,[e("div",Ve,[e("span",qe,[r(o(X),{class:"h-3 w-3"}),n(" "+a(i.view_count),1)]),e("span",Ae,[r(o(G),{class:"h-3 w-3"}),n(" "+a(i.like_count),1)]),e("span",De,[r(o(J),{class:"h-3 w-3"}),n(" "+a(i.comment_count),1)])]),e("span",Ie,a(w(i.published_at||i.created_at)),1)])]),_:2},1024)]),_:2},1024))),128))])),t.posts.data.length>0?(l(),m("div",Pe,[e("p",ze,[n(" 显示 "+a(t.posts.data.length)+" 篇帖子 ",1),t.posts.meta?.total?(l(),m("span",Oe," / 共 "+a(t.posts.meta.total)+" 篇",1)):d("",!0)])])):d("",!0)])])])]),_:1}))}}),gt=Q(He,[["__scopeId","data-v-e8941fee"]]);export{gt as default};
