import{a as z,_ as B}from"./CardContent.vue_vue_type_script_setup_true_lang-BycRxxhI.js";import{_ as c}from"./index-NptnU35y.js";import{a as b,_ as x}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-D94a62pg.js";import{d as A,i as d,o as a,c as f,j as i,e as t,y as h,w as n,b as e,t as o,n as C,F as k,s as I,a as l,x as v,f as p}from"./app-CwqX47Va.js";import{M as S}from"./message-square-DWhX2p81.js";import{H as _}from"./heart-CLTWDBDZ.js";import{E as g}from"./eye-Ch7bHwoO.js";import{C as D}from"./chef-hat-DPgyiVaj.js";import{C as j}from"./crown-CfgTvgp9.js";const V={class:"flex gap-3"},R={class:"flex-shrink-0"},T=["src","alt"],U={class:"flex-1 min-w-0"},E={class:"flex items-center gap-2 mb-1"},N={class:"font-semibold text-foreground text-sm"},P={class:"text-muted-foreground text-xs"},q={key:0,class:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},H={class:"text-base font-semibold text-foreground mb-2 hover:text-[#ff6e02] transition-colors line-clamp-2"},L={class:"text-sm text-muted-foreground line-clamp-2 mb-3"},F=["src","alt"],G={class:"flex items-center gap-6 text-sm text-muted-foreground"},J={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},K={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},O={class:"flex items-center gap-1.5"},Q={class:"flex gap-3"},W={key:0,class:"flex-shrink-0"},X=["src","alt"],Y={class:"flex-1 min-w-0"},Z={key:0,class:"flex items-center justify-between mb-2"},ss={class:"flex items-center gap-2 flex-wrap"},es={class:"flex items-center gap-1"},ts={class:"text-white font-medium text-sm"},os={class:"text-[#999999] text-xs"},as={class:"flex items-center gap-2 mb-2 flex-wrap"},rs={key:3,class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},ls={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},ns={class:"text-[#999999] text-sm line-clamp-2 mb-3"},is={key:1,class:"grid grid-cols-3 gap-2 mb-3 max-w-md"},ps=["src","alt"],ds={key:2,class:"flex items-center gap-6 text-xs text-[#999999]"},us={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},fs={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},cs={class:"flex items-center gap-1"},ms={key:2,class:"listclass hover:shadow-lg transition-all duration-200"},hs={class:"pb-3"},_s={class:"flex items-center gap-2 u-m-b-15"},gs={class:"font32 colorfff line-clamp-2 u-m-b-10"},vs={class:"font24 color999 line-clamp-3 u-m-b-15"},ws={key:0,class:"flex-x-center gap-2 u-m-b-15"},ys={class:"font24 color999"},bs={class:"font24 color666 ml-auto"},xs={key:1,class:"flex-x-center justify-between u-m-t-15 u-p-t-15 border-t border-[#333333]"},ks={class:"flex-x-center gap-4 font24 color999"},$s={class:"flex-x-center gap-1"},Cs={class:"flex-x-center gap-1"},Is={key:3,class:"listclass"},Ss={class:"flex-x items-start gap-4"},js={class:"flex-1 min-w-0"},Ms={class:"flex-x-center gap-2 u-m-b-10"},zs={class:"font24 color666"},Bs={class:"font32 colorfff line-clamp-1 u-m-b-10"},As={class:"font24 color999 line-clamp-2 u-m-b-10"},Ds={class:"flex-x-center justify-between"},Vs={key:0,class:"font24 color999"},Rs={key:1,class:"flex-x-center gap-3 font24 color999"},Ts={class:"flex-x-center gap-1"},Us={class:"flex-x-center gap-1"},Es={key:4,class:"listclass hover:shadow-lg transition-all duration-200"},Ns={class:"flex-y"},Ps={class:"flex-x items-center gap-2 u-m-b-15"},qs={class:"font32 colorfff line-clamp-2 u-m-b-10"},Hs={class:"font24 color999 line-clamp-2 u-m-b-15"},Ls={key:0,class:"flex-x-center gap-2 u-m-b-15"},Fs={class:"font24 color999"},Gs={class:"flex-x-center justify-between"},Js={key:0,class:"flex-x-center gap-4 font24 color999"},Ks={class:"flex-x-center gap-1"},Os={class:"flex-x-center gap-1"},Qs={class:"font24 color666"},le=A({__name:"PostCard",props:{post:{},variant:{default:"default"},showAuthor:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showReadMore:{type:Boolean,default:!0},showImages:{type:Boolean,default:!0}},setup(Ws){const w=s=>s.split(" ").map(r=>r[0]).join("").toUpperCase(),y=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),$=s=>{const r=new Date(s),u=Math.floor((new Date().getTime()-r.getTime())/1e3);return u<60?"刚刚":u<3600?`${Math.floor(u/60)}分钟前`:u<86400?`${Math.floor(u/3600)}小时前`:u<604800?`${Math.floor(u/86400)}天前`:r.toLocaleDateString("zh-CN")},M=s=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[s]||s;return(s,r)=>(a(),d(k,null,[s.variant==="home"?(a(),f(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"block hover:bg-accent/50 transition-colors px-4 py-3 border-b border-border"},{default:n(()=>[e("div",V,[e("div",R,[e("img",{src:s.post.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-10 h-10 rounded-full object-cover",alt:s.post.user.name,onError:r[0]||(r[0]=m=>m.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,T)]),e("div",U,[e("div",E,[e("span",N,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),r[2]||(r[2]=e("span",{class:"text-muted-foreground text-xs"},"·",-1)),e("span",P,o($(s.post.published_at)),1),s.post.has_video?(a(),d("span",q," 视频 ")):i("",!0)]),e("h3",H,o(s.post.title),1),e("p",L,o(s.post.excerpt),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),d("div",{key:0,class:C(["grid gap-1 mb-3 rounded-sm overflow-hidden",{"grid-cols-1":s.post.post_images.length===1,"grid-cols-2":s.post.post_images.length===2,"grid-cols-3":s.post.post_images.length>=3}])},[(a(!0),d(k,null,I(s.post.post_images.slice(0,3),(m,u)=>(a(),d("div",{key:u,class:C(["relative overflow-hidden",{"aspect-video":s.post.post_images.length===1,"aspect-square":s.post.post_images.length>=2}])},[e("img",{src:m.thumb||m.url,class:"w-full h-full object-cover",alt:`${s.post.title} - Image ${u+1}`},null,8,F)],2))),128))],2)):i("",!0),e("div",G,[e("span",J,[l(t(S),{class:"h-4 w-4"}),e("span",null,o(s.post.comment_count||0),1)]),e("span",K,[l(t(_),{class:"h-4 w-4"}),e("span",null,o(s.post.like_count),1)]),e("span",O,[l(t(g),{class:"h-4 w-4"}),e("span",null,o(s.post.view_count),1)])])])])]),_:1},8,["href"])):s.variant==="list"?(a(),f(t(h),{key:1,href:`/posts/${s.post.slug}`,class:"block group"},{default:n(()=>[l(t(B),{class:"bg-transparent border-0 shadow-none"},{default:n(()=>[l(t(z),{class:"p-2 px-2"},{default:n(()=>[e("div",Q,[s.showAuthor&&s.post.user?(a(),d("div",W,[e("img",{src:s.post.user.avatar?`/storage/${s.post.user.avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover",alt:s.post.user.name,onError:r[1]||(r[1]=m=>m.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,X)])):i("",!0),e("div",Y,[s.showAuthor&&s.post.user?(a(),d("div",Z,[e("div",ss,[e("div",es,[e("span",ts,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),f(t(D),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):i("",!0)]),r[3]||(r[3]=e("span",{class:"text-[#999999] text-xs"},"·",-1)),e("span",os,o($(s.post.published_at)),1)])])):i("",!0),e("div",as,[l(t(c),{class:"text-white text-xs px-2 py-0.5",style:v({backgroundColor:s.post.category.color})},{default:n(()=>[p(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.type?(a(),f(t(c),{key:0,variant:"outline",class:"text-[#999999] border-[#999999] text-xs px-2 py-0.5"},{default:n(()=>[p(o(M(s.post.type)),1)]),_:1})):i("",!0),s.post.is_featured?(a(),f(t(c),{key:1,class:"bg-[#ff6e02] text-white text-xs px-2 py-0.5"},{default:n(()=>r[4]||(r[4]=[p(" 精选 ",-1)])),_:1,__:[4]})):i("",!0),s.post.is_premium?(a(),f(t(c),{key:2,class:"bg-yellow-500 text-white text-xs px-2 py-0.5"},{default:n(()=>r[5]||(r[5]=[p(" ⭐ VIP ",-1)])),_:1,__:[5]})):i("",!0),s.post.has_video?(a(),d("span",rs," 视频 ")):i("",!0)]),e("h3",ls,o(s.post.title),1),e("p",ns,o(s.post.excerpt),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),d("div",is,[(a(!0),d(k,null,I(s.post.post_images.slice(0,3),(m,u)=>(a(),d("div",{key:u,class:"relative overflow-hidden rounded-lg aspect-square"},[e("img",{src:m.thumb||m.url,class:"w-full h-full object-cover",alt:`${s.post.title} - Image ${u+1}`},null,8,ps)]))),128))])):i("",!0),s.showStats?(a(),d("div",ds,[e("span",us,[l(t(S),{class:"w-4 h-4"}),p(" "+o(s.post.comment_count||0),1)]),e("span",fs,[l(t(_),{class:"w-4 h-4"}),p(" "+o(s.post.like_count),1)]),e("span",cs,[l(t(g),{class:"w-4 h-4"}),p(" "+o(s.post.view_count),1)])])):i("",!0)])])]),_:1})]),_:1})]),_:1},8,["href"])):i("",!0),s.variant==="featured"?(a(),d("div",ms,[e("div",hs,[e("div",_s,[l(t(c),{style:v({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:n(()=>[p(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.is_premium?(a(),f(t(c),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:n(()=>[l(t(j),{class:"w-3 h-3 mr-1"}),r[6]||(r[6]=p(" VIP ",-1))]),_:1,__:[6]})):i("",!0)]),e("h3",gs,[l(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:n(()=>[p(o(s.post.title),1)]),_:1},8,["href"])]),e("p",vs,o(s.post.excerpt),1)]),e("div",null,[s.showAuthor?(a(),d("div",ws,[l(t(x),{class:"h-6 w-6"},{default:n(()=>[l(t(b),{class:"text-xs bg-[#ff6e02] text-white"},{default:n(()=>[p(o(w(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1}),e("span",ys,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),f(t(c),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:n(()=>r[7]||(r[7]=[p(" ✓ ",-1)])),_:1,__:[7]})):i("",!0),e("span",bs,o(y(s.post.published_at)),1)])):i("",!0),s.showStats?(a(),d("div",xs,[e("div",ks,[e("div",$s,[l(t(g),{class:"w-4 h-4"}),e("span",null,o(s.post.view_count),1)]),e("div",Cs,[l(t(_),{class:"w-4 h-4"}),e("span",null,o(s.post.like_count),1)])]),s.showReadMore?(a(),f(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"font24 colorz hover:text-white transition-colors"},{default:n(()=>r[8]||(r[8]=[p(" 查看更多 → ",-1)])),_:1,__:[8]},8,["href"])):i("",!0)])):i("",!0)])])):s.variant==="compact"?(a(),d("div",Is,[e("div",Ss,[s.showAuthor?(a(),f(t(x),{key:0,class:"h-10 w-10"},{default:n(()=>[l(t(b),{class:"bg-[#ff6e02] text-white"},{default:n(()=>[p(o(w(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1})):i("",!0),e("div",js,[e("div",Ms,[l(t(c),{style:v({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:n(()=>[p(o(s.post.category.name),1)]),_:1},8,["style"]),e("span",zs,o(y(s.post.published_at)),1)]),e("h3",Bs,[l(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:n(()=>[p(o(s.post.title),1)]),_:1},8,["href"])]),e("p",As,o(s.post.excerpt),1),e("div",Ds,[s.showAuthor?(a(),d("span",Vs,o(s.post.user.creator_profile?.display_name||s.post.user.name),1)):i("",!0),s.showStats?(a(),d("div",Rs,[e("span",Ts,[l(t(g),{class:"w-3 h-3"}),p(" "+o(s.post.view_count),1)]),e("span",Us,[l(t(_),{class:"w-3 h-3"}),p(" "+o(s.post.like_count),1)])])):i("",!0)])])])])):(a(),d("div",Es,[e("div",Ns,[e("div",Ps,[l(t(c),{style:v({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:n(()=>[p(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.is_premium?(a(),f(t(c),{key:0,variant:"default",class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:n(()=>[l(t(j),{class:"w-3 h-3 mr-1"}),r[9]||(r[9]=p(" VIP ",-1))]),_:1,__:[9]})):i("",!0)]),e("h3",qs,[l(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:n(()=>[p(o(s.post.title),1)]),_:1},8,["href"])]),e("p",Hs,o(s.post.excerpt),1),s.showAuthor?(a(),d("div",Ls,[l(t(x),{class:"h-6 w-6"},{default:n(()=>[l(t(b),{class:"text-xs bg-[#ff6e02] text-white"},{default:n(()=>[p(o(w(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1}),e("span",Fs,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),f(t(c),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:n(()=>r[10]||(r[10]=[p(" ✓ ",-1)])),_:1,__:[10]})):i("",!0)])):i("",!0),e("div",Gs,[s.showStats?(a(),d("div",Js,[e("div",Ks,[l(t(g),{class:"w-4 h-4"}),e("span",null,o(s.post.view_count),1)]),e("div",Os,[l(t(_),{class:"w-4 h-4"}),e("span",null,o(s.post.like_count),1)])])):i("",!0),e("span",Qs,o(y(s.post.published_at)),1)])])]))],64))}});export{le as _};
