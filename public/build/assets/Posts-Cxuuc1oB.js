import{d as F,l as j,c as _,o,w as n,b as t,i as r,j as f,a as i,e as a,y as x,f as d,t as c,m as I,k as U,F as g,s as h,q as z,n as y,x as E,r as w}from"./app-mRNHHJ5y.js";import{_ as P}from"./WebLayout.vue_vue_type_script_setup_true_lang-4WwuAn1w.js";import{_ as T}from"./index-dIlapslU.js";import{_ as k,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-Cv7JTwT2.js";import{_ as M}from"./CardHeader.vue_vue_type_script_setup_true_lang-tU42TayU.js";import{_ as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-SLmDZP6H.js";import{_ as v}from"./index-C8Qg3qRG.js";import{_ as G,a as K}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-U4-4ZzhD.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-3x2e9IKC.js";import{S as V}from"./search-DLWAQyi-.js";import{T as J}from"./tag-TZNJ9Igk.js";import{c as O}from"./createLucideIcon-CDC2VEs-.js";import{T as Q}from"./trending-up-CC0_L_mm.js";import{C as R}from"./chef-hat-MEx69zbj.js";import{C as W}from"./calendar-CvM1CYqF.js";import{E as X}from"./eye-2lvYmQYV.js";import{H as Y}from"./heart-Cy-KuZTh.js";import{M as Z}from"./message-square-_AScw1x5.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-M3EFLJlF.js";import"./user-BMoOPv-g.js";import"./Primitive-CvJ0vu-v.js";import"./index-7bJkH70K.js";import"./useForwardExpose-Bl32_82v.js";import"./usePrimitiveElement-hcvdO7w1.js";import"./RovingFocusGroup-CMybDdW8.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=O("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),te={class:"max-w-[1000px] mx-auto px-4 py-6"},se={class:"mb-8"},le={class:"flex items-center gap-2 mb-4 text-sm text-[#999999]"},ae={key:0,class:"text-white"},oe={key:1,class:"text-white"},ie={class:"flex items-center justify-between mb-6"},re={class:"text-2xl sm:text-3xl font-bold text-white mb-2"},ne={key:0,class:"flex items-center gap-2"},ce={class:"text-2xl"},de={key:1},fe={class:"text-[#999999]"},ue={key:0},me={key:1},pe={key:0},_e={key:0,class:"bg-[#374151] rounded-lg p-4 mb-6"},xe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ge={class:"md:col-span-2"},he={class:"relative"},ye=["value"],ve={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},be={key:0,class:"lg:col-span-1"},we=["onClick"],ke={class:"flex items-center gap-2"},Ce={class:"text-sm"},$e={class:"text-sm"},je={key:0,class:"text-xs bg-[#1f2937] px-2 py-1 rounded"},Te={class:"flex flex-row lg:flex-col items-center justify-around lg:justify-start lg:space-y-3 gap-2 lg:gap-0"},Me={class:"flex flex-col lg:flex-row items-center lg:justify-between text-center lg:text-left w-full"},Se={class:"text-white font-medium text-sm lg:text-base"},Ve={key:0,class:"flex flex-col lg:flex-row items-center lg:justify-between text-center lg:text-left w-full"},qe={class:"text-white font-medium text-sm lg:text-base"},De={key:0,class:"space-y-4"},He={class:"flex items-start gap-4"},Le={class:"w-16 h-12 bg-[#1f2937] rounded-lg flex-shrink-0 overflow-hidden"},Ne=["src","alt"],Be={key:1,class:"w-full h-full flex items-center justify-center"},Fe={class:"text-lg"},Ie={class:"flex-1 min-w-0"},Ue={class:"flex items-start justify-between mb-2"},ze={class:"flex items-center gap-2 mb-1"},Ee={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},Pe={class:"text-[#999999] text-sm line-clamp-2 mb-3"},Ge={class:"flex items-center justify-between"},Ke={class:"flex items-center gap-3"},Ae={class:"flex items-center gap-2"},Je={class:"text-xs text-[#999999]"},Oe={class:"flex items-center gap-1 text-xs text-[#999999]"},Qe={class:"flex items-center gap-4 text-xs text-[#999999]"},Re={class:"flex items-center gap-1"},We={class:"flex items-center gap-1"},Xe={class:"flex items-center gap-1"},Ye={key:1,class:"text-center py-12"},Ze={class:"text-[#999999] mb-4"},et={key:0},tt={key:1},st={key:2,class:"mt-8"},lt={class:"flex items-center justify-center gap-2"},Dt=F({__name:"Posts",props:{posts:{},categories:{},selectedCategory:{},filters:{}},setup(q){const p=q,u=j(p.filters.search||""),m=j(p.filters.type||""),D=l=>l.split(" ").map(e=>e[0]).join("").toUpperCase(),H=l=>new Date(l).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),L=l=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[l]||l,$=()=>{const l={};u.value&&(l.search=u.value),m.value&&(l.type=m.value),p.filters.category&&(l.category=p.filters.category),w.get("/community/posts",l,{preserveState:!0,replace:!0})},b=l=>{const e={};l&&(e.category=l),u.value&&(e.search=u.value),m.value&&(e.type=m.value),w.get("/community/posts",e,{preserveState:!0,replace:!0})},N=l=>{m.value=l||"";const e={};l&&(e.type=l),p.filters.category&&(e.category=p.filters.category),u.value&&(e.search=u.value),w.get("/community/posts",e,{preserveState:!0,replace:!0})},B=[{value:"tutorial",label:"教程",icon:"📚"},{value:"discussion",label:"讨论",icon:"💬"},{value:"showcase",label:"展示",icon:"🎨"},{value:"question",label:"问答",icon:"❓"}];return(l,e)=>(o(),_(P,null,{default:n(()=>[t("div",te,[t("div",se,[t("div",le,[i(a(x),{href:"/",class:"hover:text-[#ff6e02]"},{default:n(()=>e[5]||(e[5]=[d("首页",-1)])),_:1,__:[5]}),e[6]||(e[6]=t("span",null,"/",-1)),l.selectedCategory?(o(),r("span",ae,c(l.selectedCategory.name),1)):(o(),r("span",oe,"社区帖子"))]),t("div",ie,[t("div",null,[t("h1",re,[l.selectedCategory?(o(),r("span",ne,[t("span",ce,c(l.selectedCategory.icon||"📝"),1),d(" "+c(l.selectedCategory.name),1)])):(o(),r("span",de,"社区帖子"))]),t("p",fe,[l.selectedCategory?(o(),r("span",ue,"浏览 "+c(l.selectedCategory.name)+" 分类下的所有内容",1)):(o(),r("span",me,"探索社区中的精彩内容和讨论"))])]),l.selectedCategory?(o(),r("div",pe,[i(a(x),{href:"/",class:"inline-flex items-center gap-2 px-4 py-2 bg-[#ff6e02] text-white rounded-lg hover:bg-[#e55a00] transition-colors"},{default:n(()=>e[7]||(e[7]=[t("span",null,"返回首页",-1)])),_:1,__:[7]})])):f("",!0)]),l.selectedCategory?f("",!0):(o(),r("div",_e,[t("div",xe,[t("div",ge,[t("div",he,[i(a(V),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#999999] w-4 h-4"}),i(a(A),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),placeholder:"搜索帖子...",class:"pl-10 bg-[#1f2937] border-[#1f2937] text-white placeholder:text-[#999999]",onKeyup:I($,["enter"])},null,8,["modelValue"])])]),t("div",null,[U(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.value=s),onChange:e[2]||(e[2]=s=>N(m.value)),class:"w-full px-3 py-2 bg-[#1f2937] border border-[#1f2937] rounded-md text-white"},[e[8]||(e[8]=t("option",{value:""},"所有类型",-1)),(o(),r(g,null,h(B,s=>t("option",{key:s.value,value:s.value},c(s.icon)+" "+c(s.label),9,ye)),64))],544),[[z,m.value]])]),t("div",null,[i(a(T),{onClick:$,class:"w-full bg-[#ff6e02] text-white hover:bg-[#e55a00]"},{default:n(()=>[i(a(V),{class:"w-4 h-4 mr-2"}),e[9]||(e[9]=d(" 搜索 ",-1))]),_:1,__:[9]})])])]))]),t("div",ve,[l.selectedCategory?f("",!0):(o(),r("div",be,[i(a(k),{class:"bg-[#374151] border-0 mb-6"},{default:n(()=>[i(a(M),{class:"pb-3"},{default:n(()=>[i(a(S),{class:"text-white text-base flex items-center gap-2"},{default:n(()=>[i(a(J),{class:"w-4 h-4"}),e[10]||(e[10]=d(" 分类筛选 ",-1))]),_:1,__:[10]})]),_:1}),i(a(C),{class:"space-y-2"},{default:n(()=>[t("button",{onClick:e[3]||(e[3]=s=>b(null)),class:y(["w-full text-left p-2 rounded-lg transition-colors flex items-center gap-2",l.filters.category?"text-[#999999] hover:text-white hover:bg-[#1f2937]":"bg-[#ff6e02] text-white"])},[i(a(ee),{class:"w-4 h-4"}),e[11]||(e[11]=t("span",{class:"text-sm"},"全部分类",-1))],2),(o(!0),r(g,null,h(l.categories,s=>(o(),r("button",{key:s.id,onClick:at=>b(s.slug),class:y(["w-full text-left p-2 rounded-lg transition-colors flex items-center justify-between",l.filters.category===s.slug?"bg-[#ff6e02] text-white":"text-[#999999] hover:text-white hover:bg-[#1f2937]"])},[t("div",ke,[t("span",Ce,c(s.icon||"📝"),1),t("span",$e,c(s.name),1)]),s.posts_count?(o(),r("span",je,c(s.posts_count),1)):f("",!0)],10,we))),128))]),_:1})]),_:1}),i(a(k),{class:"bg-[#374151] border-0"},{default:n(()=>[i(a(M),{class:"pb-2 lg:pb-3"},{default:n(()=>[i(a(S),{class:"text-white text-sm lg:text-base flex items-center gap-2"},{default:n(()=>[i(a(Q),{class:"w-3 h-3 lg:w-4 lg:h-4"}),e[12]||(e[12]=d(" 统计信息 ",-1))]),_:1,__:[12]})]),_:1}),i(a(C),{class:"py-2 lg:py-3"},{default:n(()=>[t("div",Te,[t("div",Me,[e[13]||(e[13]=t("span",{class:"text-xs lg:text-sm text-[#999999]"},"总帖子数",-1)),t("span",Se,c(l.posts.total),1)]),l.selectedCategory?(o(),r("div",Ve,[e[14]||(e[14]=t("span",{class:"text-xs lg:text-sm text-[#999999]"},"当前分类",-1)),t("span",qe,c(l.posts.data.length),1)])):f("",!0)])]),_:1})]),_:1})])),t("div",{class:y(l.selectedCategory?"lg:col-span-4":"lg:col-span-3")},[l.posts.data.length>0?(o(),r("div",De,[(o(!0),r(g,null,h(l.posts.data,s=>(o(),_(a(x),{key:s.id,href:`/posts/${s.slug}`,class:"block group"},{default:n(()=>[i(a(k),{class:"bg-[#374151] border-0 hover:bg-[#1f2937] transition-colors"},{default:n(()=>[i(a(C),{class:"p-4"},{default:n(()=>[t("div",He,[t("div",Le,[s.first_image?(o(),r("img",{key:0,src:s.first_image.thumb,alt:s.title,class:"w-full h-full object-cover"},null,8,Ne)):(o(),r("div",Be,[t("span",Fe,c(s.category.icon||"📝"),1)]))]),t("div",Ie,[t("div",Ue,[t("div",ze,[i(a(v),{class:"text-white text-xs px-2 py-1",style:E({backgroundColor:s.category.color})},{default:n(()=>[d(c(s.category.name),1)]),_:2},1032,["style"]),i(a(v),{variant:"outline",class:"text-[#999999] border-[#999999] text-xs"},{default:n(()=>[d(c(L(s.type)),1)]),_:2},1024),s.is_featured?(o(),_(a(v),{key:0,class:"bg-[#ff6e02] text-white text-xs"},{default:n(()=>e[15]||(e[15]=[d(" 精选 ",-1)])),_:1,__:[15]})):f("",!0),s.is_premium?(o(),_(a(v),{key:1,class:"bg-yellow-500 text-white text-xs"},{default:n(()=>e[16]||(e[16]=[d(" ⭐ VIP ",-1)])),_:1,__:[16]})):f("",!0)])]),t("h3",Ee,c(s.title),1),t("p",Pe,c(s.excerpt),1),t("div",Ge,[t("div",Ke,[t("div",Ae,[i(a(G),{class:"w-6 h-6"},{default:n(()=>[i(a(K),{class:"bg-[#1f2937] text-white text-xs"},{default:n(()=>[d(c(D(s.user.creator_profile?.display_name||s.user.name)),1)]),_:2},1024)]),_:2},1024),t("span",Je,c(s.user.creator_profile?.display_name||s.user.name),1),s.user.creator_profile?.verification_status==="verified"?(o(),_(a(R),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):f("",!0)]),t("div",Oe,[i(a(W),{class:"w-3 h-3"}),d(" "+c(H(s.published_at)),1)])]),t("div",Qe,[t("span",Re,[i(a(X),{class:"w-3 h-3"}),d(" "+c(s.view_count),1)]),t("span",We,[i(a(Y),{class:"w-3 h-3"}),d(" "+c(s.like_count),1)]),t("span",Xe,[i(a(Z),{class:"w-3 h-3"}),d(" "+c(s.comment_count),1)])])])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))])):(o(),r("div",Ye,[e[18]||(e[18]=t("div",{class:"text-6xl mb-4"},"📝",-1)),e[19]||(e[19]=t("h3",{class:"text-white text-lg font-medium mb-2"},"暂无帖子",-1)),t("p",Ze,[l.selectedCategory?(o(),r("span",et,"该分类下暂时没有帖子")):(o(),r("span",tt,"暂时没有符合条件的帖子"))]),i(a(T),{onClick:e[4]||(e[4]=s=>b(null)),variant:"outline",class:"text-[#ff6e02] border-[#ff6e02]"},{default:n(()=>e[17]||(e[17]=[d(" 浏览所有帖子 ",-1)])),_:1,__:[17]})])),l.posts.last_page>1?(o(),r("div",st,[t("div",lt,[(o(!0),r(g,null,h(l.posts.links,s=>(o(),_(a(x),{key:s.label,href:s.url||"#",class:y(["px-3 py-2 rounded text-sm transition-colors",s.active?"bg-[#ff6e02] text-white":s.url?"bg-[#374151] text-white hover:bg-[#1f2937]":"bg-[#374151] text-[#999999] cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):f("",!0)],2)])])]),_:1}))}});export{Dt as default};
