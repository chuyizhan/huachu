import{d as y,H as N,c as q,o as _,w as s,z as w,D as x,e as t,i as v,b as c,j as C,t as A,n as O,l as L,a as r,f as n,ah as F,L as z,h as M,y as R,aj as U,k as G,M as J}from"./app-Ca0afq3n.js";import{q as b,b as K}from"./index-dW9Vi417.js";import{_ as D}from"./InputError.vue_vue_type_script_setup_true_lang-C3SrCxy1.js";import{_ as Q}from"./index-G1C2CR8F.js";import{_ as W,a as X,b as Y,c as Z,d as ee}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CK86zuvy.js";import{i as te,d as re}from"./DialogTitle-BDlYXDl3.js";import{P as ae,c as se}from"./Primitive-CCTnzWDl.js";import{b as oe}from"./useForwardExpose-DohNH0gZ.js";import{a as le}from"./RovingFocusGroup-CGclM9bG.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-C8Zmhzql.js";import{_ as B}from"./Label.vue_vue_type_script_setup_true_lang-N9_9sBsz.js";import{_ as ie,a as de}from"./CardContent.vue_vue_type_script_setup_true_lang-CgsRRZyd.js";import{_ as ue}from"./CardDescription.vue_vue_type_script_setup_true_lang-CI4PSbYG.js";import{_ as ne}from"./CardHeader.vue_vue_type_script_setup_true_lang-4fONgwlj.js";import{_ as me}from"./CardTitle.vue_vue_type_script_setup_true_lang-Ba9ncbbw.js";import{_ as fe}from"./WebLayout.vue_vue_type_script_setup_true_lang-D-woEnGy.js";import{_ as ce}from"./Layout.vue_vue_type_script_setup_true_lang-BAnBMdHE.js";import"./usePrimitiveElement-B7nxCNRu.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-DK07fgD3.js";import"./createLucideIcon-DPfk0LRx.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DdLuJfG1.js";import"./index-B5jfIQZK.js";var _e=y({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e,l=te(),{forwardRef:o,currentElement:i}=oe();return l.contentId||=le(void 0,"reka-dialog-content"),N(()=>{l.triggerElement.value=i.value}),(h,$)=>(_(),q(t(ae),x(a,{ref:t(o),type:h.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(l).open.value||!1,"aria-controls":t(l).open.value?t(l).contentId:void 0,"data-state":t(l).open.value?"open":"closed",onClick:t(l).onOpenToggle}),{default:s(()=>[w(h.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),pe=_e;const m=e=>({url:m.url(e),method:"get"});m.definition={methods:["get","head"],url:"/settings/profile"};m.url=e=>m.definition.url+b(e);m.get=e=>({url:m.url(e),method:"get"});m.head=e=>({url:m.url(e),method:"head"});const T=e=>({action:m.url(e),method:"get"});T.get=e=>({action:m.url(e),method:"get"});T.head=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});m.form=T;const p=e=>({url:p.url(e),method:"patch"});p.definition={methods:["patch"],url:"/settings/profile"};p.url=e=>p.definition.url+b(e);p.patch=e=>({url:p.url(e),method:"patch"});const H=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});H.patch=e=>({action:p.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});p.form=H;const g=e=>({url:g.url(e),method:"delete"});g.definition={methods:["delete"],url:"/settings/profile"};g.url=e=>g.definition.url+b(e);g.delete=e=>({url:g.url(e),method:"delete"});const S=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});S.delete=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});g.form=S;const V={edit:m,update:p,destroy:g},d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/verify-email"};d.url=e=>d.definition.url+b(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const P=e=>({action:d.url(e),method:"get"});P.get=e=>({action:d.url(e),method:"get"});P.head=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});d.form=P;const u=(e,a)=>({url:u.url(e,a),method:"get"});u.definition={methods:["get","head"],url:"/verify-email/{id}/{hash}"};u.url=(e,a)=>{Array.isArray(e)&&(e={id:e[0],hash:e[1]}),e=K(e);const l={id:e.id,hash:e.hash};return u.definition.url.replace("{id}",l.id.toString()).replace("{hash}",l.hash.toString()).replace(/\/+$/,"")+b(a)};u.get=(e,a)=>({url:u.url(e,a),method:"get"});u.head=(e,a)=>({url:u.url(e,a),method:"head"});const j=(e,a)=>({action:u.url(e,a),method:"get"});j.get=(e,a)=>({action:u.url(e,a),method:"get"});j.head=(e,a)=>({action:u.url(e,{[a?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...a?.query??a?.mergeQuery??{}}}),method:"get"});u.form=j;const f=e=>({url:f.url(e),method:"post"});f.definition={methods:["post"],url:"/email/verification-notification"};f.url=e=>f.definition.url+b(e);f.post=e=>({url:f.url(e),method:"post"});const I=e=>({action:f.url(e),method:"post"});I.post=e=>({action:f.url(e),method:"post"});f.form=I;Object.assign(d,d),Object.assign(u,u),Object.assign(f,f);const ge={class:"mb-0.5 text-base font-medium"},he={key:0,class:"text-sm text-muted-foreground"},ye=y({__name:"HeadingSmall",props:{title:{},description:{}},setup(e){return(a,l)=>(_(),v("header",null,[c("h3",ge,A(a.title),1),a.description?(_(),v("p",he,A(a.description),1)):C("",!0)]))}}),ve=y({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(l,o)=>(_(),q(t(re),x({"data-slot":"dialog-close"},a),{default:s(()=>[w(l.$slots,"default")]),_:3},16))}}),be=y({__name:"DialogFooter",props:{class:{}},setup(e){const a=e;return(l,o)=>(_(),v("div",{"data-slot":"dialog-footer",class:O(t(se)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a.class))},[w(l.$slots,"default")],2))}}),xe=y({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(l,o)=>(_(),q(t(pe),x({"data-slot":"dialog-trigger"},a),{default:s(()=>[w(l.$slots,"default")]),_:3},16))}}),$e={class:"space-y-6"},Qe={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},qe={class:"grid gap-2"},we=y({__name:"DeleteUser",setup(e){const a=L(null);return(l,o)=>(_(),v("div",$e,[r(ye,{title:"删除账户",description:"删除你的账户及其所有资源"}),c("div",Qe,[o[7]||(o[7]=c("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[c("p",{class:"font-medium"},"警告"),c("p",{class:"text-sm"}," 请谨慎操作，此操作无法撤销。 ")],-1)),r(t(ee),null,{default:s(()=>[r(t(xe),{"as-child":""},{default:s(()=>[r(t(Q),{variant:"destructive","data-test":"delete-user-button"},{default:s(()=>o[1]||(o[1]=[n("删除账户",-1)])),_:1,__:[1]})]),_:1}),r(t(W),null,{default:s(()=>[r(t(F),x(t(V).destroy.form(),{"reset-on-success":"",onError:o[0]||(o[0]=()=>a.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:s(({errors:i,processing:h,reset:$,clearErrors:k})=>[r(t(X),{class:"space-y-3"},{default:s(()=>[r(t(Y),null,{default:s(()=>o[2]||(o[2]=[n("确定要删除你的账户吗？",-1)])),_:1,__:[2]}),r(t(Z),null,{default:s(()=>o[3]||(o[3]=[n(" 一旦删除你的账户，其所有资源和数据也将被永久删除。请输入你的密码以确认你希望永久删除你的账户。 ",-1)])),_:1,__:[3]})]),_:1}),c("div",qe,[r(t(B),{for:"password",class:"sr-only"},{default:s(()=>o[4]||(o[4]=[n("密码",-1)])),_:1,__:[4]}),r(t(E),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:a,placeholder:"密码"},null,512),r(D,{message:i.password},null,8,["message"])]),r(t(be),{class:"gap-2"},{default:s(()=>[r(t(ve),{"as-child":""},{default:s(()=>[r(t(Q),{variant:"secondary",onClick:()=>{k(),$()}},{default:s(()=>o[5]||(o[5]=[n(" 取消 ",-1)])),_:2,__:[5]},1032,["onClick"])]),_:2},1024),r(t(Q),{type:"submit",variant:"destructive",disabled:h,"data-test":"confirm-delete-user-button"},{default:s(()=>o[6]||(o[6]=[n(" 删除账户 ",-1)])),_:2,__:[6]},1032,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),ke={class:"grid gap-2"},Ce={class:"grid gap-2"},De={key:0},Ee={class:"-mt-4 text-sm text-[#999999]"},Be={key:0,class:"mt-2 text-sm font-medium text-green-500"},Te={class:"flex items-center gap-4"},Pe={class:"text-sm text-green-500"},rt=y({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const l=z().props.auth.user;return(o,i)=>(_(),q(fe,null,{default:s(()=>[r(t(M),{title:"个人资料设置"}),r(ce,null,{default:s(()=>[r(t(ie),{class:"bg-[#374151] border-[#4B5563]"},{default:s(()=>[r(t(ne),null,{default:s(()=>[r(t(me),{class:"text-white"},{default:s(()=>i[0]||(i[0]=[n("个人信息",-1)])),_:1,__:[0]}),r(t(ue),{class:"text-[#999999]"},{default:s(()=>i[1]||(i[1]=[n("更新你的姓名和邮箱地址",-1)])),_:1,__:[1]})]),_:1}),r(t(de),null,{default:s(()=>[r(t(F),x(t(V).update.form(),{class:"space-y-6"}),{default:s(({errors:h,processing:$,recentlySuccessful:k})=>[c("div",ke,[r(t(B),{for:"name",class:"text-white"},{default:s(()=>i[2]||(i[2]=[n("姓名",-1)])),_:1,__:[2]}),r(t(E),{id:"name",class:"bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]",name:"name","default-value":t(l).name,required:"",autocomplete:"name",placeholder:"输入你的姓名"},null,8,["default-value"]),r(D,{class:"mt-2",message:h.name},null,8,["message"])]),c("div",Ce,[r(t(B),{for:"email",class:"text-white"},{default:s(()=>i[3]||(i[3]=[n("邮箱地址",-1)])),_:1,__:[3]}),r(t(E),{id:"email",type:"email",class:"bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]",name:"email","default-value":t(l).email,required:"",autocomplete:"username",placeholder:"输入你的邮箱地址"},null,8,["default-value"]),r(D,{class:"mt-2",message:h.email},null,8,["message"])]),o.mustVerifyEmail&&!t(l).email_verified_at?(_(),v("div",De,[c("p",Ee,[i[5]||(i[5]=n(" 你的邮箱地址尚未验证。 ",-1)),r(t(R),{href:t(f)(),as:"button",class:"text-[#ff6e02] underline underline-offset-4 hover:text-[#e55a00]"},{default:s(()=>i[4]||(i[4]=[n(" 点击此处重新发送验证邮件。 ",-1)])),_:1,__:[4]},8,["href"])]),o.status==="verification-link-sent"?(_(),v("div",Be," 新的验证链接已发送到你的邮箱地址。 ")):C("",!0)])):C("",!0),c("div",Te,[r(t(Q),{disabled:$,"data-test":"update-profile-button",class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:s(()=>i[6]||(i[6]=[n("保存",-1)])),_:2,__:[6]},1032,["disabled"]),r(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:s(()=>[G(c("p",Pe," 已保存 ",512),[[J,k]])]),_:2},1024)])]),_:1},16)]),_:1})]),_:1}),r(we)]),_:1})]),_:1}))}});export{rt as default};
