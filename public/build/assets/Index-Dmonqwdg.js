import{C as S,_ as V}from"./WebLayout.vue_vue_type_script_setup_true_lang-C27zYx4i.js";import{_ as x}from"./index-COyKrjZ-.js";import{_ as u,a as h}from"./CardContent.vue_vue_type_script_setup_true_lang-DEcWGGrC.js";import{_ as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-C-HBSyDy.js";import{_ as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-DRb-ABh6.js";import{_ as m}from"./index-BJvKApqr.js";import{d as E,c as g,o,w as r,a as l,b as e,e as s,h as P,y as f,f as i,t as a,i as n,F,s as I,j as _,n as p,l as H}from"./app-Dh8QVvHi.js";import{S as b}from"./square-pen-BqlKpQ75.js";import{E as v}from"./eye-DnmxQCGu.js";import{H as w}from"./heart-C44xSuIH.js";import{T as z}from"./trash-2-Bvdb8777.js";import{M as L}from"./message-square-C311TKQd.js";import{C as M}from"./calendar-Dcj-5RFj.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-DHr8TswC.js";import"./createLucideIcon-Cg6yEDTG.js";import"./usePrimitiveElement-P5FDKEnr.js";import"./useForwardExpose-CTzs20aV.js";import"./Primitive-BkPpUNrp.js";import"./RovingFocusGroup-CZQtZIYk.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D-wG-ot2.js";import"./user-DV8l6Zlo.js";import"./index-DJNnRsyn.js";const A={class:"min-h-screen py-8"},G={class:"max-w-6xl mx-auto px-2"},J={class:"flex items-center justify-between mb-8"},K={class:"grid grid-cols-4 md:grid-cols-4 gap-2 md:gap-6 mb-8"},O={class:"flex flex-col md:flex-row items-center md:items-center"},Q={class:"p-1 md:p-2 bg-[#ff6e02]/20 rounded-lg mb-1 md:mb-0"},R={class:"md:ml-4 text-center md:text-left"},U={class:"text-sm md:text-2xl font-bold text-white"},W={class:"flex flex-col md:flex-row items-center md:items-center"},X={class:"p-1 md:p-2 bg-green-500/20 rounded-lg mb-1 md:mb-0"},Y={class:"md:ml-4 text-center md:text-left"},Z={class:"text-sm md:text-2xl font-bold text-white"},ee={class:"flex flex-col md:flex-row items-center md:items-center"},te={class:"p-1 md:p-2 bg-yellow-500/20 rounded-lg mb-1 md:mb-0"},se={class:"md:ml-4 text-center md:text-left"},le={class:"text-sm md:text-2xl font-bold text-white"},re={class:"flex flex-col md:flex-row items-center md:items-center"},de={class:"p-1 md:p-2 bg-purple-500/20 rounded-lg mb-1 md:mb-0"},ae={class:"md:ml-4 text-center md:text-left"},ie={class:"text-sm md:text-2xl font-bold text-white"},oe={key:0,class:"text-center py-12"},ne={key:1,class:"space-y-4"},ce={class:"md:hidden"},me={class:"flex items-start justify-between mb-3"},fe={class:"flex items-center gap-2 flex-wrap flex-1 min-w-0"},_e={class:"flex items-center gap-1 flex-shrink-0 ml-2"},xe={key:0,class:"mb-3 p-2 bg-red-500/10 border border-red-500/30 rounded-lg"},ue={class:"text-xs text-red-400"},he={class:"flex gap-3"},be={key:0,class:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border border-[#4B5563]"},ge=["src","alt"],pe={key:1,class:"flex-shrink-0 w-20 h-20 rounded-lg bg-[#1f2937] border border-[#4B5563] flex items-center justify-center"},ve={class:"text-3xl"},we={class:"flex-1 min-w-0"},ye={class:"text-base font-semibold text-white line-clamp-2 mb-1"},ke={class:"flex items-center gap-1 text-xs text-[#999999]"},Be={key:1,class:"text-sm text-[#999999] mb-3 line-clamp-2"},$e={class:"flex items-center gap-4 text-xs text-[#999999]"},Ce={class:"flex items-center gap-1"},je={class:"flex items-center gap-1"},Se={class:"flex items-center gap-1"},ze={class:"hidden md:flex items-start justify-between gap-4"},Le={class:"flex-shrink-0"},Ne={key:0,class:"w-24 h-24 rounded-lg overflow-hidden border border-[#4B5563] hover:border-[#ff6e02] transition-colors"},Te=["src","alt"],Ve={key:1,class:"w-24 h-24 rounded-lg bg-[#1f2937] border border-[#4B5563] flex items-center justify-center hover:border-[#ff6e02] transition-colors"},qe={class:"text-4xl"},De={class:"flex-1 min-w-0"},Ee={class:"flex items-center gap-3 mb-3 flex-wrap"},Pe={class:"flex items-center gap-2"},Fe={class:"text-sm text-[#999999]"},Ie={key:0,class:"mb-3 p-3 bg-red-500/10 border border-red-500/30 rounded-lg"},He={class:"text-sm text-red-400"},Me={class:"text-xl font-semibold text-white hover:text-[#ff6e02] transition-colors mb-2"},Ae={key:1,class:"text-[#999999] mb-4 line-clamp-2"},Ge={class:"flex items-center gap-6 text-sm text-[#999999]"},Je={class:"flex items-center gap-1"},Ke={class:"flex items-center gap-1"},Oe={class:"flex items-center gap-1"},Qe={class:"flex items-center gap-1"},Re={class:"flex items-center gap-2 flex-shrink-0"},vt=E({__name:"Index",props:{posts:{},stats:{}},setup(Ue){const y={discussion:"讨论",tutorial:"教程",showcase:"展示",question:"问题"},k={discussion:"💬",tutorial:"📖",showcase:"🎨",question:"❓"},B={draft:"草稿",published:"已发布",archived:"已归档"},$={pending:"审核中",approved:"已批准",rejected:"已拒绝"},C={pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500"};function N(c){return new Date(c).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}function j(c,d){confirm(`确认删除帖子 "${d}"？

此操作无法撤销。`)&&H.delete(`/posts/${c}`,{preserveScroll:!0,onSuccess:()=>{},onError:t=>{console.error("Failed to delete post:",t),alert("删除失败，请重试")}})}return(c,d)=>(o(),g(V,null,{default:r(()=>[l(s(P),{title:"我的帖子"}),e("div",A,[e("div",G,[e("div",J,[d[1]||(d[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white mb-2"},"我的帖子"),e("p",{class:"text-[#999999]"},"管理你的所有帖子内容")],-1)),l(s(f),{href:"/posts/create"},{default:r(()=>[l(s(x),{class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:r(()=>[l(s(S),{class:"h-4 w-4 mr-2"}),d[0]||(d[0]=i(" 创建新帖子 ",-1))]),_:1,__:[0]})]),_:1})]),e("div",K,[l(s(u),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[l(s(h),{class:"p-2 md:p-6"},{default:r(()=>[e("div",O,[e("div",Q,[l(s(b),{class:"h-3 w-3 md:h-5 md:w-5 text-[#ff6e02]"})]),e("div",R,[d[2]||(d[2]=e("p",{class:"text-xs md:text-sm text-[#999999]"},"总帖子",-1)),e("p",U,a(c.stats.total),1)])])]),_:1})]),_:1}),l(s(u),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[l(s(h),{class:"p-2 md:p-6"},{default:r(()=>[e("div",W,[e("div",X,[l(s(v),{class:"h-3 w-3 md:h-5 md:w-5 text-green-500"})]),e("div",Y,[d[3]||(d[3]=e("p",{class:"text-xs md:text-sm text-[#999999]"},"已发布",-1)),e("p",Z,a(c.stats.published),1)])])]),_:1})]),_:1}),l(s(u),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[l(s(h),{class:"p-2 md:p-6"},{default:r(()=>[e("div",ee,[e("div",te,[l(s(b),{class:"h-3 w-3 md:h-5 md:w-5 text-yellow-500"})]),e("div",se,[d[4]||(d[4]=e("p",{class:"text-xs md:text-sm text-[#999999]"},"草稿",-1)),e("p",le,a(c.stats.drafts),1)])])]),_:1})]),_:1}),l(s(u),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[l(s(h),{class:"p-2 md:p-6"},{default:r(()=>[e("div",re,[e("div",de,[l(s(w),{class:"h-3 w-3 md:h-5 md:w-5 text-purple-500"})]),e("div",ae,[d[5]||(d[5]=e("p",{class:"text-xs md:text-sm text-[#999999]"},"高级内容",-1)),e("p",ie,a(c.stats.premium),1)])])]),_:1})]),_:1})]),l(s(u),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[l(s(q),null,{default:r(()=>[l(s(D),{class:"text-white"},{default:r(()=>d[6]||(d[6]=[i("帖子列表",-1)])),_:1,__:[6]})]),_:1}),l(s(h),null,{default:r(()=>[c.posts.data.length===0?(o(),n("div",oe,[l(s(b),{class:"h-12 w-12 text-[#999999] mx-auto mb-4"}),d[8]||(d[8]=e("h3",{class:"text-lg font-medium text-white mb-2"},"还没有帖子",-1)),d[9]||(d[9]=e("p",{class:"text-[#999999] mb-6"},"创建你的第一个帖子来分享想法",-1)),l(s(f),{href:"/posts/create"},{default:r(()=>[l(s(x),{class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:r(()=>[l(s(S),{class:"h-4 w-4 mr-2"}),d[7]||(d[7]=i(" 创建帖子 ",-1))]),_:1,__:[7]})]),_:1})])):(o(),n("div",ne,[(o(!0),n(F,null,I(c.posts.data,t=>(o(),n("div",{key:t.id,class:"border border-[#4B5563] rounded-lg p-4 md:p-6 hover:border-[#6B7280] transition-colors"},[e("div",ce,[e("div",me,[e("div",fe,[l(s(m),{class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30 text-xs"},{default:r(()=>[i(a(y[t.type]),1)]),_:2},1024),l(s(m),{class:p([{"bg-green-500/20 text-green-500 border-green-500/30":t.status==="published","bg-yellow-500/20 text-yellow-500 border-yellow-500/30":t.status==="draft","bg-gray-500/20 text-gray-500 border-gray-500/30":t.status==="archived"},"text-xs"])},{default:r(()=>[i(a(B[t.status]),1)]),_:2},1032,["class"]),t.status==="published"?(o(),g(s(m),{key:0,class:p([C[t.review_status],"text-xs"])},{default:r(()=>[i(a($[t.review_status]),1)]),_:2},1032,["class"])):_("",!0)]),e("div",_e,[l(s(f),{href:`/posts/${t.id}/edit`},{default:r(()=>[l(s(x),{variant:"ghost",size:"sm",class:"text-[#999999] hover:text-white hover:bg-[#4B5563] h-8 w-8 p-0"},{default:r(()=>[l(s(b),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),l(s(x),{variant:"ghost",size:"sm",class:"text-red-400 hover:text-red-300 hover:bg-red-900/20 h-8 w-8 p-0",onClick:T=>j(t.id,t.title)},{default:r(()=>[l(s(z),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),t.review_status==="rejected"&&t.review_notes?(o(),n("div",xe,[e("p",ue,[d[10]||(d[10]=e("strong",null,"拒绝原因:",-1)),i(" "+a(t.review_notes),1)])])):_("",!0),l(s(f),{href:`/posts/${t.slug}`,class:"block mb-3"},{default:r(()=>[e("div",he,[t.first_image?(o(),n("div",be,[e("img",{src:t.first_image.thumb,alt:t.title,class:"w-full h-full object-cover"},null,8,ge)])):(o(),n("div",pe,[e("span",ve,a(k[t.type]),1)])),e("div",we,[e("h3",ye,a(t.title),1),e("div",ke,[d[11]||(d[11]=e("div",{class:"w-2 h-2 rounded-full bg-[#ff6e02]"},null,-1)),e("span",null,a(t.category.name),1)])])])]),_:2},1032,["href"]),t.excerpt?(o(),n("p",Be,a(t.excerpt),1)):_("",!0),e("div",$e,[e("div",Ce,[l(s(v),{class:"h-3 w-3"}),i(" "+a(t.view_count),1)]),e("div",je,[l(s(w),{class:"h-3 w-3"}),i(" "+a(t.like_count),1)]),e("div",Se,[l(s(L),{class:"h-3 w-3"}),i(" "+a(t.comment_count),1)])])]),e("div",ze,[e("div",Le,[l(s(f),{href:`/posts/${t.slug}`},{default:r(()=>[t.first_image?(o(),n("div",Ne,[e("img",{src:t.first_image.thumb,alt:t.title,class:"w-full h-full object-cover"},null,8,Te)])):(o(),n("div",Ve,[e("span",qe,a(k[t.type]),1)]))]),_:2},1032,["href"])]),e("div",De,[e("div",Ee,[l(s(m),{class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:r(()=>[i(a(y[t.type]),1)]),_:2},1024),l(s(m),{class:p({"bg-green-500/20 text-green-500 border-green-500/30":t.status==="published","bg-yellow-500/20 text-yellow-500 border-yellow-500/30":t.status==="draft","bg-gray-500/20 text-gray-500 border-gray-500/30":t.status==="archived"})},{default:r(()=>[i(a(B[t.status]),1)]),_:2},1032,["class"]),t.status==="published"?(o(),g(s(m),{key:0,class:p(C[t.review_status])},{default:r(()=>[i(a($[t.review_status]),1)]),_:2},1032,["class"])):_("",!0),t.is_premium?(o(),g(s(m),{key:1,class:"bg-purple-500/20 text-purple-500 border-purple-500/30"},{default:r(()=>d[12]||(d[12]=[i(" VIP ",-1)])),_:1,__:[12]})):_("",!0),e("div",Pe,[d[13]||(d[13]=e("div",{class:"w-3 h-3 rounded-full bg-[#ff6e02]"},null,-1)),e("span",Fe,a(t.category.name),1)])]),t.review_status==="rejected"&&t.review_notes?(o(),n("div",Ie,[e("p",He,[d[14]||(d[14]=e("strong",null,"拒绝原因:",-1)),i(" "+a(t.review_notes),1)])])):_("",!0),l(s(f),{href:`/posts/${t.slug}`},{default:r(()=>[e("h3",Me,a(t.title),1)]),_:2},1032,["href"]),t.excerpt?(o(),n("p",Ae,a(t.excerpt),1)):_("",!0),e("div",Ge,[e("div",Je,[l(s(v),{class:"h-4 w-4"}),i(" "+a(t.view_count),1)]),e("div",Ke,[l(s(w),{class:"h-4 w-4"}),i(" "+a(t.like_count),1)]),e("div",Oe,[l(s(L),{class:"h-4 w-4"}),i(" "+a(t.comment_count),1)]),e("div",Qe,[l(s(M),{class:"h-4 w-4"}),i(" "+a(N(t.published_at||t.created_at)),1)])])]),e("div",Re,[l(s(f),{href:`/posts/${t.id}/edit`},{default:r(()=>[l(s(x),{variant:"ghost",size:"sm",class:"text-[#999999] hover:text-white hover:bg-[#4B5563]"},{default:r(()=>[l(s(b),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),l(s(x),{variant:"ghost",size:"sm",class:"text-red-400 hover:text-red-300 hover:bg-red-900/20",onClick:T=>j(t.id,t.title)},{default:r(()=>[l(s(z),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]))),128))]))]),_:1})]),_:1})])])]),_:1}))}});export{vt as default};
