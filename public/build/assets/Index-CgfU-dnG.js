import{_ as S}from"./WebLayout.vue_vue_type_script_setup_true_lang-O-XqanYs.js";import{d as C,c as d,o as n,w as l,a,b as s,e as o,h as j,i as c,j as p,y as u,f,x as v,t as r,n as _,F as h,s as w}from"./app-D6Ifw1z4.js";import{_ as m}from"./index-DWje2Lb5.js";import{A as z}from"./arrow-left-CJLgyxkl.js";import{C as x}from"./crown-By1SK6z8.js";import{C as N}from"./check-0QGRbqbZ.js";import{X as V}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-BbCrVo-9.js";import{C as k}from"./calendar-DVw76LiX.js";import{C as $}from"./credit-card-DUdYJ7TB.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CoRO_Ixh.js";import"./createLucideIcon-qO9r-S-R.js";import"./heart-Clp6KVcz.js";import"./user-CfPSL6ZD.js";import"./Primitive-BMK3ZySf.js";import"./index-CeG7Ekqv.js";import"./useForwardExpose-EOD_si-T.js";import"./usePrimitiveElement-DaMp-Na-.js";import"./RovingFocusGroup-Cg_Bu43E.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";const B={class:"min-h-screen bg-[#1c1c1c] pb-20"},D={class:"bg-[#1f2937] u-p-25 sticky top-0 z-10"},F={class:"flex items-center u-m-b-25"},M={key:0,class:"u-m-25"},L={class:"listclass u-p-25"},T={class:"flex items-center justify-between u-m-b-20"},A={class:"font28 colorfff font-w-600 flex items-center"},I={class:"space-y-3"},E={class:"flex items-center justify-between"},P={class:"flex items-center justify-between"},X={key:0,class:"flex items-center justify-between"},q={class:"font24 colorz"},G={class:"flex items-center justify-between"},H={key:1,class:"u-m-25"},J={class:"listclass u-p-25 text-center"},K={class:"u-m-25"},O={key:0,class:"listclass u-p-40 text-center"},Q={key:1,class:"space-y-3"},R={class:"listclass u-p-25"},U={class:"flex items-center justify-between u-m-b-15"},W={class:"space-y-2"},Y={class:"flex items-center justify-between"},Z={class:"font22 colorz"},ss={class:"flex items-center justify-between"},ts={class:"font22 color999 flex items-center"},es={class:"font22 colorz"},os={key:0,class:"flex items-center justify-between"},is={class:"font22 color999 flex items-center"},as={class:"font22 colorz"},ns={class:"flex items-center justify-between"},ls={class:"font22 color999 flex items-center"},rs={class:"font22 text-[#ff6e02] font-w-600"},cs={key:2,class:"flex items-center justify-center u-m-t-25 gap-3"},fs={class:"font24"},Ds=C({__name:"Index",props:{subscriptions:{},activeSubscription:{}},setup(ds){const b=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),y=e=>({active:"当前有效",cancelled:"已取消",expired:"已过期",suspended:"已暂停",trial:"试用中"})[e]||e,g=e=>({active:"bg-green-500/20 text-green-400",cancelled:"bg-red-500/20 text-red-400",expired:"bg-gray-500/20 text-gray-400",suspended:"bg-yellow-500/20 text-yellow-400",trial:"bg-blue-500/20 text-blue-400"})[e]||"bg-gray-500/20 text-gray-400";return(e,t)=>(n(),d(S,null,{default:l(()=>[a(o(j),{title:"我的会员订阅"}),s("div",B,[s("div",D,[s("div",F,[a(o(u),{href:"/profile",class:"u-p-r-25"},{default:l(()=>[a(o(z),{class:"w-6 h-6 text-white"})]),_:1}),t[0]||(t[0]=s("h1",{class:"colorz font32 font-w-600"},"我的会员订阅",-1))])]),e.activeSubscription?(n(),c("div",M,[s("div",L,[s("div",T,[s("h3",A,[a(o(x),{class:"w-6 h-6 u-p-r-10 text-[#ff6e02]"}),t[1]||(t[1]=f(" 当前会员 ",-1))]),a(o(u),{href:`/plan-subscriptions/${e.activeSubscription.id}`},{default:l(()=>t[2]||(t[2]=[s("span",{class:"font22 text-[#ff6e02]"},"管理",-1)])),_:1,__:[2]},8,["href"])]),s("div",I,[s("div",E,[t[3]||(t[3]=s("span",{class:"font24 color999"},"套餐",-1)),a(o(m),{style:v({backgroundColor:e.activeSubscription.plan.badge_color,color:e.activeSubscription.plan.badge_text_color}),class:"font22"},{default:l(()=>[f(r(e.activeSubscription.plan.name),1)]),_:1},8,["style"])]),s("div",P,[t[4]||(t[4]=s("span",{class:"font24 color999"},"状态",-1)),a(o(m),{class:_([g(e.activeSubscription.status),"font22"])},{default:l(()=>[f(r(y(e.activeSubscription.status)),1)]),_:1},8,["class"])]),e.activeSubscription.expires_at?(n(),c("div",X,[t[5]||(t[5]=s("span",{class:"font24 color999"},"到期时间",-1)),s("span",q,r(b(e.activeSubscription.expires_at)),1)])):p("",!0),s("div",G,[t[6]||(t[6]=s("span",{class:"font24 color999"},"自动续费",-1)),a(o(m),{class:_([e.activeSubscription.auto_renew?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400","font22"])},{default:l(()=>[e.activeSubscription.auto_renew?(n(),d(o(N),{key:0,class:"w-3 h-3 u-p-r-5 inline"})):(n(),d(o(V),{key:1,class:"w-3 h-3 u-p-r-5 inline"})),f(" "+r(e.activeSubscription.auto_renew?"已开启":"已关闭"),1)]),_:1},8,["class"])])])])])):p("",!0),e.activeSubscription?p("",!0):(n(),c("div",H,[a(o(u),{href:"/plan-subscriptions/create",class:"block"},{default:l(()=>[s("div",J,[a(o(x),{class:"w-12 h-12 text-[#ff6e02] mx-auto u-m-b-15"}),t[7]||(t[7]=s("h3",{class:"font28 colorfff font-w-600 u-m-b-10"},"开通VIP会员",-1)),t[8]||(t[8]=s("p",{class:"font22 color999"},"享受更多专属特权",-1))])]),_:1})])),s("div",K,[t[14]||(t[14]=s("h3",{class:"font28 colorfff font-w-600 u-m-b-20 u-p-l-10"},"订阅历史",-1)),e.subscriptions.data.length===0?(n(),c("div",O,t[9]||(t[9]=[s("p",{class:"color999 font24"},"暂无订阅记录",-1)]))):(n(),c("div",Q,[(n(!0),c(h,null,w(e.subscriptions.data,i=>(n(),d(o(u),{key:i.id,href:`/plan-subscriptions/${i.id}`,class:"block"},{default:l(()=>[s("div",R,[s("div",U,[a(o(m),{style:v({backgroundColor:i.plan.badge_color,color:i.plan.badge_text_color}),class:"font24"},{default:l(()=>[f(r(i.plan.name),1)]),_:2},1032,["style"]),a(o(m),{class:_([g(i.status),"font22"])},{default:l(()=>[f(r(y(i.status)),1)]),_:2},1032,["class"])]),s("div",W,[s("div",Y,[t[10]||(t[10]=s("span",{class:"font22 color999"},"订单号",-1)),s("span",Z,r(i.subscription_number),1)]),s("div",ss,[s("span",ts,[a(o(k),{class:"w-4 h-4 u-p-r-5"}),t[11]||(t[11]=f(" 开始时间 ",-1))]),s("span",es,r(b(i.started_at)),1)]),i.expires_at?(n(),c("div",os,[s("span",is,[a(o(k),{class:"w-4 h-4 u-p-r-5"}),t[12]||(t[12]=f(" 到期时间 ",-1))]),s("span",as,r(b(i.expires_at)),1)])):p("",!0),s("div",ns,[s("span",ls,[a(o($),{class:"w-4 h-4 u-p-r-5"}),t[13]||(t[13]=f(" 支付金额 ",-1))]),s("span",rs,"¥"+r(parseFloat(i.price_paid).toFixed(2)),1)])])])]),_:2},1032,["href"]))),128))])),e.subscriptions.last_page>1?(n(),c("div",cs,[(n(!0),c(h,null,w(e.subscriptions.last_page,i=>(n(),d(o(u),{key:i,href:`/plan-subscriptions?page=${i}`,class:_(["w-10 h-10 flex items-center justify-center rounded-full",i===e.subscriptions.current_page?"bg-[#ff6e02] text-white":"bg-[#374151] text-[#999999]"])},{default:l(()=>[s("span",fs,r(i),1)]),_:2},1032,["href","class"]))),128))])):p("",!0)])])]),_:1}))}});export{Ds as default};
