import{d as L,r as k,c as v,o,w as n,b as t,i as a,j as u,a as r,e as i,y,f as m,t as d,m as N,k as q,F as g,s as x,q as U,n as _,l as b}from"./app-kob8CVRK.js";import{_ as D}from"./WebLayout.vue_vue_type_script_setup_true_lang-DiEIVZ2M.js";import{_ as G}from"./PostCard.vue_vue_type_script_setup_true_lang-CNN9oJkV.js";import{_ as C}from"./index-CKFw0FL_.js";import{_ as $,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-CiR0AURR.js";import{_ as j}from"./CardHeader.vue_vue_type_script_setup_true_lang-ClevN_XI.js";import{_ as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-BobXNG0R.js";import{_ as H}from"./Input.vue_vue_type_script_setup_true_lang-03dbJv0r.js";import{S as M}from"./search-DRfgh88M.js";import{T as I}from"./tag-DNlRX6_v.js";import{c as K}from"./createLucideIcon-CW2CPC90.js";import{T as z}from"./trending-up-DgoaXaT_.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-B1Y7R2CB.js";import"./usePrimitiveElement-vQoX7tlz.js";import"./useForwardExpose-C-dMyllY.js";import"./Primitive-BE7hyEE5.js";import"./RovingFocusGroup-eP3yFYFc.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C16ycLJU.js";import"./heart-BJMi7Kmr.js";import"./user-DbSs4ckc.js";import"./index-BA9zYvjA.js";import"./index-CET7fbM1.js";import"./message-square-iV2XPam6.js";import"./eye-56sBxkma.js";import"./crown-DM9NYBgA.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=K("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),P={class:"max-w-[1000px] mx-auto px-4 py-6"},A={class:"mb-8"},J={class:"flex items-center gap-2 mb-4 text-sm text-[#999999]"},O={key:0,class:"text-white"},Q={key:1,class:"text-white"},R={class:"flex items-center justify-between mb-6"},W={class:"text-2xl sm:text-3xl font-bold text-white mb-2"},X={key:0,class:"flex items-center gap-2"},Y={class:"text-2xl"},Z={key:1},ee={class:"text-[#999999]"},te={key:0},se={key:1},le={key:0},oe={key:0,class:"bg-[#374151] rounded-lg p-4 mb-6"},ae={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ie={class:"md:col-span-2"},re={class:"relative"},ne=["value"],de={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},ce={key:0,class:"lg:col-span-1"},pe=["onClick"],fe={class:"flex items-center gap-2"},ue={class:"w-5 h-5 flex-shrink-0 rounded overflow-hidden flex items-center justify-center"},me=["src","alt"],ge={key:1,class:"text-sm"},xe={class:"text-sm"},_e={key:0,class:"text-xs bg-[#1f2937] px-2 py-1 rounded"},he={class:"flex flex-row lg:flex-col items-center justify-around lg:justify-start lg:space-y-3 gap-2 lg:gap-0"},ve={class:"flex flex-col lg:flex-row items-center lg:justify-between text-center lg:text-left w-full"},ye={class:"text-white font-medium text-sm lg:text-base"},be={key:0,class:"flex flex-col lg:flex-row items-center lg:justify-between text-center lg:text-left w-full"},we={class:"text-white font-medium text-sm lg:text-base"},ke={key:0,class:"space-y-4"},Ce={key:1,class:"text-center py-12"},$e={class:"text-[#999999] mb-4"},Te={key:0},je={key:1},Ve={key:2,class:"mt-8"},Me={class:"flex items-center justify-center gap-2"},ot=L({__name:"Posts",props:{posts:{},categories:{},selectedCategory:{},filters:{}},setup(S){const f=S,c=k(f.filters.search||""),p=k(f.filters.type||""),w=()=>{const s={};c.value&&(s.search=c.value),p.value&&(s.type=p.value),f.filters.category&&(s.category=f.filters.category),b.get("/community/posts",s,{preserveState:!0,replace:!0})},h=s=>{const e={};s&&(e.category=s),c.value&&(e.search=c.value),p.value&&(e.type=p.value),b.get("/community/posts",e,{preserveState:!0,replace:!0})},B=s=>{p.value=s||"";const e={};s&&(e.type=s),f.filters.category&&(e.category=f.filters.category),c.value&&(e.search=c.value),b.get("/community/posts",e,{preserveState:!0,replace:!0})},F=[{value:"tutorial",label:"教程",icon:"📚"},{value:"discussion",label:"讨论",icon:"💬"},{value:"showcase",label:"展示",icon:"🎨"},{value:"question",label:"问答",icon:"❓"}];return(s,e)=>(o(),v(D,null,{default:n(()=>[t("div",P,[t("div",A,[t("div",J,[r(i(y),{href:"/",class:"hover:text-[#ff6e02]"},{default:n(()=>e[5]||(e[5]=[m("首页",-1)])),_:1,__:[5]}),e[6]||(e[6]=t("span",null,"/",-1)),s.selectedCategory?(o(),a("span",O,d(s.selectedCategory.name),1)):(o(),a("span",Q,"社区帖子"))]),t("div",R,[t("div",null,[t("h1",W,[s.selectedCategory?(o(),a("span",X,[t("span",Y,d(s.selectedCategory.icon||"📝"),1),m(" "+d(s.selectedCategory.name),1)])):(o(),a("span",Z,"社区帖子"))]),t("p",ee,[s.selectedCategory?(o(),a("span",te,"浏览 "+d(s.selectedCategory.name)+" 分类下的所有内容",1)):(o(),a("span",se,"探索社区中的精彩内容和讨论"))])]),s.selectedCategory?(o(),a("div",le,[r(i(y),{href:"/",class:"inline-flex items-center gap-2 px-4 py-2 bg-[#ff6e02] text-white rounded-lg hover:bg-[#e55a00] transition-colors"},{default:n(()=>e[7]||(e[7]=[t("span",null,"返回首页",-1)])),_:1,__:[7]})])):u("",!0)]),s.selectedCategory?u("",!0):(o(),a("div",oe,[t("div",ae,[t("div",ie,[t("div",re,[r(i(M),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#999999] w-4 h-4"}),r(i(H),{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l),placeholder:"搜索帖子...",class:"pl-10 bg-[#1f2937] border-[#1f2937] text-white placeholder:text-[#999999]",onKeyup:N(w,["enter"])},null,8,["modelValue"])])]),t("div",null,[q(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),onChange:e[2]||(e[2]=l=>B(p.value)),class:"w-full px-3 py-2 bg-[#1f2937] border border-[#1f2937] rounded-md text-white"},[e[8]||(e[8]=t("option",{value:""},"所有类型",-1)),(o(),a(g,null,x(F,l=>t("option",{key:l.value,value:l.value},d(l.icon)+" "+d(l.label),9,ne)),64))],544),[[U,p.value]])]),t("div",null,[r(i(C),{onClick:w,class:"w-full bg-[#ff6e02] text-white hover:bg-[#e55a00]"},{default:n(()=>[r(i(M),{class:"w-4 h-4 mr-2"}),e[9]||(e[9]=m(" 搜索 ",-1))]),_:1,__:[9]})])])]))]),t("div",de,[s.selectedCategory?u("",!0):(o(),a("div",ce,[r(i($),{class:"bg-[#374151] border-0 mb-6"},{default:n(()=>[r(i(j),{class:"pb-3"},{default:n(()=>[r(i(V),{class:"text-white text-base flex items-center gap-2"},{default:n(()=>[r(i(I),{class:"w-4 h-4"}),e[10]||(e[10]=m(" 分类筛选 ",-1))]),_:1,__:[10]})]),_:1}),r(i(T),{class:"space-y-2"},{default:n(()=>[t("button",{onClick:e[3]||(e[3]=l=>h(null)),class:_(["w-full text-left p-2 rounded-lg transition-colors flex items-center gap-2",s.filters.category?"text-[#999999] hover:text-white hover:bg-[#1f2937]":"bg-[#ff6e02] text-white"])},[r(i(E),{class:"w-4 h-4"}),e[11]||(e[11]=t("span",{class:"text-sm"},"全部分类",-1))],2),(o(!0),a(g,null,x(s.categories,l=>(o(),a("button",{key:l.id,onClick:Se=>h(l.slug),class:_(["w-full text-left p-2 rounded-lg transition-colors flex items-center justify-between",s.filters.category===l.slug?"bg-[#ff6e02] text-white":"text-[#999999] hover:text-white hover:bg-[#1f2937]"])},[t("div",fe,[t("div",ue,[l.icon_image?(o(),a("img",{key:0,src:`/storage/${l.icon_image}`,alt:l.name,class:"w-full h-full object-cover"},null,8,me)):(o(),a("span",ge,d(l.icon||"📝"),1))]),t("span",xe,d(l.name),1)]),l.posts_count?(o(),a("span",_e,d(l.posts_count),1)):u("",!0)],10,pe))),128))]),_:1})]),_:1}),r(i($),{class:"bg-[#374151] border-0"},{default:n(()=>[r(i(j),{class:"pb-2 lg:pb-3"},{default:n(()=>[r(i(V),{class:"text-white text-sm lg:text-base flex items-center gap-2"},{default:n(()=>[r(i(z),{class:"w-3 h-3 lg:w-4 lg:h-4"}),e[12]||(e[12]=m(" 统计信息 ",-1))]),_:1,__:[12]})]),_:1}),r(i(T),{class:"py-2 lg:py-3"},{default:n(()=>[t("div",he,[t("div",ve,[e[13]||(e[13]=t("span",{class:"text-xs lg:text-sm text-[#999999]"},"总帖子数",-1)),t("span",ye,d(s.posts.total),1)]),s.selectedCategory?(o(),a("div",be,[e[14]||(e[14]=t("span",{class:"text-xs lg:text-sm text-[#999999]"},"当前分类",-1)),t("span",we,d(s.posts.data.length),1)])):u("",!0)])]),_:1})]),_:1})])),t("div",{class:_(s.selectedCategory?"lg:col-span-4":"lg:col-span-3")},[s.posts.data.length>0?(o(),a("div",ke,[(o(!0),a(g,null,x(s.posts.data,l=>(o(),v(G,{key:l.id,post:l,variant:"list"},null,8,["post"]))),128))])):(o(),a("div",Ce,[e[16]||(e[16]=t("div",{class:"text-6xl mb-4"},"📝",-1)),e[17]||(e[17]=t("h3",{class:"text-white text-lg font-medium mb-2"},"暂无帖子",-1)),t("p",$e,[s.selectedCategory?(o(),a("span",Te,"该分类下暂时没有帖子")):(o(),a("span",je,"暂时没有符合条件的帖子"))]),r(i(C),{onClick:e[4]||(e[4]=l=>h(null)),variant:"outline",class:"text-[#ff6e02] border-[#ff6e02]"},{default:n(()=>e[15]||(e[15]=[m(" 浏览所有帖子 ",-1)])),_:1,__:[15]})])),s.posts.last_page>1?(o(),a("div",Ve,[t("div",Me,[(o(!0),a(g,null,x(s.posts.links,l=>(o(),v(i(y),{key:l.label,href:l.url||"#",class:_(["px-3 py-2 rounded text-sm transition-colors",l.active?"bg-[#ff6e02] text-white":l.url?"bg-[#374151] text-white hover:bg-[#1f2937]":"bg-[#374151] text-[#999999] cursor-not-allowed"]),innerHTML:l.label},null,8,["href","class","innerHTML"]))),128))])])):u("",!0)],2)])])]),_:1}))}});export{ot as default};
