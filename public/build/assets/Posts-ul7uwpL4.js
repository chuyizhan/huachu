import{d as F,l as T,c as p,o as i,w as n,b as e,a as o,i as c,e as l,y,f as d,t as r,m as I,k as U,F as h,s as x,q as z,n as b,j as _,x as E,r as w}from"./app-Ca0afq3n.js";import{_ as P}from"./WebLayout.vue_vue_type_script_setup_true_lang-D-woEnGy.js";import{_ as j}from"./index-G1C2CR8F.js";import{_ as k,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-CgsRRZyd.js";import{_ as M}from"./CardHeader.vue_vue_type_script_setup_true_lang-4fONgwlj.js";import{_ as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-Ba9ncbbw.js";import{_ as g}from"./index-3Q5PlVJg.js";import{_ as G,a as K}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-DK07fgD3.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-C8Zmhzql.js";import{S as V}from"./search-DhV4iBSb.js";import{T as J}from"./tag-Ca6N-1Tf.js";import{c as O}from"./createLucideIcon-DPfk0LRx.js";import{T as Q}from"./trending-up-xi3HRqTL.js";import{C as R}from"./chef-hat-CwnZnHHG.js";import{C as W}from"./calendar-D-Cw1phI.js";import{E as X}from"./eye-o3dlgIxI.js";import{H as Y}from"./heart-doVvy0hY.js";import{M as Z}from"./message-square-CukzN-QP.js";import"./Primitive-CCTnzWDl.js";import"./useForwardExpose-DohNH0gZ.js";import"./usePrimitiveElement-B7nxCNRu.js";import"./RovingFocusGroup-CGclM9bG.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-dW9Vi417.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=O("Grid3x3Icon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),te={class:"max-w-[1000px] mx-auto px-4 py-6"},se={class:"mb-8"},ae={class:"flex items-center gap-2 mb-4 text-sm text-[#999999]"},le={key:0,class:"text-white"},oe={key:1,class:"text-white"},ie={class:"flex items-center justify-between mb-6"},re={class:"text-2xl sm:text-3xl font-bold text-white mb-2"},ne={key:0,class:"flex items-center gap-2"},ce={class:"text-2xl"},de={key:1},fe={class:"text-[#999999]"},ue={key:0},me={key:1},pe={class:"bg-[#374151] rounded-lg p-4 mb-6"},_e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},he={class:"md:col-span-2"},xe={class:"relative"},ge=["value"],ve={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},ye={class:"lg:col-span-1"},be=["onClick"],we={class:"flex items-center gap-2"},ke={class:"text-sm"},Ce={class:"text-sm"},$e={key:0,class:"text-xs bg-[#1f2937] px-2 py-1 rounded"},Te={class:"flex items-center justify-between"},je={class:"text-white font-medium"},Me={key:0,class:"flex items-center justify-between"},Se={class:"text-white font-medium"},Ve={class:"lg:col-span-3"},qe={key:0,class:"space-y-4"},De={class:"flex items-start gap-4"},He={class:"w-16 h-12 bg-[#1f2937] rounded-lg flex-shrink-0 overflow-hidden"},Le=["src","alt"],Ne={key:1,class:"w-full h-full flex items-center justify-center"},Be={class:"text-lg"},Fe={class:"flex-1 min-w-0"},Ie={class:"flex items-start justify-between mb-2"},Ue={class:"flex items-center gap-2 mb-1"},ze={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},Ee={class:"text-[#999999] text-sm line-clamp-2 mb-3"},Pe={class:"flex items-center justify-between"},Ge={class:"flex items-center gap-3"},Ke={class:"flex items-center gap-2"},Ae={class:"text-xs text-[#999999]"},Je={class:"flex items-center gap-1 text-xs text-[#999999]"},Oe={class:"flex items-center gap-4 text-xs text-[#999999]"},Qe={class:"flex items-center gap-1"},Re={class:"flex items-center gap-1"},We={class:"flex items-center gap-1"},Xe={key:1,class:"text-center py-12"},Ye={class:"text-[#999999] mb-4"},Ze={key:0},et={key:1},tt={key:2,class:"mt-8"},st={class:"flex items-center justify-center gap-2"},Mt=F({__name:"Posts",props:{posts:{},categories:{},selectedCategory:{},filters:{}},setup(q){const m=q,f=T(m.filters.search||""),u=T(m.filters.type||""),D=a=>a.split(" ").map(t=>t[0]).join("").toUpperCase(),H=a=>new Date(a).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),L=a=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[a]||a,$=()=>{const a={};f.value&&(a.search=f.value),u.value&&(a.type=u.value),m.filters.category&&(a.category=m.filters.category),w.get("/community/posts",a,{preserveState:!0,replace:!0})},v=a=>{const t={};a&&(t.category=a),f.value&&(t.search=f.value),u.value&&(t.type=u.value),w.get("/community/posts",t,{preserveState:!0,replace:!0})},N=a=>{u.value=a||"";const t={};a&&(t.type=a),m.filters.category&&(t.category=m.filters.category),f.value&&(t.search=f.value),w.get("/community/posts",t,{preserveState:!0,replace:!0})},B=[{value:"tutorial",label:"教程",icon:"📚"},{value:"discussion",label:"讨论",icon:"💬"},{value:"showcase",label:"展示",icon:"🎨"},{value:"question",label:"问答",icon:"❓"}];return(a,t)=>(i(),p(P,null,{default:n(()=>[e("div",te,[e("div",se,[e("div",ae,[o(l(y),{href:"/",class:"hover:text-[#ff6e02]"},{default:n(()=>t[5]||(t[5]=[d("首页",-1)])),_:1,__:[5]}),t[6]||(t[6]=e("span",null,"/",-1)),a.selectedCategory?(i(),c("span",le,r(a.selectedCategory.name),1)):(i(),c("span",oe,"社区帖子"))]),e("div",ie,[e("div",null,[e("h1",re,[a.selectedCategory?(i(),c("span",ne,[e("span",ce,r(a.selectedCategory.icon||"📝"),1),d(" "+r(a.selectedCategory.name),1)])):(i(),c("span",de,"社区帖子"))]),e("p",fe,[a.selectedCategory?(i(),c("span",ue,"浏览 "+r(a.selectedCategory.name)+" 分类下的所有内容",1)):(i(),c("span",me,"探索社区中的精彩内容和讨论"))])])]),e("div",pe,[e("div",_e,[e("div",he,[e("div",xe,[o(l(V),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#999999] w-4 h-4"}),o(l(A),{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s),placeholder:"搜索帖子...",class:"pl-10 bg-[#1f2937] border-[#1f2937] text-white placeholder:text-[#999999]",onKeyup:I($,["enter"])},null,8,["modelValue"])])]),e("div",null,[U(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>u.value=s),onChange:t[2]||(t[2]=s=>N(u.value)),class:"w-full px-3 py-2 bg-[#1f2937] border border-[#1f2937] rounded-md text-white"},[t[7]||(t[7]=e("option",{value:""},"所有类型",-1)),(i(),c(h,null,x(B,s=>e("option",{key:s.value,value:s.value},r(s.icon)+" "+r(s.label),9,ge)),64))],544),[[z,u.value]])]),e("div",null,[o(l(j),{onClick:$,class:"w-full bg-[#ff6e02] text-white hover:bg-[#e55a00]"},{default:n(()=>[o(l(V),{class:"w-4 h-4 mr-2"}),t[8]||(t[8]=d(" 搜索 ",-1))]),_:1,__:[8]})])])])]),e("div",ve,[e("div",ye,[o(l(k),{class:"bg-[#374151] border-0 mb-6"},{default:n(()=>[o(l(M),{class:"pb-3"},{default:n(()=>[o(l(S),{class:"text-white text-base flex items-center gap-2"},{default:n(()=>[o(l(J),{class:"w-4 h-4"}),t[9]||(t[9]=d(" 分类筛选 ",-1))]),_:1,__:[9]})]),_:1}),o(l(C),{class:"space-y-2"},{default:n(()=>[e("button",{onClick:t[3]||(t[3]=s=>v(null)),class:b(["w-full text-left p-2 rounded-lg transition-colors flex items-center gap-2",a.filters.category?"text-[#999999] hover:text-white hover:bg-[#1f2937]":"bg-[#ff6e02] text-white"])},[o(l(ee),{class:"w-4 h-4"}),t[10]||(t[10]=e("span",{class:"text-sm"},"全部分类",-1))],2),(i(!0),c(h,null,x(a.categories,s=>(i(),c("button",{key:s.id,onClick:at=>v(s.slug),class:b(["w-full text-left p-2 rounded-lg transition-colors flex items-center justify-between",a.filters.category===s.slug?"bg-[#ff6e02] text-white":"text-[#999999] hover:text-white hover:bg-[#1f2937]"])},[e("div",we,[e("span",ke,r(s.icon||"📝"),1),e("span",Ce,r(s.name),1)]),s.posts_count?(i(),c("span",$e,r(s.posts_count),1)):_("",!0)],10,be))),128))]),_:1})]),_:1}),o(l(k),{class:"bg-[#374151] border-0"},{default:n(()=>[o(l(M),{class:"pb-3"},{default:n(()=>[o(l(S),{class:"text-white text-base flex items-center gap-2"},{default:n(()=>[o(l(Q),{class:"w-4 h-4"}),t[11]||(t[11]=d(" 统计信息 ",-1))]),_:1,__:[11]})]),_:1}),o(l(C),{class:"space-y-3"},{default:n(()=>[e("div",Te,[t[12]||(t[12]=e("span",{class:"text-sm text-[#999999]"},"总帖子数",-1)),e("span",je,r(a.posts.total),1)]),a.selectedCategory?(i(),c("div",Me,[t[13]||(t[13]=e("span",{class:"text-sm text-[#999999]"},"当前分类",-1)),e("span",Se,r(a.posts.data.length),1)])):_("",!0)]),_:1})]),_:1})]),e("div",Ve,[a.posts.data.length>0?(i(),c("div",qe,[(i(!0),c(h,null,x(a.posts.data,s=>(i(),p(l(y),{key:s.id,href:`/posts/${s.slug}`,class:"block group"},{default:n(()=>[o(l(k),{class:"bg-[#374151] border-0 hover:bg-[#1f2937] transition-colors"},{default:n(()=>[o(l(C),{class:"p-4"},{default:n(()=>[e("div",De,[e("div",He,[s.first_image?(i(),c("img",{key:0,src:s.first_image.thumb,alt:s.title,class:"w-full h-full object-cover"},null,8,Le)):(i(),c("div",Ne,[e("span",Be,r(s.category.icon||"📝"),1)]))]),e("div",Fe,[e("div",Ie,[e("div",Ue,[o(l(g),{class:"text-white text-xs px-2 py-1",style:E({backgroundColor:s.category.color})},{default:n(()=>[d(r(s.category.name),1)]),_:2},1032,["style"]),o(l(g),{variant:"outline",class:"text-[#999999] border-[#999999] text-xs"},{default:n(()=>[d(r(L(s.type)),1)]),_:2},1024),s.is_featured?(i(),p(l(g),{key:0,class:"bg-[#ff6e02] text-white text-xs"},{default:n(()=>t[14]||(t[14]=[d(" 精选 ",-1)])),_:1,__:[14]})):_("",!0),s.is_premium?(i(),p(l(g),{key:1,class:"bg-yellow-500 text-white text-xs"},{default:n(()=>t[15]||(t[15]=[d(" ⭐ VIP ",-1)])),_:1,__:[15]})):_("",!0)])]),e("h3",ze,r(s.title),1),e("p",Ee,r(s.excerpt),1),e("div",Pe,[e("div",Ge,[e("div",Ke,[o(l(G),{class:"w-6 h-6"},{default:n(()=>[o(l(K),{class:"bg-[#1f2937] text-white text-xs"},{default:n(()=>[d(r(D(s.user.creator_profile?.display_name||s.user.name)),1)]),_:2},1024)]),_:2},1024),e("span",Ae,r(s.user.creator_profile?.display_name||s.user.name),1),s.user.creator_profile?.verification_status==="verified"?(i(),p(l(R),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):_("",!0)]),e("div",Je,[o(l(W),{class:"w-3 h-3"}),d(" "+r(H(s.published_at)),1)])]),e("div",Oe,[e("span",Qe,[o(l(X),{class:"w-3 h-3"}),d(" "+r(s.view_count),1)]),e("span",Re,[o(l(Y),{class:"w-3 h-3"}),d(" "+r(s.like_count),1)]),e("span",We,[o(l(Z),{class:"w-3 h-3"}),d(" "+r(s.comment_count),1)])])])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href"]))),128))])):(i(),c("div",Xe,[t[17]||(t[17]=e("div",{class:"text-6xl mb-4"},"📝",-1)),t[18]||(t[18]=e("h3",{class:"text-white text-lg font-medium mb-2"},"暂无帖子",-1)),e("p",Ye,[a.selectedCategory?(i(),c("span",Ze,"该分类下暂时没有帖子")):(i(),c("span",et,"暂时没有符合条件的帖子"))]),o(l(j),{onClick:t[4]||(t[4]=s=>v(null)),variant:"outline",class:"text-[#ff6e02] border-[#ff6e02]"},{default:n(()=>t[16]||(t[16]=[d(" 浏览所有帖子 ",-1)])),_:1,__:[16]})])),a.posts.last_page>1?(i(),c("div",tt,[e("div",st,[(i(!0),c(h,null,x(a.posts.links,s=>(i(),p(l(y),{key:s.label,href:s.url||"#",class:b(["px-3 py-2 rounded text-sm transition-colors",s.active?"bg-[#ff6e02] text-white":s.url?"bg-[#374151] text-white hover:bg-[#1f2937]":"bg-[#374151] text-[#999999] cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):_("",!0)])])])]),_:1}))}});export{Mt as default};
