import{a as x,_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-BGk7wgJ2.js";import{_ as m}from"./index-q7KJCqQf.js";import{a as C,_ as I}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-DRgMcovP.js";import{d as z,i,o as a,c as u,j as r,e as t,y as h,w as p,a as l,b as e,t as o,F as v,s as j,x as w,f as c}from"./app-BHxxFphG.js";import{C as M}from"./chef-hat-BF_nREda.js";import{M as S}from"./message-square-Dt6a1A17.js";import{H as _}from"./heart-DHCGWfkZ.js";import{E as g}from"./eye-_aHSYX-5.js";import{C as D}from"./crown-BxYMDGol.js";const A={class:"flex items-start gap-3 mb-4"},R=["src","alt"],T={class:"flex-1 min-w-0"},U={class:"flex items-center gap-2 flex-wrap"},V={class:"font-semibold text-white text-sm"},E={key:1,class:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},N={class:"flex items-center gap-2 text-xs text-[#999999] mt-0.5"},q={key:0},P={key:1},H={class:"text-lg font-semibold text-white mb-3 hover:text-[#ff6e02] transition-colors line-clamp-2"},L={key:0,class:"mb-4 rounded-lg overflow-hidden"},F={class:"grid gap-1 grid-cols-3"},G=["src","alt"],J={key:0,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},K={class:"text-white text-lg font-semibold"},O={class:"flex items-center gap-6 text-sm text-[#999999] pt-3 border-t border-[#4B5563]"},Q={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},W={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},X={class:"flex items-center gap-1.5"},Y={class:"flex gap-3"},Z={key:0,class:"flex-shrink-0"},ss=["src","alt"],es={class:"flex-1 min-w-0"},ts={key:0,class:"flex items-center justify-between mb-2"},os={class:"flex items-center gap-2 flex-wrap"},as={class:"flex items-center gap-1"},rs={class:"text-white font-medium text-sm"},ls={class:"text-[#999999] text-xs"},ns={class:"flex items-center gap-2 mb-2 flex-wrap"},is={key:3,class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},ps={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},cs={class:"text-[#999999] text-sm line-clamp-2 mb-3"},ds={key:1,class:"grid grid-cols-3 gap-2 mb-3 max-w-md"},us=["src","alt"],fs={key:2,class:"flex items-center gap-6 text-xs text-[#999999]"},ms={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},hs={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},_s={class:"flex items-center gap-1"},gs={key:2,class:"listclass hover:shadow-lg transition-all duration-200"},vs={class:"pb-3"},ws={class:"flex items-center gap-2 u-m-b-15"},ys={class:"font32 colorfff line-clamp-2 u-m-b-10"},bs={class:"font24 color999 line-clamp-3 u-m-b-15"},ks={key:0,class:"flex-x-center gap-2 u-m-b-15"},xs={class:"font24 color999"},$s={class:"font24 color666 ml-auto"},Cs={key:1,class:"flex-x-center justify-between u-m-t-15 u-p-t-15 border-t border-[#333333]"},Is={class:"flex-x-center gap-4 font24 color999"},js={class:"flex-x-center gap-1"},Ms={class:"flex-x-center gap-1"},Ss={key:3,class:"listclass"},Bs={class:"flex-x items-start gap-4"},zs={class:"flex-1 min-w-0"},Ds={class:"flex-x-center gap-2 u-m-b-10"},As={class:"font24 color666"},Rs={class:"font32 colorfff line-clamp-1 u-m-b-10"},Ts={class:"font24 color999 line-clamp-2 u-m-b-10"},Us={class:"flex-x-center justify-between"},Vs={key:0,class:"font24 color999"},Es={key:1,class:"flex-x-center gap-3 font24 color999"},Ns={class:"flex-x-center gap-1"},qs={class:"flex-x-center gap-1"},Xs=z({__name:"PostCard",props:{post:{},variant:{default:"default"},showAuthor:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showReadMore:{type:Boolean,default:!0},showImages:{type:Boolean,default:!0}},setup(Ps){const y=s=>s.split(" ").map(n=>n[0]).join("").toUpperCase(),b=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=s=>{const n=new Date(s),d=Math.floor((new Date().getTime()-n.getTime())/1e3);return d<60?"刚刚":d<3600?`${Math.floor(d/60)}分钟前`:d<86400?`${Math.floor(d/3600)}小时前`:d<604800?`${Math.floor(d/86400)}天前`:n.toLocaleDateString("zh-CN")},B=s=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[s]||s;return(s,n)=>(a(),i(v,null,[s.variant==="home"?(a(),u(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"block"},{default:p(()=>[l(t($),{class:"bg-transparent border-0 shadow-none overflow-hidden"},{default:p(()=>[l(t(x),{class:"p-4"},{default:p(()=>[e("div",A,[e("img",{src:s.post.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover flex-shrink-0",alt:s.post.user.name,onError:n[0]||(n[0]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,R),e("div",T,[e("div",U,[e("span",V,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(M),{key:0,class:"w-4 h-4 text-[#ff6e02]"})):r("",!0),s.post.has_video?(a(),i("span",E," 视频 ")):r("",!0)]),e("div",N,[s.post.user.creator_profile?.specialty?(a(),i("span",q,o(s.post.user.creator_profile.specialty),1)):r("",!0),s.post.user.creator_profile?.specialty?(a(),i("span",P,"·")):r("",!0),e("span",null,o(k(s.post.published_at)),1)])])]),e("h3",H,o(s.post.title),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),i("div",L,[e("div",F,[(a(!0),i(v,null,j(s.post.post_images.slice(0,3),(f,d)=>(a(),i("div",{key:d,class:"relative overflow-hidden bg-[#1c1c1c] aspect-square"},[e("img",{src:f.thumb||f.url,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",alt:`${s.post.title} - Image ${d+1}`},null,8,G),d===2&&s.post.post_images.length>3?(a(),i("div",J,[e("span",K,"+"+o(s.post.post_images.length-3),1)])):r("",!0)]))),128))])])):r("",!0),e("div",O,[e("span",Q,[l(t(S),{class:"h-4 w-4"}),e("span",null,o(s.post.comment_count||0),1)]),e("span",W,[l(t(_),{class:"h-4 w-4"}),e("span",null,o(s.post.like_count),1)]),e("span",X,[l(t(g),{class:"h-4 w-4"}),e("span",null,o(s.post.view_count),1)])])]),_:1})]),_:1})]),_:1},8,["href"])):s.variant==="list"?(a(),u(t(h),{key:1,href:`/posts/${s.post.slug}`,class:"block group"},{default:p(()=>[l(t($),{class:"bg-transparent border-0 shadow-none"},{default:p(()=>[l(t(x),{class:"p-2 px-2"},{default:p(()=>[e("div",Y,[s.showAuthor&&s.post.user?(a(),i("div",Z,[e("img",{src:s.post.user.avatar?`/storage/${s.post.user.avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover",alt:s.post.user.name,onError:n[1]||(n[1]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,ss)])):r("",!0),e("div",es,[s.showAuthor&&s.post.user?(a(),i("div",ts,[e("div",os,[e("div",as,[e("span",rs,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(M),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):r("",!0)]),n[2]||(n[2]=e("span",{class:"text-[#999999] text-xs"},"·",-1)),e("span",ls,o(k(s.post.published_at)),1)])])):r("",!0),e("div",ns,[l(t(m),{class:"text-white text-xs px-2 py-0.5",style:w({backgroundColor:s.post.category.color})},{default:p(()=>[c(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.type?(a(),u(t(m),{key:0,variant:"outline",class:"text-[#999999] border-[#999999] text-xs px-2 py-0.5"},{default:p(()=>[c(o(B(s.post.type)),1)]),_:1})):r("",!0),s.post.is_featured?(a(),u(t(m),{key:1,class:"bg-[#ff6e02] text-white text-xs px-2 py-0.5"},{default:p(()=>n[3]||(n[3]=[c(" 精选 ",-1)])),_:1,__:[3]})):r("",!0),s.post.is_premium?(a(),u(t(m),{key:2,class:"bg-yellow-500 text-white text-xs px-2 py-0.5"},{default:p(()=>n[4]||(n[4]=[c(" ⭐ VIP ",-1)])),_:1,__:[4]})):r("",!0),s.post.has_video?(a(),i("span",is," 视频 ")):r("",!0)]),e("h3",ps,o(s.post.title),1),e("p",cs,o(s.post.excerpt),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),i("div",ds,[(a(!0),i(v,null,j(s.post.post_images.slice(0,3),(f,d)=>(a(),i("div",{key:d,class:"relative overflow-hidden rounded-lg aspect-square"},[e("img",{src:f.thumb||f.url,class:"w-full h-full object-cover",alt:`${s.post.title} - Image ${d+1}`},null,8,us)]))),128))])):r("",!0),s.showStats?(a(),i("div",fs,[e("span",ms,[l(t(S),{class:"w-4 h-4"}),c(" "+o(s.post.comment_count||0),1)]),e("span",hs,[l(t(_),{class:"w-4 h-4"}),c(" "+o(s.post.like_count),1)]),e("span",_s,[l(t(g),{class:"w-4 h-4"}),c(" "+o(s.post.view_count),1)])])):r("",!0)])])]),_:1})]),_:1})]),_:1},8,["href"])):r("",!0),s.variant==="featured"?(a(),i("div",gs,[e("div",vs,[e("div",ws,[l(t(m),{style:w({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:p(()=>[c(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.is_premium?(a(),u(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:p(()=>[l(t(D),{class:"w-3 h-3 mr-1"}),n[5]||(n[5]=c(" VIP ",-1))]),_:1,__:[5]})):r("",!0)]),e("h3",ys,[l(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:p(()=>[c(o(s.post.title),1)]),_:1},8,["href"])]),e("p",bs,o(s.post.excerpt),1)]),e("div",null,[s.showAuthor?(a(),i("div",ks,[l(t(I),{class:"h-6 w-6"},{default:p(()=>[l(t(C),{class:"text-xs bg-[#ff6e02] text-white"},{default:p(()=>[c(o(y(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1}),e("span",xs,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:p(()=>n[6]||(n[6]=[c(" ✓ ",-1)])),_:1,__:[6]})):r("",!0),e("span",$s,o(b(s.post.published_at)),1)])):r("",!0),s.showStats?(a(),i("div",Cs,[e("div",Is,[e("div",js,[l(t(g),{class:"w-4 h-4"}),e("span",null,o(s.post.view_count),1)]),e("div",Ms,[l(t(_),{class:"w-4 h-4"}),e("span",null,o(s.post.like_count),1)])]),s.showReadMore?(a(),u(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"font24 colorz hover:text-white transition-colors"},{default:p(()=>n[7]||(n[7]=[c(" 查看更多 → ",-1)])),_:1,__:[7]},8,["href"])):r("",!0)])):r("",!0)])])):s.variant==="compact"?(a(),i("div",Ss,[e("div",Bs,[s.showAuthor?(a(),u(t(I),{key:0,class:"h-10 w-10"},{default:p(()=>[l(t(C),{class:"bg-[#ff6e02] text-white"},{default:p(()=>[c(o(y(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1})):r("",!0),e("div",zs,[e("div",Ds,[l(t(m),{style:w({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:p(()=>[c(o(s.post.category.name),1)]),_:1},8,["style"]),e("span",As,o(b(s.post.published_at)),1)]),e("h3",Rs,[l(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:p(()=>[c(o(s.post.title),1)]),_:1},8,["href"])]),e("p",Ts,o(s.post.excerpt),1),e("div",Us,[s.showAuthor?(a(),i("span",Vs,o(s.post.user.creator_profile?.display_name||s.post.user.name),1)):r("",!0),s.showStats?(a(),i("div",Es,[e("span",Ns,[l(t(g),{class:"w-3 h-3"}),c(" "+o(s.post.view_count),1)]),e("span",qs,[l(t(_),{class:"w-3 h-3"}),c(" "+o(s.post.like_count),1)])])):r("",!0)])])])])):r("",!0)],64))}});export{Xs as _};
