import{_ as B}from"./WebLayout.vue_vue_type_script_setup_true_lang-Cd_sTURD.js";import{_ as u}from"./index-DOp6o6QP.js";import{_ as C,a as j}from"./CardContent.vue_vue_type_script_setup_true_lang-CMpJjmVy.js";import{_ as p}from"./index-CBSeQYLu.js";import{B as h,_ as T,b as q,a as N}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-C_OtjVPL.js";import{d as S,c as f,o as i,w as n,a as o,b as t,e as s,h as E,i as c,j as d,y as x,f as m,F as g,s as v,t as r}from"./app-C5EIlnJ8.js";import{A as F}from"./arrow-left-CTzuBIYD.js";import{E as L}from"./eye-DGqLt6A8.js";import{H as A}from"./heart-jXNL08Q_.js";import{M as D}from"./message-square-4U6hh0HQ.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-IVJKBXWn.js";import"./createLucideIcon-DngXTIjq.js";import"./user-CGM14z89.js";import"./Primitive-IH0mllo9.js";import"./index-DUoYzS-7.js";import"./useForwardExpose-orUWESKj.js";import"./usePrimitiveElement-DmxiCugx.js";import"./RovingFocusGroup-BjFPKGAy.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";const z={class:"min-h-screen py-8"},H={class:"max-w-6xl mx-auto px-4"},I={class:"flex items-center mb-8"},M={class:"text-3xl font-bold text-white mb-2 flex items-center gap-3"},R={key:0,class:"text-center py-16"},X={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},O={key:0,class:"aspect-video overflow-hidden"},P=["src","alt"],K={class:"flex items-center justify-between mb-3"},U={class:"flex items-center gap-2"},W={class:"text-lg"},G={class:"text-lg font-semibold text-white hover:text-[#ff6e02] transition-colors mb-3 line-clamp-2"},J={key:0,class:"text-[#999999] text-sm mb-4 line-clamp-3"},Q={class:"flex items-center gap-3 mb-4"},Y={class:"flex-1 min-w-0"},Z={class:"text-sm text-white font-medium truncate"},ee={class:"text-xs text-[#999999]"},te={class:"flex items-center gap-2 mb-4"},se={class:"text-sm text-[#999999]"},ae={class:"flex items-center justify-between text-sm text-[#999999] pt-4 border-t border-[#4B5563]"},oe={class:"flex items-center gap-4"},re={class:"flex items-center gap-1"},ie={class:"flex items-center gap-1"},ne={class:"flex items-center gap-1"},le={key:1,class:"flex flex-wrap gap-1 mt-3"},ce={key:0,class:"text-xs text-[#999999] self-center"},me={key:2,class:"mt-12 flex justify-center"},de={class:"text-[#999999] text-sm"},fe=S({__name:"Favorites",props:{favorites:{}},setup(_e){const b={discussion:"讨论",tutorial:"教程",showcase:"展示",question:"问题"},w={discussion:"💬",tutorial:"📖",showcase:"🎨",question:"❓"};function y(l){return new Date(l).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}function k(l){return l.split(" ").map(a=>a[0]).join("").toUpperCase()}const $=async l=>{try{const a=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");(await fetch(`/posts/${l}/favorite`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":a||""},credentials:"same-origin"})).ok&&window.location.reload()}catch(a){console.error("Error unfavoriting post:",a)}};return(l,a)=>(i(),f(B,null,{default:n(()=>[o(s(E),{title:"我的收藏"}),t("div",z,[t("div",H,[t("div",I,[o(s(x),{href:"/",class:"mr-4"},{default:n(()=>[o(s(u),{variant:"ghost",size:"sm",class:"text-white hover:text-[#ff6e02]"},{default:n(()=>[o(s(F),{class:"h-4 w-4 mr-2"}),a[0]||(a[0]=m(" 返回首页 ",-1))]),_:1,__:[0]})]),_:1}),t("div",null,[t("h1",M,[o(s(h),{class:"h-8 w-8 text-[#ff6e02]"}),a[1]||(a[1]=m(" 我的收藏 ",-1))]),a[2]||(a[2]=t("p",{class:"text-[#999999]"},"管理和浏览你收藏的精彩内容",-1))])]),l.favorites.data.length===0?(i(),c("div",R,[o(s(h),{class:"h-16 w-16 text-[#666666] mx-auto mb-6"}),a[4]||(a[4]=t("h3",{class:"text-xl font-medium text-white mb-4"},"还没有收藏内容",-1)),a[5]||(a[5]=t("p",{class:"text-[#999999] mb-8 max-w-md mx-auto"}," 发现有趣的帖子时，点击收藏按钮保存到这里，方便以后查看 ",-1)),o(s(x),{href:"/"},{default:n(()=>[o(s(u),{class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:n(()=>a[3]||(a[3]=[m(" 去发现内容 ",-1)])),_:1,__:[3]})]),_:1})])):(i(),c("div",X,[(i(!0),c(g,null,v(l.favorites.data,e=>(i(),f(s(C),{key:e.id,class:"bg-[#374151] border-[#4B5563] hover:border-[#6B7280] transition-all duration-200 lg:hover:scale-105 group overflow-hidden"},{default:n(()=>[e.images&&e.images.length>0?(i(),c("div",O,[t("img",{src:e.images[0],alt:e.title,class:"w-full h-full object-cover lg:group-hover:scale-110 transition-transform duration-300"},null,8,P)])):d("",!0),o(s(j),{class:"p-6"},{default:n(()=>[t("div",K,[t("div",U,[t("span",W,r(w[e.type]),1),o(s(p),{class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:n(()=>[m(r(b[e.type]),1)]),_:2},1024)]),o(s(u),{size:"sm",variant:"ghost",onClick:_=>$(e.id),class:"text-[#ff6e02] hover:text-red-400 hover:bg-red-900/20 p-1"},{default:n(()=>[o(s(h),{class:"h-4 w-4 fill-current"})]),_:2},1032,["onClick"])]),o(s(x),{href:`/posts/${e.slug}`},{default:n(()=>[t("h3",G,r(e.title),1)]),_:2},1032,["href"]),e.excerpt?(i(),c("p",J,r(e.excerpt),1)):d("",!0),t("div",Q,[o(s(T),{class:"h-8 w-8"},{default:n(()=>[e.user.avatar?(i(),f(s(q),{key:0,src:e.user.avatar,alt:e.user.name},null,8,["src","alt"])):d("",!0),o(s(N),{class:"bg-[#ff6e02] text-white font-semibold text-xs"},{default:n(()=>[m(r(k(e.user.name)),1)]),_:2},1024)]),_:2},1024),t("div",Y,[t("p",Z,r(e.user.creator_profile?.display_name||e.user.name),1),t("p",ee,r(y(e.published_at||e.created_at)),1)])]),t("div",te,[a[6]||(a[6]=t("div",{class:"w-3 h-3 rounded-full bg-[#ff6e02]"},null,-1)),t("span",se,r(e.category.name),1)]),t("div",ae,[t("div",oe,[t("span",re,[o(s(L),{class:"h-3 w-3"}),m(" "+r(e.view_count),1)]),t("span",ie,[o(s(A),{class:"h-3 w-3"}),m(" "+r(e.like_count),1)]),t("span",ne,[o(s(D),{class:"h-3 w-3"}),m(" "+r(e.comment_count),1)])])]),e.tags&&e.tags.length>0?(i(),c("div",le,[(i(!0),c(g,null,v(e.tags.slice(0,3),_=>(i(),f(s(p),{key:_,class:"text-xs bg-[#1c1c1c] text-[#999999] border-[#4B5563]"},{default:n(()=>[m(" #"+r(_),1)]),_:2},1024))),128)),e.tags.length>3?(i(),c("span",ce," +"+r(e.tags.length-3),1)):d("",!0)])):d("",!0)]),_:2},1024)]),_:2},1024))),128))])),l.favorites.data.length>0?(i(),c("div",me,[t("p",de," 共收藏 "+r(l.favorites.meta?.total||l.favorites.data.length)+" 篇内容 ",1)])):d("",!0)])])]),_:1}))}}),Ae=V(fe,[["__scopeId","data-v-2d5a053b"]]);export{Ae as default};
