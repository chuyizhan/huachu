import{d as w,u as U,c as $,o as u,w as a,a as t,b as o,e,h as C,f as d,g as N,i as p,j as _,n as c,t as i,k as v,v as b,r as S}from"./app-DxAJ7w0k.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BLZ_qhmt.js";import{_ as y}from"./index-CEjfhx85.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-__4QUUhZ.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-43WiZzir.js";import{_ as L}from"./Textarea.vue_vue_type_script_setup_true_lang-B-ZDpv7Q.js";import{_ as z,a as D}from"./CardContent.vue_vue_type_script_setup_true_lang-BseUUG2V.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-BoTss4Nr.js";import{_ as j}from"./CardHeader.vue_vue_type_script_setup_true_lang-nub1wWgp.js";import{_ as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-CwKQZpIW.js";import{A}from"./arrow-left-B6VSus5x.js";import"./Primitive-W671HvTb.js";import"./useForwardExpose-53xWBiet.js";import"./usePrimitiveElement-CCqH5VeB.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-D9eBoFij.js";import"./createLucideIcon-aK2dV7pm.js";import"./RovingFocusGroup-BLtbPYF8.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";import"./VisuallyHidden-BUcQhqYD.js";import"./index-CYkWvWbv.js";import"./DialogTitle-YWXbrnu7.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-B3vnSdUK.js";import"./shield-bLrC_MJS.js";import"./file-text-BdJmQBE4.js";import"./trending-up-BjeL4UL8.js";import"./book-open-B8JtalBM.js";import"./chevron-right-DJ2Lmx10.js";const E={class:"py-12"},R={class:"w-full sm:px-6 lg:px-8"},F={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},T={class:"p-6 text-gray-900 dark:text-gray-100"},G={class:"mb-6 flex items-center justify-between"},H={class:"flex items-center gap-4"},I={class:"space-y-2"},J={key:0,class:"text-sm text-red-500"},K={class:"space-y-2"},O={key:0,class:"text-sm text-red-500"},P={class:"space-y-2"},Q={key:0,class:"text-sm text-red-500"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={class:"space-y-2"},Y={class:"flex gap-2"},Z={key:0,class:"text-sm text-red-500"},h={class:"space-y-2"},ee={key:0,class:"text-sm text-red-500"},se={class:"space-y-2"},re={key:0,class:"text-sm text-red-500"},oe={class:"flex items-center space-x-2"},te={class:"space-y-4"},le={class:"flex items-center space-x-2"},ae={key:0,class:"space-y-2 pl-6"},de={key:0,class:"text-sm text-red-500"},ie={class:"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg"},ne={class:"text-sm text-gray-600 dark:text-gray-400 space-y-1"},ue={class:"font-semibold"},me={class:"flex gap-4"},Te=w({__name:"Edit",props:{category:{}},setup(k){const n=k,r=U({name:n.category.name,slug:n.category.slug,description:n.category.description||"",color:n.category.color,icon:n.category.icon||"",sort_order:n.category.sort_order,is_active:n.category.is_active,is_nav_item:n.category.is_nav_item,nav_route:n.category.nav_route||""}),V=()=>{r.put(`/admin/categories/${n.category.id}`,{preserveScroll:!0,onSuccess:()=>{}})},x=()=>{S.visit("/admin/categories")};return(f,s)=>(u(),$(B,null,{default:a(()=>[t(e(C),{title:`编辑分类 - ${f.category.name}`},null,8,["title"]),o("div",E,[o("div",R,[o("div",F,[o("div",T,[o("div",G,[o("div",H,[t(e(y),{variant:"outline",size:"icon",onClick:x},{default:a(()=>[t(e(A),{class:"h-4 w-4"})]),_:1}),s[10]||(s[10]=o("h1",{class:"text-2xl font-semibold"},"编辑分类",-1))])]),t(e(z),null,{default:a(()=>[t(e(j),null,{default:a(()=>[t(e(q),null,{default:a(()=>s[11]||(s[11]=[d("分类信息",-1)])),_:1,__:[11]}),t(e(M),null,{default:a(()=>s[12]||(s[12]=[d(" 编辑分类的基本信息和设置 ",-1)])),_:1,__:[12]})]),_:1}),t(e(D),null,{default:a(()=>[o("form",{onSubmit:N(V,["prevent"]),class:"space-y-6"},[o("div",I,[t(e(m),{for:"name"},{default:a(()=>s[13]||(s[13]=[d("分类名称 *",-1)])),_:1,__:[13]}),t(e(g),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":s[0]||(s[0]=l=>e(r).name=l),type:"text",required:"",class:c({"border-red-500":e(r).errors.name})},null,8,["modelValue","class"]),e(r).errors.name?(u(),p("p",J,i(e(r).errors.name),1)):_("",!0)]),o("div",K,[t(e(m),{for:"slug"},{default:a(()=>s[14]||(s[14]=[d("别名 (URL) *",-1)])),_:1,__:[14]}),t(e(g),{id:"slug",modelValue:e(r).slug,"onUpdate:modelValue":s[1]||(s[1]=l=>e(r).slug=l),type:"text",required:"",placeholder:"category-slug",class:c({"border-red-500":e(r).errors.slug})},null,8,["modelValue","class"]),s[15]||(s[15]=o("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 用于URL的唯一标识符，只能包含小写字母、数字和连字符 ",-1)),e(r).errors.slug?(u(),p("p",O,i(e(r).errors.slug),1)):_("",!0)]),o("div",P,[t(e(m),{for:"description"},{default:a(()=>s[16]||(s[16]=[d("描述",-1)])),_:1,__:[16]}),t(L,{id:"description",modelValue:e(r).description,"onUpdate:modelValue":s[2]||(s[2]=l=>e(r).description=l),rows:"3",placeholder:"分类描述...",class:c({"border-red-500":e(r).errors.description})},null,8,["modelValue","class"]),e(r).errors.description?(u(),p("p",Q,i(e(r).errors.description),1)):_("",!0)]),o("div",W,[o("div",X,[t(e(m),{for:"color"},{default:a(()=>s[17]||(s[17]=[d("颜色",-1)])),_:1,__:[17]}),o("div",Y,[t(e(g),{id:"color",modelValue:e(r).color,"onUpdate:modelValue":s[3]||(s[3]=l=>e(r).color=l),type:"color",class:c(["w-20 h-10 p-1 cursor-pointer",{"border-red-500":e(r).errors.color}])},null,8,["modelValue","class"]),t(e(g),{modelValue:e(r).color,"onUpdate:modelValue":s[4]||(s[4]=l=>e(r).color=l),type:"text",placeholder:"#3b82f6",class:c(["flex-1",{"border-red-500":e(r).errors.color}])},null,8,["modelValue","class"])]),e(r).errors.color?(u(),p("p",Z,i(e(r).errors.color),1)):_("",!0)]),o("div",h,[t(e(m),{for:"icon"},{default:a(()=>s[18]||(s[18]=[d("图标类名",-1)])),_:1,__:[18]}),t(e(g),{id:"icon",modelValue:e(r).icon,"onUpdate:modelValue":s[5]||(s[5]=l=>e(r).icon=l),type:"text",placeholder:"lucide-icon-name",class:c({"border-red-500":e(r).errors.icon})},null,8,["modelValue","class"]),s[19]||(s[19]=o("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 图标类名或标识符 ",-1)),e(r).errors.icon?(u(),p("p",ee,i(e(r).errors.icon),1)):_("",!0)])]),o("div",se,[t(e(m),{for:"sort_order"},{default:a(()=>s[20]||(s[20]=[d("排序顺序",-1)])),_:1,__:[20]}),t(e(g),{id:"sort_order",modelValue:e(r).sort_order,"onUpdate:modelValue":s[6]||(s[6]=l=>e(r).sort_order=l),modelModifiers:{number:!0},type:"number",class:c({"border-red-500":e(r).errors.sort_order})},null,8,["modelValue","class"]),s[21]||(s[21]=o("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 数字越小排序越靠前 ",-1)),e(r).errors.sort_order?(u(),p("p",re,i(e(r).errors.sort_order),1)):_("",!0)]),o("div",oe,[v(o("input",{id:"is_active","onUpdate:modelValue":s[7]||(s[7]=l=>e(r).is_active=l),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[b,e(r).is_active]]),t(e(m),{for:"is_active",class:"cursor-pointer"},{default:a(()=>s[22]||(s[22]=[d(" 启用分类 ",-1)])),_:1,__:[22]})]),o("div",te,[o("div",le,[v(o("input",{id:"is_nav_item","onUpdate:modelValue":s[8]||(s[8]=l=>e(r).is_nav_item=l),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[b,e(r).is_nav_item]]),t(e(m),{for:"is_nav_item",class:"cursor-pointer"},{default:a(()=>s[23]||(s[23]=[d(" 显示在导航菜单 ",-1)])),_:1,__:[23]})]),e(r).is_nav_item?(u(),p("div",ae,[t(e(m),{for:"nav_route"},{default:a(()=>s[24]||(s[24]=[d("导航路由",-1)])),_:1,__:[24]}),t(e(g),{id:"nav_route",modelValue:e(r).nav_route,"onUpdate:modelValue":s[9]||(s[9]=l=>e(r).nav_route=l),type:"text",placeholder:"/category/slug",class:c({"border-red-500":e(r).errors.nav_route})},null,8,["modelValue","class"]),s[25]||(s[25]=o("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 导航菜单中的链接地址 ",-1)),e(r).errors.nav_route?(u(),p("p",de,i(e(r).errors.nav_route),1)):_("",!0)])):_("",!0)]),o("div",ie,[s[27]||(s[27]=o("h3",{class:"text-sm font-medium mb-2"},"分类统计",-1)),o("div",ne,[o("p",null,[s[26]||(s[26]=d("关联帖子数: ",-1)),o("span",ue,i(f.category.posts_count),1)]),o("p",null,"创建时间: "+i(new Date(f.category.created_at).toLocaleString("zh-CN")),1),o("p",null,"更新时间: "+i(new Date(f.category.updated_at).toLocaleString("zh-CN")),1)])]),o("div",me,[t(e(y),{type:"submit",disabled:e(r).processing},{default:a(()=>[d(i(e(r).processing?"保存中...":"保存更改"),1)]),_:1},8,["disabled"]),t(e(y),{type:"button",variant:"outline",onClick:x},{default:a(()=>s[28]||(s[28]=[d(" 取消 ",-1)])),_:1,__:[28]})])],32)]),_:1})]),_:1})])])])])]),_:1}))}});export{Te as default};
