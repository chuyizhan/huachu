import{a as x,_ as $}from"./CardContent.vue_vue_type_script_setup_true_lang-CyIBYXU4.js";import{_ as m}from"./index-gp64BXSy.js";import{a as C,_ as I}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-CnjjDV1A.js";import{d as z,i,o as a,c as u,j as r,e as t,m as h,w as p,a as l,b as s,t as o,F as v,x as j,y as w,f as c}from"./app-CFoezxJ4.js";import{C as M}from"./trending-up-BFSKtAq1.js";import{M as S}from"./message-square-C9Z2hg8M.js";import{H as _}from"./heart-CKpqwPG1.js";import{E as g}from"./eye-BtC8NJgZ.js";import{C as D}from"./crown-iDXgpYyF.js";const A={class:"flex items-start gap-3 mb-4"},R=["src","alt"],T={class:"flex-1 min-w-0"},U={class:"flex items-center gap-2 flex-wrap"},V={class:"font-semibold text-white text-sm"},E={key:1,class:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},N={class:"flex items-center gap-2 text-xs text-[#999999] mt-0.5"},q={key:0},P={key:1},H={class:"text-lg font-semibold text-white mb-3 hover:text-[#ff6e02] transition-colors line-clamp-2"},L={key:0,class:"mb-4 rounded-lg overflow-hidden"},F={class:"grid gap-1 grid-cols-3"},G=["src","alt"],J={key:0,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},K={class:"text-white text-lg font-semibold"},O={class:"flex items-center gap-6 text-sm text-[#999999] pt-3 border-t border-[#4B5563]"},Q={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},W={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},X={class:"flex items-center gap-1.5"},Y={class:"flex gap-3"},Z={key:0,class:"flex-shrink-0"},ee=["src","alt"],se={class:"flex-1 min-w-0"},te={key:0,class:"flex items-center justify-between mb-2"},oe={class:"flex items-center gap-2 flex-wrap"},ae={class:"flex items-center gap-1"},re={class:"text-white font-medium text-sm"},le={class:"text-[#999999] text-xs"},ne={class:"flex items-center gap-2 mb-2 flex-wrap"},ie={key:3,class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},pe={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},ce={class:"text-[#999999] text-sm line-clamp-2 mb-3"},de={key:1,class:"grid grid-cols-3 gap-2 mb-3 max-w-md"},ue=["src","alt"],fe={key:2,class:"flex items-center gap-6 text-xs text-[#999999]"},me={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},he={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},_e={class:"flex items-center gap-1"},ge={key:2,class:"listclass hover:shadow-lg transition-all duration-200"},ve={class:"pb-3"},we={class:"flex items-center gap-2 u-m-b-15"},ye={class:"font32 colorfff line-clamp-2 u-m-b-10"},be={class:"font24 color999 line-clamp-3 u-m-b-15"},ke={key:0,class:"flex-x-center gap-2 u-m-b-15"},xe={class:"font24 color999"},$e={class:"font24 color666 ml-auto"},Ce={key:1,class:"flex-x-center justify-between u-m-t-15 u-p-t-15 border-t border-[#333333]"},Ie={class:"flex-x-center gap-4 font24 color999"},je={class:"flex-x-center gap-1"},Me={class:"flex-x-center gap-1"},Se={key:3,class:"listclass"},Be={class:"flex-x items-start gap-4"},ze={class:"flex-1 min-w-0"},De={class:"flex-x-center gap-2 u-m-b-10"},Ae={class:"font24 color666"},Re={class:"font32 colorfff line-clamp-1 u-m-b-10"},Te={class:"font24 color999 line-clamp-2 u-m-b-10"},Ue={class:"flex-x-center justify-between"},Ve={key:0,class:"font24 color999"},Ee={key:1,class:"flex-x-center gap-3 font24 color999"},Ne={class:"flex-x-center gap-1"},qe={class:"flex-x-center gap-1"},Xe=z({__name:"PostCard",props:{post:{},variant:{default:"default"},showAuthor:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showReadMore:{type:Boolean,default:!0},showImages:{type:Boolean,default:!0}},setup(Pe){const y=e=>e.split(" ").map(n=>n[0]).join("").toUpperCase(),b=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=e=>{const n=new Date(e),d=Math.floor((new Date().getTime()-n.getTime())/1e3);return d<60?"刚刚":d<3600?`${Math.floor(d/60)}分钟前`:d<86400?`${Math.floor(d/3600)}小时前`:d<604800?`${Math.floor(d/86400)}天前`:n.toLocaleDateString("zh-CN")},B=e=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[e]||e;return(e,n)=>(a(),i(v,null,[e.variant==="home"?(a(),u(t(h),{key:0,href:`/posts/${e.post.slug}`,class:"block"},{default:p(()=>[l(t($),{class:"bg-transparent border-0 shadow-none overflow-hidden"},{default:p(()=>[l(t(x),{class:"p-4"},{default:p(()=>[s("div",A,[s("img",{src:e.post.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.post.user.creator_profile?.display_name||e.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover flex-shrink-0",alt:e.post.user.name,onError:n[0]||(n[0]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,R),s("div",T,[s("div",U,[s("span",V,o(e.post.user.creator_profile?.display_name||e.post.user.name),1),e.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(M),{key:0,class:"w-4 h-4 text-[#ff6e02]"})):r("",!0),e.post.has_video?(a(),i("span",E," 视频 ")):r("",!0)]),s("div",N,[e.post.user.creator_profile?.specialty?(a(),i("span",q,o(e.post.user.creator_profile.specialty),1)):r("",!0),e.post.user.creator_profile?.specialty?(a(),i("span",P,"·")):r("",!0),s("span",null,o(k(e.post.published_at)),1)])])]),s("h3",H,o(e.post.title),1),e.showImages&&e.post.post_images&&e.post.post_images.length>0?(a(),i("div",L,[s("div",F,[(a(!0),i(v,null,j(e.post.post_images.slice(0,3),(f,d)=>(a(),i("div",{key:d,class:"relative overflow-hidden bg-[#1c1c1c] aspect-square"},[s("img",{src:f.thumb||f.url,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",alt:`${e.post.title} - Image ${d+1}`},null,8,G),d===2&&e.post.post_images.length>3?(a(),i("div",J,[s("span",K,"+"+o(e.post.post_images.length-3),1)])):r("",!0)]))),128))])])):r("",!0),s("div",O,[s("span",Q,[l(t(S),{class:"h-4 w-4"}),s("span",null,o(e.post.comment_count||0),1)]),s("span",W,[l(t(_),{class:"h-4 w-4"}),s("span",null,o(e.post.like_count),1)]),s("span",X,[l(t(g),{class:"h-4 w-4"}),s("span",null,o(e.post.view_count),1)])])]),_:1})]),_:1})]),_:1},8,["href"])):e.variant==="list"?(a(),u(t(h),{key:1,href:`/posts/${e.post.slug}`,class:"block group"},{default:p(()=>[l(t($),{class:"bg-transparent border-0 shadow-none"},{default:p(()=>[l(t(x),{class:"p-2 px-2"},{default:p(()=>[s("div",Y,[e.showAuthor&&e.post.user?(a(),i("div",Z,[s("img",{src:e.post.user.avatar?`/storage/${e.post.user.avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.post.user.creator_profile?.display_name||e.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover",alt:e.post.user.name,onError:n[1]||(n[1]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,ee)])):r("",!0),s("div",se,[e.showAuthor&&e.post.user?(a(),i("div",te,[s("div",oe,[s("div",ae,[s("span",re,o(e.post.user.creator_profile?.display_name||e.post.user.name),1),e.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(M),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):r("",!0)]),n[2]||(n[2]=s("span",{class:"text-[#999999] text-xs"},"·",-1)),s("span",le,o(k(e.post.published_at)),1)])])):r("",!0),s("div",ne,[l(t(m),{class:"text-white text-xs px-2 py-0.5",style:w({backgroundColor:e.post.category.color})},{default:p(()=>[c(o(e.post.category.name),1)]),_:1},8,["style"]),e.post.type?(a(),u(t(m),{key:0,variant:"outline",class:"text-[#999999] border-[#999999] text-xs px-2 py-0.5"},{default:p(()=>[c(o(B(e.post.type)),1)]),_:1})):r("",!0),e.post.is_featured?(a(),u(t(m),{key:1,class:"bg-[#ff6e02] text-white text-xs px-2 py-0.5"},{default:p(()=>n[3]||(n[3]=[c(" 精选 ",-1)])),_:1,__:[3]})):r("",!0),e.post.is_premium?(a(),u(t(m),{key:2,class:"bg-yellow-500 text-white text-xs px-2 py-0.5"},{default:p(()=>n[4]||(n[4]=[c(" ⭐ VIP ",-1)])),_:1,__:[4]})):r("",!0),e.post.has_video?(a(),i("span",ie," 视频 ")):r("",!0)]),s("h3",pe,o(e.post.title),1),s("p",ce,o(e.post.excerpt),1),e.showImages&&e.post.post_images&&e.post.post_images.length>0?(a(),i("div",de,[(a(!0),i(v,null,j(e.post.post_images.slice(0,3),(f,d)=>(a(),i("div",{key:d,class:"relative overflow-hidden rounded-lg aspect-square"},[s("img",{src:f.thumb||f.url,class:"w-full h-full object-cover",alt:`${e.post.title} - Image ${d+1}`},null,8,ue)]))),128))])):r("",!0),e.showStats?(a(),i("div",fe,[s("span",me,[l(t(S),{class:"w-4 h-4"}),c(" "+o(e.post.comment_count||0),1)]),s("span",he,[l(t(_),{class:"w-4 h-4"}),c(" "+o(e.post.like_count),1)]),s("span",_e,[l(t(g),{class:"w-4 h-4"}),c(" "+o(e.post.view_count),1)])])):r("",!0)])])]),_:1})]),_:1})]),_:1},8,["href"])):r("",!0),e.variant==="featured"?(a(),i("div",ge,[s("div",ve,[s("div",we,[l(t(m),{style:w({backgroundColor:e.post.category.color}),class:"text-white text-xs rounded-40"},{default:p(()=>[c(o(e.post.category.name),1)]),_:1},8,["style"]),e.post.is_premium?(a(),u(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:p(()=>[l(t(D),{class:"w-3 h-3 mr-1"}),n[5]||(n[5]=c(" VIP ",-1))]),_:1,__:[5]})):r("",!0)]),s("h3",ye,[l(t(h),{href:`/posts/${e.post.slug}`,class:"hover:text-primary"},{default:p(()=>[c(o(e.post.title),1)]),_:1},8,["href"])]),s("p",be,o(e.post.excerpt),1)]),s("div",null,[e.showAuthor?(a(),i("div",ke,[l(t(I),{class:"h-6 w-6"},{default:p(()=>[l(t(C),{class:"text-xs bg-[#ff6e02] text-white"},{default:p(()=>[c(o(y(e.post.user.creator_profile?.display_name||e.post.user.name)),1)]),_:1})]),_:1}),s("span",xe,o(e.post.user.creator_profile?.display_name||e.post.user.name),1),e.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:p(()=>n[6]||(n[6]=[c(" ✓ ",-1)])),_:1,__:[6]})):r("",!0),s("span",$e,o(b(e.post.published_at)),1)])):r("",!0),e.showStats?(a(),i("div",Ce,[s("div",Ie,[s("div",je,[l(t(g),{class:"w-4 h-4"}),s("span",null,o(e.post.view_count),1)]),s("div",Me,[l(t(_),{class:"w-4 h-4"}),s("span",null,o(e.post.like_count),1)])]),e.showReadMore?(a(),u(t(h),{key:0,href:`/posts/${e.post.slug}`,class:"font24 colorz hover:text-white transition-colors"},{default:p(()=>n[7]||(n[7]=[c(" 查看更多 → ",-1)])),_:1,__:[7]},8,["href"])):r("",!0)])):r("",!0)])])):e.variant==="compact"?(a(),i("div",Se,[s("div",Be,[e.showAuthor?(a(),u(t(I),{key:0,class:"h-10 w-10"},{default:p(()=>[l(t(C),{class:"bg-[#ff6e02] text-white"},{default:p(()=>[c(o(y(e.post.user.creator_profile?.display_name||e.post.user.name)),1)]),_:1})]),_:1})):r("",!0),s("div",ze,[s("div",De,[l(t(m),{style:w({backgroundColor:e.post.category.color}),class:"text-white text-xs rounded-40"},{default:p(()=>[c(o(e.post.category.name),1)]),_:1},8,["style"]),s("span",Ae,o(b(e.post.published_at)),1)]),s("h3",Re,[l(t(h),{href:`/posts/${e.post.slug}`,class:"hover:text-primary"},{default:p(()=>[c(o(e.post.title),1)]),_:1},8,["href"])]),s("p",Te,o(e.post.excerpt),1),s("div",Ue,[e.showAuthor?(a(),i("span",Ve,o(e.post.user.creator_profile?.display_name||e.post.user.name),1)):r("",!0),e.showStats?(a(),i("div",Ee,[s("span",Ne,[l(t(g),{class:"w-3 h-3"}),c(" "+o(e.post.view_count),1)]),s("span",qe,[l(t(_),{class:"w-3 h-3"}),c(" "+o(e.post.like_count),1)])])):r("",!0)])])])])):r("",!0)],64))}});export{Xe as _};
