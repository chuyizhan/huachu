import{d as C,u as $,r as M,c as q,o as i,w as d,a as r,b as o,e,h as B,f as a,g as F,i as u,j as _,n as f,t as m,m as z,F as N,s as L,k as y,v as b,x as S,l as j}from"./app-Dh8QVvHi.js";import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-dMepkuBd.js";import{_ as g}from"./index-COyKrjZ-.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-BT6VNm31.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-B6ymCJmo.js";import{_ as D}from"./Textarea.vue_vue_type_script_setup_true_lang-Cq13ALy4.js";import{_ as K,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-DEcWGGrC.js";import{_ as I}from"./CardDescription.vue_vue_type_script_setup_true_lang-D7AYn274.js";import{_ as R}from"./CardHeader.vue_vue_type_script_setup_true_lang-C-HBSyDy.js";import{_ as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-DRb-ABh6.js";import{A as G}from"./arrow-left-CfIEHMPb.js";import"./Primitive-BkPpUNrp.js";import"./useForwardExpose-CTzs20aV.js";import"./usePrimitiveElement-P5FDKEnr.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-DHr8TswC.js";import"./createLucideIcon-Cg6yEDTG.js";import"./RovingFocusGroup-CZQtZIYk.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";import"./VisuallyHidden-8knx7jjg.js";import"./index-DJNnRsyn.js";import"./DialogTitle-E0AWUOaG.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D-wG-ot2.js";import"./shield-ClyUMdGH.js";import"./file-text-BANpqZHr.js";import"./trending-up-OMkW6dJS.js";import"./chevron-right-ChZc1-AK.js";const H={class:"py-12"},J={class:"w-full sm:px-6 lg:px-8"},O={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},P={class:"p-6 text-gray-900 dark:text-gray-100"},Q={class:"mb-6 flex items-center gap-4"},W={class:"space-y-4"},X={class:"grid grid-cols-2 gap-4"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-red-500"},h={class:"space-y-2"},ee={key:0,class:"text-sm text-red-500"},se={class:"space-y-2"},te={key:0,class:"text-sm text-red-500"},oe={class:"space-y-2"},re={key:0,class:"text-sm text-red-500"},le={class:"space-y-2"},de={key:0,class:"text-sm text-red-500"},ae={class:"space-y-4 pt-6 border-t"},ie={class:"grid grid-cols-2 gap-4"},ne={class:"space-y-2"},ue={key:0,class:"text-sm text-red-500"},me={class:"space-y-2"},pe={key:0,class:"text-sm text-red-500"},_e={class:"space-y-4 pt-6 border-t"},fe={class:"space-y-2"},ce={class:"flex gap-2"},ge={key:0,class:"mt-2 space-y-2"},ye={class:"space-y-2"},be={key:0,class:"text-sm text-red-500"},xe={class:"flex items-center space-x-2"},ve={class:"flex items-center space-x-2"},Ve={class:"space-y-4 pt-6 border-t"},ke={class:"grid grid-cols-2 gap-4"},we={class:"space-y-2"},Ue={class:"flex gap-2"},Ce={key:0,class:"text-sm text-red-500"},$e={class:"space-y-2"},Me={class:"flex gap-2"},qe={key:0,class:"text-sm text-red-500"},Be={class:"p-4 bg-gray-50 dark:bg-gray-900 rounded"},Fe={class:"space-y-4 pt-6 border-t"},ze={class:"flex items-center space-x-2"},Ne={class:"flex gap-4 pt-6"},is=C({__name:"Create",setup(Le){const t=$({level:0,name:"",slug:"",description:"",price:0,period_days:30,features:[],max_premium_posts:null,can_create_premium_content:!1,priority_support:!1,badge_color:"#fbbf24",badge_text_color:"#ffffff",sort_order:0,is_active:!0}),c=M(""),x=()=>{c.value.trim()&&(t.features.push(c.value.trim()),c.value="")},w=V=>{t.features.splice(V,1)},U=()=>{t.post("/admin/plans")},v=()=>{j.visit("/admin/plans")};return(V,s)=>(i(),q(A,null,{default:d(()=>[r(e(B),{title:"创建套餐"}),o("div",H,[o("div",J,[o("div",O,[o("div",P,[o("div",Q,[r(e(g),{variant:"outline",size:"icon",onClick:v},{default:d(()=>[r(e(G),{class:"h-4 w-4"})]),_:1}),s[16]||(s[16]=o("h1",{class:"text-2xl font-semibold"},"创建套餐",-1))]),r(e(K),null,{default:d(()=>[r(e(R),null,{default:d(()=>[r(e(T),null,{default:d(()=>s[17]||(s[17]=[a("套餐信息",-1)])),_:1,__:[17]}),r(e(I),null,{default:d(()=>s[18]||(s[18]=[a("填写套餐的详细信息",-1)])),_:1,__:[18]})]),_:1}),r(e(E),null,{default:d(()=>[o("form",{onSubmit:F(U,["prevent"]),class:"space-y-6"},[o("div",W,[s[25]||(s[25]=o("h3",{class:"text-lg font-medium"},"基本信息",-1)),o("div",X,[o("div",Y,[r(e(n),{for:"level"},{default:d(()=>s[19]||(s[19]=[a("等级 *",-1)])),_:1,__:[19]}),r(e(p),{id:"level",modelValue:e(t).level,"onUpdate:modelValue":s[0]||(s[0]=l=>e(t).level=l),modelModifiers:{number:!0},type:"number",required:"",class:f({"border-red-500":e(t).errors.level})},null,8,["modelValue","class"]),e(t).errors.level?(i(),u("p",Z,m(e(t).errors.level),1)):_("",!0)]),o("div",h,[r(e(n),{for:"sort_order"},{default:d(()=>s[20]||(s[20]=[a("排序 *",-1)])),_:1,__:[20]}),r(e(p),{id:"sort_order",modelValue:e(t).sort_order,"onUpdate:modelValue":s[1]||(s[1]=l=>e(t).sort_order=l),modelModifiers:{number:!0},type:"number",required:"",class:f({"border-red-500":e(t).errors.sort_order})},null,8,["modelValue","class"]),e(t).errors.sort_order?(i(),u("p",ee,m(e(t).errors.sort_order),1)):_("",!0)])]),o("div",se,[r(e(n),{for:"name"},{default:d(()=>s[21]||(s[21]=[a("套餐名称 *",-1)])),_:1,__:[21]}),r(e(p),{id:"name",modelValue:e(t).name,"onUpdate:modelValue":s[2]||(s[2]=l=>e(t).name=l),required:"",class:f({"border-red-500":e(t).errors.name})},null,8,["modelValue","class"]),e(t).errors.name?(i(),u("p",te,m(e(t).errors.name),1)):_("",!0)]),o("div",oe,[r(e(n),{for:"slug"},{default:d(()=>s[22]||(s[22]=[a("别名 *",-1)])),_:1,__:[22]}),r(e(p),{id:"slug",modelValue:e(t).slug,"onUpdate:modelValue":s[3]||(s[3]=l=>e(t).slug=l),required:"",class:f({"border-red-500":e(t).errors.slug})},null,8,["modelValue","class"]),s[23]||(s[23]=o("p",{class:"text-sm text-gray-500"},"用于URL的唯一标识",-1)),e(t).errors.slug?(i(),u("p",re,m(e(t).errors.slug),1)):_("",!0)]),o("div",le,[r(e(n),{for:"description"},{default:d(()=>s[24]||(s[24]=[a("描述",-1)])),_:1,__:[24]}),r(D,{id:"description",modelValue:e(t).description,"onUpdate:modelValue":s[4]||(s[4]=l=>e(t).description=l),rows:"3",class:f({"border-red-500":e(t).errors.description})},null,8,["modelValue","class"]),e(t).errors.description?(i(),u("p",de,m(e(t).errors.description),1)):_("",!0)])]),o("div",ae,[s[28]||(s[28]=o("h3",{class:"text-lg font-medium"},"价格与周期",-1)),o("div",ie,[o("div",ne,[r(e(n),{for:"price"},{default:d(()=>s[26]||(s[26]=[a("价格 (¥) *",-1)])),_:1,__:[26]}),r(e(p),{id:"price",modelValue:e(t).price,"onUpdate:modelValue":s[5]||(s[5]=l=>e(t).price=l),modelModifiers:{number:!0},type:"number",step:"0.01",required:"",class:f({"border-red-500":e(t).errors.price})},null,8,["modelValue","class"]),e(t).errors.price?(i(),u("p",ue,m(e(t).errors.price),1)):_("",!0)]),o("div",me,[r(e(n),{for:"period_days"},{default:d(()=>s[27]||(s[27]=[a("有效期 (天) *",-1)])),_:1,__:[27]}),r(e(p),{id:"period_days",modelValue:e(t).period_days,"onUpdate:modelValue":s[6]||(s[6]=l=>e(t).period_days=l),modelModifiers:{number:!0},type:"number",required:"",class:f({"border-red-500":e(t).errors.period_days})},null,8,["modelValue","class"]),e(t).errors.period_days?(i(),u("p",pe,m(e(t).errors.period_days),1)):_("",!0)])])]),o("div",_e,[s[36]||(s[36]=o("h3",{class:"text-lg font-medium"},"功能特性",-1)),o("div",fe,[r(e(n),null,{default:d(()=>s[29]||(s[29]=[a("功能列表",-1)])),_:1,__:[29]}),o("div",ce,[r(e(p),{modelValue:c.value,"onUpdate:modelValue":s[7]||(s[7]=l=>c.value=l),placeholder:"输入功能特性...",onKeyup:z(x,["enter"])},null,8,["modelValue"]),r(e(g),{type:"button",onClick:x},{default:d(()=>s[30]||(s[30]=[a("添加",-1)])),_:1,__:[30]})]),e(t).features.length>0?(i(),u("div",ge,[(i(!0),u(N,null,L(e(t).features,(l,k)=>(i(),u("div",{key:k,class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-900 rounded"},[o("span",null,m(l),1),r(e(g),{type:"button",variant:"ghost",size:"sm",onClick:Se=>w(k)},{default:d(()=>s[31]||(s[31]=[a("删除",-1)])),_:2,__:[31]},1032,["onClick"])]))),128))])):_("",!0)]),o("div",ye,[r(e(n),{for:"max_premium_posts"},{default:d(()=>s[32]||(s[32]=[a("最大付费帖子数",-1)])),_:1,__:[32]}),r(e(p),{id:"max_premium_posts",modelValue:e(t).max_premium_posts,"onUpdate:modelValue":s[8]||(s[8]=l=>e(t).max_premium_posts=l),modelModifiers:{number:!0},type:"number",placeholder:"留空表示无限制",class:f({"border-red-500":e(t).errors.max_premium_posts})},null,8,["modelValue","class"]),s[33]||(s[33]=o("p",{class:"text-sm text-gray-500"},"留空表示无限制",-1)),e(t).errors.max_premium_posts?(i(),u("p",be,m(e(t).errors.max_premium_posts),1)):_("",!0)]),o("div",xe,[y(o("input",{id:"can_create_premium_content","onUpdate:modelValue":s[9]||(s[9]=l=>e(t).can_create_premium_content=l),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"},null,512),[[b,e(t).can_create_premium_content]]),r(e(n),{for:"can_create_premium_content",class:"cursor-pointer"},{default:d(()=>s[34]||(s[34]=[a("允许创建付费内容",-1)])),_:1,__:[34]})]),o("div",ve,[y(o("input",{id:"priority_support","onUpdate:modelValue":s[10]||(s[10]=l=>e(t).priority_support=l),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"},null,512),[[b,e(t).priority_support]]),r(e(n),{for:"priority_support",class:"cursor-pointer"},{default:d(()=>s[35]||(s[35]=[a("优先客服支持",-1)])),_:1,__:[35]})])]),o("div",Ve,[s[40]||(s[40]=o("h3",{class:"text-lg font-medium"},"徽章设置",-1)),o("div",ke,[o("div",we,[r(e(n),{for:"badge_color"},{default:d(()=>s[37]||(s[37]=[a("徽章颜色 *",-1)])),_:1,__:[37]}),o("div",Ue,[r(e(p),{id:"badge_color",modelValue:e(t).badge_color,"onUpdate:modelValue":s[11]||(s[11]=l=>e(t).badge_color=l),type:"color",class:"w-20"},null,8,["modelValue"]),r(e(p),{modelValue:e(t).badge_color,"onUpdate:modelValue":s[12]||(s[12]=l=>e(t).badge_color=l)},null,8,["modelValue"])]),e(t).errors.badge_color?(i(),u("p",Ce,m(e(t).errors.badge_color),1)):_("",!0)]),o("div",$e,[r(e(n),{for:"badge_text_color"},{default:d(()=>s[38]||(s[38]=[a("文字颜色 *",-1)])),_:1,__:[38]}),o("div",Me,[r(e(p),{id:"badge_text_color",modelValue:e(t).badge_text_color,"onUpdate:modelValue":s[13]||(s[13]=l=>e(t).badge_text_color=l),type:"color",class:"w-20"},null,8,["modelValue"]),r(e(p),{modelValue:e(t).badge_text_color,"onUpdate:modelValue":s[14]||(s[14]=l=>e(t).badge_text_color=l)},null,8,["modelValue"])]),e(t).errors.badge_text_color?(i(),u("p",qe,m(e(t).errors.badge_text_color),1)):_("",!0)])]),o("div",Be,[s[39]||(s[39]=o("p",{class:"text-sm mb-2"},"预览：",-1)),o("span",{class:"inline-block px-3 py-1 rounded text-sm font-medium",style:S({backgroundColor:e(t).badge_color,color:e(t).badge_text_color})},m(e(t).name||"套餐名称"),5)])]),o("div",Fe,[o("div",ze,[y(o("input",{id:"is_active","onUpdate:modelValue":s[15]||(s[15]=l=>e(t).is_active=l),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"},null,512),[[b,e(t).is_active]]),r(e(n),{for:"is_active",class:"cursor-pointer"},{default:d(()=>s[41]||(s[41]=[a("启用套餐",-1)])),_:1,__:[41]})])]),o("div",Ne,[r(e(g),{type:"submit",disabled:e(t).processing},{default:d(()=>[a(m(e(t).processing?"创建中...":"创建套餐"),1)]),_:1},8,["disabled"]),r(e(g),{type:"button",variant:"outline",onClick:v},{default:d(()=>s[42]||(s[42]=[a(" 取消 ",-1)])),_:1,__:[42]})])],32)]),_:1})]),_:1})])])])])]),_:1}))}});export{is as default};
