import{d as B,u as L,r as b,c as j,o as d,w as l,a as o,b as r,e,h as R,f as i,g as M,i as n,j as u,n as _,t as p,k,v as V,l as z}from"./app-CBLxOMBb.js";import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BlWzRddC.js";import{_ as f}from"./index-CGa5T1ia.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-A4l_Eg4S.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-Qq4PsYpc.js";import{_ as S}from"./Textarea.vue_vue_type_script_setup_true_lang-CtIj8Gn4.js";import{_ as D,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-DUalGzIg.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-0LBICvW6.js";import{_ as A}from"./CardHeader.vue_vue_type_script_setup_true_lang-D-XH-gpE.js";import{_ as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-CpgH32QO.js";import{A as O}from"./arrow-left-Dfc10TAt.js";import{X as w}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-BSNvBEwj.js";import"./Primitive-fo1lrtx8.js";import"./useForwardExpose-Bf2AvxoR.js";import"./usePrimitiveElement-BkCkt-rF.js";import"./RovingFocusGroup-BnN_swWO.js";import"./VisuallyHidden-BpFxuEHO.js";import"./index-n6EYBZ93.js";import"./createLucideIcon-CIvSJEoL.js";import"./DialogTitle-CHynrW5f.js";import"./index-C5W0E7bH.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D2AtvzBy.js";import"./shield-CO71f4aY.js";import"./trending-up-VqUdp74j.js";import"./file-text-D8xrz6Ls.js";import"./chevron-right-C5AvKeUq.js";import"./useArrowNavigation-C6Y-ieo6.js";const P={class:"py-12"},T={class:"w-full sm:px-6 lg:px-8"},X={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},G={class:"p-6 text-gray-900 dark:text-gray-100"},H={class:"mb-6 flex items-center justify-between"},J={class:"flex items-center gap-4"},K={class:"space-y-2"},Q={key:0,class:"text-sm text-red-500"},W={class:"space-y-2"},Y={key:0,class:"text-sm text-red-500"},Z={class:"space-y-2"},ee={key:0,class:"text-sm text-red-500"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"space-y-2"},re={class:"flex gap-2"},oe={key:0,class:"text-sm text-red-500"},ae={class:"space-y-2"},le={key:0,class:"text-sm text-red-500"},ie={class:"space-y-2"},de={class:"flex items-start gap-4"},ne={key:0,class:"relative"},ue=["src"],me={class:"flex-1"},ce={key:0,class:"text-sm text-red-500 mt-1"},_e={class:"space-y-2"},pe={class:"flex items-start gap-4"},ge={key:0,class:"relative"},fe=["src"],ye={class:"flex-1"},ve={key:0,class:"text-sm text-red-500 mt-1"},xe={class:"space-y-2"},be={key:0,class:"text-sm text-red-500"},ke={class:"flex items-center space-x-2"},Ve={class:"space-y-4"},we={class:"flex items-center space-x-2"},Ce={key:0,class:"space-y-2 pl-6"},Ue={key:0,class:"text-sm text-red-500"},Ie={class:"flex gap-4"},tt=B({__name:"Create",setup(he){const s=L({name:"",slug:"",description:"",color:"#3b82f6",icon:"",icon_image:null,category_image:null,sort_order:0,is_active:!0,is_nav_item:!1,nav_route:""}),y=b(null),v=b(null),C=c=>{const a=c.target.files?.[0];a&&(s.icon_image=a,y.value=URL.createObjectURL(a))},U=c=>{const a=c.target.files?.[0];a&&(s.category_image=a,v.value=URL.createObjectURL(a))},I=()=>{s.icon_image=null,y.value=null;const c=document.getElementById("icon_image");c&&(c.value="")},h=()=>{s.category_image=null,v.value=null;const c=document.getElementById("category_image");c&&(c.value="")},$=()=>{s.post("/admin/categories",{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})},x=()=>{z.visit("/admin/categories")};return(c,t)=>(d(),j(N,null,{default:l(()=>[o(e(R),{title:"创建分类"}),r("div",P,[r("div",T,[r("div",X,[r("div",G,[r("div",H,[r("div",J,[o(e(f),{variant:"outline",size:"icon",onClick:x},{default:l(()=>[o(e(O),{class:"h-4 w-4"})]),_:1}),t[10]||(t[10]=r("h1",{class:"text-2xl font-semibold"},"创建分类",-1))])]),o(e(D),null,{default:l(()=>[o(e(A),null,{default:l(()=>[o(e(F),null,{default:l(()=>t[11]||(t[11]=[i("分类信息",-1)])),_:1,__:[11]}),o(e(q),null,{default:l(()=>t[12]||(t[12]=[i(" 填写分类的基本信息和设置 ",-1)])),_:1,__:[12]})]),_:1}),o(e(E),null,{default:l(()=>[r("form",{onSubmit:M($,["prevent"]),class:"space-y-6"},[r("div",K,[o(e(m),{for:"name"},{default:l(()=>t[13]||(t[13]=[i("分类名称 *",-1)])),_:1,__:[13]}),o(e(g),{id:"name",modelValue:e(s).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).name=a),type:"text",required:"",class:_({"border-red-500":e(s).errors.name})},null,8,["modelValue","class"]),e(s).errors.name?(d(),n("p",Q,p(e(s).errors.name),1)):u("",!0)]),r("div",W,[o(e(m),{for:"slug"},{default:l(()=>t[14]||(t[14]=[i("别名 (URL) *",-1)])),_:1,__:[14]}),o(e(g),{id:"slug",modelValue:e(s).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).slug=a),type:"text",required:"",placeholder:"category-slug",class:_({"border-red-500":e(s).errors.slug})},null,8,["modelValue","class"]),t[15]||(t[15]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 用于URL的唯一标识符，只能包含小写字母、数字和连字符 ",-1)),e(s).errors.slug?(d(),n("p",Y,p(e(s).errors.slug),1)):u("",!0)]),r("div",Z,[o(e(m),{for:"description"},{default:l(()=>t[16]||(t[16]=[i("描述",-1)])),_:1,__:[16]}),o(S,{id:"description",modelValue:e(s).description,"onUpdate:modelValue":t[2]||(t[2]=a=>e(s).description=a),rows:"3",placeholder:"分类描述...",class:_({"border-red-500":e(s).errors.description})},null,8,["modelValue","class"]),e(s).errors.description?(d(),n("p",ee,p(e(s).errors.description),1)):u("",!0)]),r("div",te,[r("div",se,[o(e(m),{for:"color"},{default:l(()=>t[17]||(t[17]=[i("颜色",-1)])),_:1,__:[17]}),r("div",re,[o(e(g),{id:"color",modelValue:e(s).color,"onUpdate:modelValue":t[3]||(t[3]=a=>e(s).color=a),type:"color",class:_(["w-20 h-10 p-1 cursor-pointer",{"border-red-500":e(s).errors.color}])},null,8,["modelValue","class"]),o(e(g),{modelValue:e(s).color,"onUpdate:modelValue":t[4]||(t[4]=a=>e(s).color=a),type:"text",placeholder:"#3b82f6",class:_(["flex-1",{"border-red-500":e(s).errors.color}])},null,8,["modelValue","class"])]),e(s).errors.color?(d(),n("p",oe,p(e(s).errors.color),1)):u("",!0)]),r("div",ae,[o(e(m),{for:"icon"},{default:l(()=>t[18]||(t[18]=[i("图标类名",-1)])),_:1,__:[18]}),o(e(g),{id:"icon",modelValue:e(s).icon,"onUpdate:modelValue":t[5]||(t[5]=a=>e(s).icon=a),type:"text",placeholder:"lucide-icon-name",class:_({"border-red-500":e(s).errors.icon})},null,8,["modelValue","class"]),t[19]||(t[19]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 图标类名或标识符 ",-1)),e(s).errors.icon?(d(),n("p",le,p(e(s).errors.icon),1)):u("",!0)])]),r("div",ie,[o(e(m),{for:"icon_image"},{default:l(()=>t[20]||(t[20]=[i("图标图片",-1)])),_:1,__:[20]}),r("div",de,[y.value?(d(),n("div",ne,[r("img",{src:y.value,alt:"Icon preview",class:"w-24 h-24 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700"},null,8,ue),o(e(f),{type:"button",variant:"destructive",size:"icon",class:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:I},{default:l(()=>[o(e(w),{class:"h-4 w-4"})]),_:1})])):u("",!0),r("div",me,[o(e(g),{id:"icon_image",type:"file",accept:"image/*",onChange:C,class:_({"border-red-500":e(s).errors.icon_image})},null,8,["class"]),t[21]||(t[21]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," 推荐尺寸: 200x200px, 最大 2MB ",-1)),e(s).errors.icon_image?(d(),n("p",ce,p(e(s).errors.icon_image),1)):u("",!0)])])]),r("div",_e,[o(e(m),{for:"category_image"},{default:l(()=>t[22]||(t[22]=[i("分类封面图",-1)])),_:1,__:[22]}),r("div",pe,[v.value?(d(),n("div",ge,[r("img",{src:v.value,alt:"Category preview",class:"w-48 h-32 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700"},null,8,fe),o(e(f),{type:"button",variant:"destructive",size:"icon",class:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:h},{default:l(()=>[o(e(w),{class:"h-4 w-4"})]),_:1})])):u("",!0),r("div",ye,[o(e(g),{id:"category_image",type:"file",accept:"image/*",onChange:U,class:_({"border-red-500":e(s).errors.category_image})},null,8,["class"]),t[23]||(t[23]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," 推荐尺寸: 800x600px, 最大 5MB ",-1)),e(s).errors.category_image?(d(),n("p",ve,p(e(s).errors.category_image),1)):u("",!0)])])]),r("div",xe,[o(e(m),{for:"sort_order"},{default:l(()=>t[24]||(t[24]=[i("排序顺序",-1)])),_:1,__:[24]}),o(e(g),{id:"sort_order",modelValue:e(s).sort_order,"onUpdate:modelValue":t[6]||(t[6]=a=>e(s).sort_order=a),modelModifiers:{number:!0},type:"number",class:_({"border-red-500":e(s).errors.sort_order})},null,8,["modelValue","class"]),t[25]||(t[25]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 数字越小排序越靠前 ",-1)),e(s).errors.sort_order?(d(),n("p",be,p(e(s).errors.sort_order),1)):u("",!0)]),r("div",ke,[k(r("input",{id:"is_active","onUpdate:modelValue":t[7]||(t[7]=a=>e(s).is_active=a),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[V,e(s).is_active]]),o(e(m),{for:"is_active",class:"cursor-pointer"},{default:l(()=>t[26]||(t[26]=[i(" 启用分类 ",-1)])),_:1,__:[26]})]),r("div",Ve,[r("div",we,[k(r("input",{id:"is_nav_item","onUpdate:modelValue":t[8]||(t[8]=a=>e(s).is_nav_item=a),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[V,e(s).is_nav_item]]),o(e(m),{for:"is_nav_item",class:"cursor-pointer"},{default:l(()=>t[27]||(t[27]=[i(" 显示在导航菜单 ",-1)])),_:1,__:[27]})]),e(s).is_nav_item?(d(),n("div",Ce,[o(e(m),{for:"nav_route"},{default:l(()=>t[28]||(t[28]=[i("导航路由",-1)])),_:1,__:[28]}),o(e(g),{id:"nav_route",modelValue:e(s).nav_route,"onUpdate:modelValue":t[9]||(t[9]=a=>e(s).nav_route=a),type:"text",placeholder:"/category/slug",class:_({"border-red-500":e(s).errors.nav_route})},null,8,["modelValue","class"]),t[29]||(t[29]=r("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 导航菜单中的链接地址 ",-1)),e(s).errors.nav_route?(d(),n("p",Ue,p(e(s).errors.nav_route),1)):u("",!0)])):u("",!0)]),r("div",Ie,[o(e(f),{type:"submit",disabled:e(s).processing},{default:l(()=>[i(p(e(s).processing?"创建中...":"创建分类"),1)]),_:1},8,["disabled"]),o(e(f),{type:"button",variant:"outline",onClick:x},{default:l(()=>t[30]||(t[30]=[i(" 取消 ",-1)])),_:1,__:[30]})])],32)]),_:1})]),_:1})])])])])]),_:1}))}});export{tt as default};
