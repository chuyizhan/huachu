import{d as ue,O as ce,C as X,u as pe,r as m,c as C,o as i,w as r,a as o,b as s,e,h as fe,i as d,j as u,F as S,s as $,t as p,f as c,n as A,k as R,q as me,p as ge,U as ve,x as _e,m as xe,v as be}from"./app-CC4qkc4x.js";import{_ as ye}from"./WebLayout.vue_vue_type_script_setup_true_lang-CSE69ig2.js";import{_ as h}from"./index-3c6ceIXx.js";import{_ as U,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-BmHWoxoM.js";import{_ as E}from"./CardHeader.vue_vue_type_script_setup_true_lang-w9VN_YCS.js";import{_ as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-BbeAS1T4.js";import{_ as L}from"./Input.vue_vue_type_script_setup_true_lang-C_UJeuAc.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-BT98i-xO.js";import{_ as K}from"./index-BdQJyqfR.js";import{_ as P}from"./InputError.vue_vue_type_script_setup_true_lang-Cks9kG0f.js";import{v as he,p as we,a as ke,b as Ve,c as Be,d as Ce,e as Se,I as $e,V as Ue,S as Te,f as Ee}from"./filepond-plugin-image-transform.esm-DQbWOIet.js";import{F as Fe}from"./file-text-82DoQhg_.js";import{X as O}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-B6260n0Q.js";import{T as Pe}from"./tag-mtnawuSP.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-D7LIBiYa.js";import"./createLucideIcon-BgPUpQx3.js";import"./heart-B2I3olMn.js";import"./user-Cb7QCc2l.js";import"./Primitive-Diw51jeF.js";import"./index-CEAsEDxY.js";import"./useForwardExpose--pk-Ag5G.js";import"./usePrimitiveElement-CyDkmZLJ.js";import"./RovingFocusGroup-WyOYdgjz.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C5W0E7bH.js";const je={class:"min-h-screen py-8"},ze={class:"max-w-4xl mx-auto px-4"},Me={key:0,class:"mb-6 bg-red-900/20 border border-red-500 rounded-lg p-4"},Re={class:"list-disc list-inside text-red-300 text-sm space-y-1"},Le={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Oe={class:"lg:col-span-2 space-y-6"},Ne=["value"],qe={key:0,class:"mt-2 mb-4"},Ie={class:"text-xs text-[#999999] mb-2"},De={class:"grid grid-cols-2 gap-3"},Ge=["src","alt"],Xe={class:"mt-2"},Ae={key:0,class:"mt-2 mb-4"},Ke={class:"relative bg-[#1c1c1c] rounded-lg overflow-hidden"},Je=["src"],We={class:"text-xs text-[#999999] mt-1"},He={key:1,class:"mt-2"},Qe={class:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-[#4B5563] rounded-lg cursor-pointer hover:border-[#ff6e02] transition-colors bg-[#1c1c1c]"},Ye={class:"flex flex-col items-center justify-center pt-5 pb-6"},Ze={key:2,class:"mt-2"},et={class:"relative bg-[#1c1c1c] rounded-lg overflow-hidden"},tt=["src"],st={key:0,class:"mt-2"},lt={class:"flex items-center justify-between text-xs text-[#999999] mb-1"},ot={class:"w-full bg-[#4B5563] rounded-full h-2"},at={key:1,class:"text-xs text-[#999999] mt-1"},rt={key:0,class:"text-green-400 ml-2"},it={key:2,class:"text-xs text-red-400 mt-1"},nt={class:"flex gap-2 mb-3"},dt={key:0,class:"flex flex-wrap gap-2"},ut=["onClick"],ct={class:"space-y-6"},pt={class:"flex items-center justify-between"},ft={class:"relative inline-flex items-center cursor-pointer"},mt={key:0,class:"space-y-4 pt-4 border-t border-[#4B5563]"},gt={key:0},vt={class:"space-y-2 pt-4 border-t border-[#4B5563]"},_t={key:0,class:"flex items-center gap-2"},xt={class:"text-lg"},bt={key:1,class:"text-white font-medium"},yt={key:2,class:"flex items-center gap-2"},ht={class:"text-sm text-[#999999]"},wt={key:3,class:"text-sm text-[#999999] line-clamp-3"},kt={key:4,class:"flex flex-wrap gap-1"},Vt={key:0,class:"text-xs text-[#999999]"},Qt=ue({__name:"Edit",props:{categories:{},post:{}},setup(Q){const Y=he(Se,Ce,Be,Ve,ke,we),f=Q,Z=ce(),ee=X(()=>Z.props.auth?.user?.is_creator||!1),l=pe({_method:"PUT",title:f.post.title,content:f.post.content,post_category_id:f.post.post_category_id,type:f.post.type,excerpt:f.post.excerpt||"",images:[],remove_images:[],video_temp_upload_id:null,remove_video:!1,videos:f.post.videos||[],tags:f.post.tags||[],is_premium:f.post.is_premium,price:f.post.price,free_after:f.post.free_after,status:f.post.status}),j=m("");m("");const N=m(null),q=m(null),g=m(null),z=m(""),I=m(0),w=m(!1),b=m(0),k=m(null),V=m(f.post.existing_images||[]),y=m(f.post.existing_videos?.[0]||null),te=[{value:"discussion",label:"è®¨è®º",icon:"ğŸ’¬",description:"åˆ†äº«æƒ³æ³•å’Œè§‚ç‚¹"},{value:"tutorial",label:"æ•™ç¨‹",icon:"ğŸ“–",description:"åˆ†äº«çŸ¥è¯†å’ŒæŠ€èƒ½"},{value:"showcase",label:"å±•ç¤º",icon:"ğŸ¨",description:"å±•ç¤ºä½ çš„ä½œå“"},{value:"question",label:"é—®é¢˜",icon:"â“",description:"å¯»æ±‚å¸®åŠ©å’Œå»ºè®®"}],D=X(()=>f.categories.find(n=>n.id.toString()===l.post_category_id)),M=X(()=>te.find(n=>n.value===l.type));function J(){const n=j.value.trim();n&&!l.tags.includes(n)&&(l.tags.push(n),j.value="")}function se(n){l.tags.splice(n,1)}function le(){if(N.value){const n=N.value.getFiles();l.images=n.map(t=>t.file)}}async function oe(n){const a=n.target.files?.[0];if(a){if(a.size>1024*1024*1024){alert("è§†é¢‘æ–‡ä»¶å¤ªå¤§ï¼æœ€å¤§æ”¯æŒ1GB");return}if(!a.type.startsWith("video/")){alert("è¯·ä¸Šä¼ æœ‰æ•ˆçš„è§†é¢‘æ–‡ä»¶");return}z.value=a.name,I.value=a.size,g.value&&URL.revokeObjectURL(g.value),g.value=URL.createObjectURL(a),await ae(a)}}async function ae(n){w.value=!0,k.value=null,b.value=0;try{const t=await fetch("/api/v1/media/presigned-url",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({file_name:n.name,file_type:n.type,file_size:n.size,type:"video"})});if(!t.ok)throw new Error("è·å–ä¸Šä¼ é“¾æ¥å¤±è´¥");const{presigned_url:a,temp_upload_id:_,s3_path:H}=await t.json(),v=new XMLHttpRequest;if(v.upload.addEventListener("progress",B=>{B.lengthComputable&&(b.value=Math.round(B.loaded/B.total*95))}),await new Promise((B,G)=>{v.addEventListener("load",()=>{v.status===200?B(v.response):G(new Error("S3ä¸Šä¼ å¤±è´¥"))}),v.addEventListener("error",()=>G(new Error("ç½‘ç»œé”™è¯¯"))),v.addEventListener("abort",()=>G(new Error("ä¸Šä¼ å·²å–æ¶ˆ"))),v.open("PUT",a),v.setRequestHeader("Content-Type",n.type),v.send(n)}),b.value=95,!(await fetch(`/api/v1/media/confirm-upload/${_}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({s3_path:H})})).ok)throw new Error("ç¡®è®¤ä¸Šä¼ å¤±è´¥");l.video_temp_upload_id=_,b.value=100}catch(t){console.error("Video upload failed:",t),k.value=t instanceof Error?t.message:"è§†é¢‘ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•",W()}finally{w.value=!1}}function W(){l.video_temp_upload_id=null,g.value&&(URL.revokeObjectURL(g.value),g.value=null),q.value&&(q.value.value=""),z.value="",I.value=0,k.value=null}function re(n){confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å›¾ç‰‡å—ï¼Ÿ")&&(l.remove_images.push(n),V.value=V.value.filter(t=>t.id!==n))}function ie(){confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè§†é¢‘å—ï¼Ÿ")&&(l.remove_video=!0,y.value=null)}function ne(){l.status="draft",l.post(`/posts/${f.post.id}`,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{},onError:n=>{console.error("Validation errors:",n)}})}function de(){l.status="published",l.post(`/posts/${f.post.id}`,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{},onError:n=>{console.error("Validation errors:",n)}})}return(n,t)=>(i(),C(ye,null,{default:r(()=>[o(e(fe),{title:"ç¼–è¾‘å¸–å­"}),s("div",je,[s("div",ze,[t[36]||(t[36]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold text-white mb-2"},"ç¼–è¾‘å¸–å­"),s("p",{class:"text-[#999999]"},"æ›´æ–°ä½ çš„å¸–å­å†…å®¹")],-1)),Object.keys(e(l).errors).length>0?(i(),d("div",Me,[t[7]||(t[7]=s("h3",{class:"text-red-400 font-semibold mb-2"},"è¯·ä¿®æ­£ä»¥ä¸‹é”™è¯¯:",-1)),s("ul",Re,[(i(!0),d(S,null,$(e(l).errors,(a,_)=>(i(),d("li",{key:_},p(a),1))),128))])])):u("",!0),s("div",Le,[s("div",Oe,[o(e(U),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[o(e(E),null,{default:r(()=>[o(e(F),{class:"text-white flex items-center gap-2"},{default:r(()=>[o(e(Fe),{class:"h-5 w-5"}),t[8]||(t[8]=c(" åŸºæœ¬ä¿¡æ¯ ",-1))]),_:1,__:[8]})]),_:1}),o(e(T),{class:"space-y-4"},{default:r(()=>[s("div",null,[o(e(x),{for:"title",class:"text-white"},{default:r(()=>t[9]||(t[9]=[c("æ ‡é¢˜ *",-1)])),_:1,__:[9]}),o(e(L),{id:"title",modelValue:e(l).title,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).title=a),placeholder:"è¾“å…¥å¸–å­æ ‡é¢˜...",class:A(["mt-1 bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]",{"border-red-500":e(l).errors.title}])},null,8,["modelValue","class"]),o(P,{message:e(l).errors.title,class:"mt-1"},null,8,["message"])]),s("div",null,[o(e(x),{class:"text-white"},{default:r(()=>t[10]||(t[10]=[c("åˆ†ç±» *",-1)])),_:1,__:[10]}),R(s("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).post_category_id=a),class:A(["mt-1 w-full bg-[#1c1c1c] border border-[#4B5563] text-white rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff6e02] focus:border-[#ff6e02]",{"border-red-500":e(l).errors.post_category_id}])},[t[11]||(t[11]=s("option",{value:null,class:"text-[#999999]"},"é€‰æ‹©åˆ†ç±»",-1)),(i(!0),d(S,null,$(n.categories,a=>(i(),d("option",{key:a.id,value:a.id,class:"bg-[#1c1c1c] text-white"},p(a.name),9,Ne))),128))],2),[[me,e(l).post_category_id,void 0,{number:!0}]]),o(P,{message:e(l).errors.post_category_id,class:"mt-1"},null,8,["message"])]),s("div",null,[o(e(x),{for:"content",class:"text-white"},{default:r(()=>t[12]||(t[12]=[c("å†…å®¹",-1)])),_:1,__:[12]}),R(s("textarea",{id:"content","onUpdate:modelValue":t[2]||(t[2]=a=>e(l).content=a),placeholder:"å†™ä¸‹ä½ çš„å†…å®¹...",rows:"12",class:A(["mt-1 w-full bg-[#1c1c1c] border border-[#4B5563] text-white placeholder:text-[#999999] rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff6e02] focus:border-[#ff6e02] resize-y",{"border-red-500":e(l).errors.content}])},null,2),[[ge,e(l).content]]),o(P,{message:e(l).errors.content,class:"mt-1"},null,8,["message"])])]),_:1})]),_:1}),o(e(U),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[o(e(E),null,{default:r(()=>[o(e(F),{class:"text-white flex items-center gap-2"},{default:r(()=>[o(e($e),{class:"h-5 w-5"}),t[13]||(t[13]=c(" åª’ä½“å†…å®¹ ",-1))]),_:1,__:[13]})]),_:1}),o(e(T),{class:"space-y-4"},{default:r(()=>[s("div",null,[o(e(x),{class:"text-white"},{default:r(()=>t[14]||(t[14]=[c("å›¾ç‰‡ (æœ€å¤š12å¼ )",-1)])),_:1,__:[14]}),V.value.length>0?(i(),d("div",qe,[s("p",Ie,"ç°æœ‰å›¾ç‰‡ (å…± "+p(V.value.length)+" å¼ )",1),s("div",De,[(i(!0),d(S,null,$(V.value,a=>(i(),d("div",{key:a.id,class:"relative group rounded-lg overflow-hidden border border-[#4B5563] bg-[#1c1c1c]"},[s("img",{src:a.url,alt:`Image ${a.id}`,class:"w-full h-32 object-cover"},null,8,Ge),o(e(h),{type:"button",size:"sm",variant:"ghost",onClick:_=>re(a.id),class:"absolute top-2 right-2 bg-red-500/90 hover:bg-red-600 text-white p-1 rounded opacity-80 group-hover:opacity-100 transition-opacity"},{default:r(()=>[o(e(O),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]))),128))]),t[15]||(t[15]=s("p",{class:"text-xs text-[#999999] mt-2"},"é¼ æ ‡æ‚¬åœåœ¨å›¾ç‰‡ä¸Šå¯ä»¥çœ‹åˆ°åˆ é™¤æŒ‰é’®",-1))])):u("",!0),s("div",Xe,[o(e(Y),{ref_key:"pond",ref:N,name:"images","allow-multiple":!0,"max-files":12,"accepted-file-types":"image/jpeg, image/jpg, image/png, image/gif, image/webp","max-file-size":"5MB","label-idle":"æ‹–æ”¾å›¾ç‰‡æˆ– <span class='filepond--label-action'>æµè§ˆ</span>","label-file-loading":"åŠ è½½ä¸­","label-file-processing":"ä¸Šä¼ ä¸­","label-tap-to-cancel":"ç‚¹å‡»å–æ¶ˆ","label-tap-to-retry":"ç‚¹å‡»é‡è¯•","label-tap-to-undo":"ç‚¹å‡»æ’¤é”€","image-resize-target-width":1200,"image-resize-target-height":900,"image-resize-mode":"contain","image-resize-upscale":"false","image-transform-output-quality":85,"image-transform-output-quality-mode":"always",onUpdatefiles:le,"style-panel-layout":"compact","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom"},null,512)]),t[16]||(t[16]=s("p",{class:"text-xs text-[#999999] mt-2"},"æ”¯æŒ JPG, PNG, GIF, WebPï¼Œå•å¼ æœ€å¤§5MBã€‚å›¾ç‰‡å°†è‡ªåŠ¨ä¼˜åŒ–ã€‚",-1)),o(P,{message:e(l).errors.images,class:"mt-1"},null,8,["message"])]),s("div",null,[o(e(x),{class:"text-white"},{default:r(()=>t[17]||(t[17]=[c("è§†é¢‘ (å¯é€‰)",-1)])),_:1,__:[17]}),y.value&&!g.value&&!e(l).remove_video?(i(),d("div",Ae,[s("div",Ke,[s("video",{src:y.value.url,controls:"",class:"w-full max-h-64 object-contain"},null,8,Je),o(e(h),{type:"button",size:"sm",variant:"ghost",onClick:ie,class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white"},{default:r(()=>[o(e(O),{class:"h-4 w-4"})]),_:1})]),s("p",We,p(y.value.name)+" ("+p((y.value.size/1024/1024).toFixed(2))+"MB) ",1),t[18]||(t[18]=s("p",{class:"text-xs text-[#999999]"},"ç°æœ‰è§†é¢‘ (ç‚¹å‡» X åˆ é™¤å¹¶ä¸Šä¼ æ–°è§†é¢‘)",-1))])):u("",!0),!y.value||e(l).remove_video?R((i(),d("div",He,[s("label",Qe,[s("div",Ye,[o(e(Ue),{class:"w-10 h-10 mb-3 text-[#999999]"}),t[19]||(t[19]=s("p",{class:"mb-2 text-sm text-[#999999]"},[s("span",{class:"font-semibold text-[#ff6e02]"},"ç‚¹å‡»ä¸Šä¼ è§†é¢‘")],-1)),t[20]||(t[20]=s("p",{class:"text-xs text-[#999999]"},"æ”¯æŒ MP4, WebM, MOV (æœ€å¤§1GB)",-1))]),s("input",{ref_key:"videoInput",ref:q,type:"file",class:"hidden",accept:"video/*",onChange:oe},null,544)])],512)),[[ve,!g.value]]):u("",!0),g.value?(i(),d("div",Ze,[s("div",et,[s("video",{src:g.value,controls:"",class:"w-full max-h-64 object-contain"},null,8,tt),w.value?u("",!0):(i(),C(e(h),{key:0,type:"button",size:"sm",variant:"ghost",onClick:W,class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white"},{default:r(()=>[o(e(O),{class:"h-4 w-4"})]),_:1}))]),w.value?(i(),d("div",st,[s("div",lt,[t[21]||(t[21]=s("span",null,"ä¸Šä¼ ä¸­...",-1)),s("span",null,p(b.value)+"%",1)]),s("div",ot,[s("div",{class:"bg-[#ff6e02] h-2 rounded-full transition-all duration-300",style:_e({width:`${b.value}%`})},null,4)])])):u("",!0),!w.value&&z.value?(i(),d("p",at,[c(p(z.value)+" ("+p((I.value/1024/1024).toFixed(2))+"MB) ",1),e(l).video_temp_upload_id?(i(),d("span",rt,"âœ“ å·²ä¸Šä¼ ")):u("",!0)])):u("",!0),k.value?(i(),d("p",it,p(k.value),1)):u("",!0)])):u("",!0),o(P,{message:e(l).errors.video,class:"mt-1"},null,8,["message"])])]),_:1})]),_:1}),o(e(U),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[o(e(E),null,{default:r(()=>[o(e(F),{class:"text-white flex items-center gap-2"},{default:r(()=>[o(e(Pe),{class:"h-5 w-5"}),t[22]||(t[22]=c(" æ ‡ç­¾ ",-1))]),_:1,__:[22]})]),_:1}),o(e(T),null,{default:r(()=>[s("div",nt,[o(e(L),{modelValue:j.value,"onUpdate:modelValue":t[3]||(t[3]=a=>j.value=a),placeholder:"è¾“å…¥æ ‡ç­¾...",class:"bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]",onKeyup:xe(J,["enter"])},null,8,["modelValue"]),o(e(h),{type:"button",onClick:J,class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:r(()=>t[23]||(t[23]=[c(" æ·»åŠ  ",-1)])),_:1,__:[23]})]),e(l).tags.length>0?(i(),d("div",dt,[(i(!0),d(S,null,$(e(l).tags,(a,_)=>(i(),C(e(K),{key:_,class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:r(()=>[c(p(a)+" ",1),s("button",{type:"button",onClick:H=>se(_),class:"ml-1 hover:text-red-300"},[o(e(O),{class:"h-3 w-3"})],8,ut)]),_:2},1024))),128))])):u("",!0)]),_:1})]),_:1})]),s("div",ct,[o(e(U),{class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[o(e(E),null,{default:r(()=>[o(e(F),{class:"text-white"},{default:r(()=>t[24]||(t[24]=[c("å‘å¸ƒè®¾ç½®",-1)])),_:1,__:[24]})]),_:1}),o(e(T),{class:"space-y-4"},{default:r(()=>[s("div",pt,[s("div",null,[o(e(x),{class:"text-white"},{default:r(()=>t[25]||(t[25]=[c("é«˜çº§å†…å®¹",-1)])),_:1,__:[25]}),t[26]||(t[26]=s("p",{class:"text-xs text-[#999999]"},"ä»…VIPä¼šå‘˜å¯è§",-1))]),s("label",ft,[R(s("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=a=>e(l).is_premium=a),class:"sr-only peer"},null,512),[[be,e(l).is_premium]]),t[27]||(t[27]=s("div",{class:"w-11 h-6 bg-[#4B5563] peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#ff6e02] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#ff6e02]"},null,-1))])]),ee.value?(i(),d("div",mt,[s("div",null,[o(e(x),{for:"price",class:"text-white flex items-center gap-2"},{default:r(()=>t[28]||(t[28]=[c(" ğŸ’° å†…å®¹å®šä»· ",-1)])),_:1,__:[28]}),t[29]||(t[29]=s("p",{class:"text-xs text-[#999999] mb-2"},"è®¾ç½®ç”¨æˆ·éœ€è¦æ”¯ä»˜çš„ç§¯åˆ†æ•°é‡æ‰èƒ½æŸ¥çœ‹æ­¤å¸–å­",-1)),o(e(L),{id:"price",modelValue:e(l).price,"onUpdate:modelValue":t[5]||(t[5]=a=>e(l).price=a),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",placeholder:"0 = å…è´¹",class:"bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]"},null,8,["modelValue"]),t[30]||(t[30]=s("p",{class:"text-xs text-[#999999] mt-1"},"ç•™ç©ºæˆ–è¾“å…¥0è¡¨ç¤ºå…è´¹",-1))]),e(l).price&&e(l).price>0?(i(),d("div",gt,[o(e(x),{for:"free_after",class:"text-white flex items-center gap-2"},{default:r(()=>t[31]||(t[31]=[c(" â° å…è´¹å¼€æ”¾æ—¶é—´ ",-1)])),_:1,__:[31]}),t[32]||(t[32]=s("p",{class:"text-xs text-[#999999] mb-2"},"è®¾ç½®è¯¥æ—¥æœŸåæ­¤å†…å®¹å°†è‡ªåŠ¨å˜ä¸ºå…è´¹",-1)),o(e(L),{id:"free_after",modelValue:e(l).free_after,"onUpdate:modelValue":t[6]||(t[6]=a=>e(l).free_after=a),type:"datetime-local",class:"bg-[#1c1c1c] border-[#4B5563] text-white"},null,8,["modelValue"]),t[33]||(t[33]=s("p",{class:"text-xs text-[#999999] mt-1"},"å¯é€‰ï¼šç•™ç©ºè¡¨ç¤ºæ°¸ä¹…æ”¶è´¹",-1))])):u("",!0)])):u("",!0),s("div",vt,[o(e(h),{type:"button",onClick:ne,disabled:e(l).processing,class:"w-full bg-[#4B5563] hover:bg-[#6B7280] text-white"},{default:r(()=>[o(e(Te),{class:"h-4 w-4 mr-2"}),c(" "+p(e(l).processing?"ä¿å­˜ä¸­...":"ä¿å­˜è‰ç¨¿"),1)]),_:1},8,["disabled"]),o(e(h),{type:"button",onClick:de,disabled:e(l).processing,class:"w-full bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:r(()=>[o(e(Ee),{class:"h-4 w-4 mr-2"}),c(" "+p(e(l).processing?"å‘å¸ƒä¸­...":"ç«‹å³å‘å¸ƒ"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),e(l).title||D.value||M.value?(i(),C(e(U),{key:0,class:"bg-[#374151] border-[#4B5563]"},{default:r(()=>[o(e(E),null,{default:r(()=>[o(e(F),{class:"text-white"},{default:r(()=>t[34]||(t[34]=[c("é¢„è§ˆ",-1)])),_:1,__:[34]})]),_:1}),o(e(T),{class:"space-y-3"},{default:r(()=>[M.value?(i(),d("div",_t,[s("span",xt,p(M.value.icon),1),o(e(K),{class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:r(()=>[c(p(M.value.label),1)]),_:1})])):u("",!0),e(l).title?(i(),d("h3",bt,p(e(l).title),1)):u("",!0),D.value?(i(),d("div",yt,[t[35]||(t[35]=s("div",{class:"w-3 h-3 rounded-full bg-[#ff6e02]"},null,-1)),s("span",ht,p(D.value.name),1)])):u("",!0),e(l).excerpt?(i(),d("p",wt,p(e(l).excerpt),1)):u("",!0),e(l).tags.length>0?(i(),d("div",kt,[(i(!0),d(S,null,$(e(l).tags.slice(0,3),a=>(i(),C(e(K),{key:a,class:"text-xs bg-[#1c1c1c] text-[#999999]"},{default:r(()=>[c(" #"+p(a),1)]),_:2},1024))),128)),e(l).tags.length>3?(i(),d("span",Vt," +"+p(e(l).tags.length-3)+" more ",1)):u("",!0)])):u("",!0)]),_:1})]),_:1})):u("",!0)])])])])]),_:1}))}});export{Qt as default};
