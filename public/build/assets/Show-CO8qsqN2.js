import{d as O,r as U,u as X,c,o as i,w as l,a as r,b as s,e,h as Y,l as w,f as a,t as d,j as k,n as j,i as m,F as q,k as D,v as A}from"./app-KFEODeFH.js";import{D as G,_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-Cda_Z6GP.js";import{_ as v,a as y}from"./CardContent.vue_vue_type_script_setup_true_lang-CAxbpNHo.js";import{_ as g}from"./CardHeader.vue_vue_type_script_setup_true_lang-CiMeWi0H.js";import{_ as x}from"./CardTitle.vue_vue_type_script_setup_true_lang-DdARYuiX.js";import{_ as b}from"./index-CzUa1E86.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-mdOD5vBF.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-u4bG-yIF.js";import{_ as F}from"./Textarea.vue_vue_type_script_setup_true_lang-DDk50zkg.js";import{_ as C}from"./index-CEElk3Ii.js";import{A as K}from"./arrow-left-Dy8dCGzc.js";import{F as P}from"./file-text-Wwh469JO.js";import{E as Q}from"./eye-IouyloJR.js";import{H as R}from"./heart-U2DNBBqY.js";import{U as W}from"./users-4y0xAdFt.js";import{C as Z}from"./check-CKkY709d.js";import{X as h}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-BfNWuLBY.js";import{S as ee}from"./star-BeqzjzHB.js";import{S as te}from"./star-off-DdYJWznb.js";import{T as re}from"./trash-2-CH4pMkWO.js";import"./Primitive-BJP5LoXZ.js";import"./useForwardExpose-BNwhN2Hl.js";import"./usePrimitiveElement-CE7j_lkG.js";import"./RovingFocusGroup-SZlu1p1J.js";import"./VisuallyHidden-BJ0L5TPQ.js";import"./index-BieuuCCp.js";import"./createLucideIcon-Dl1dhQhq.js";import"./DialogTitle-DaBw-h7N.js";import"./index-C5W0E7bH.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CukCHI5b.js";import"./shield-BxfqG8EW.js";import"./trending-up-Bvtl8mCZ.js";import"./chevron-right-DSaglwEj.js";import"./useArrowNavigation-C6Y-ieo6.js";const le={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},oe={class:"mb-6"},se={class:"flex items-center gap-4 mb-4"},ae={class:"flex items-center justify-between"},ie={class:"text-3xl font-bold text-gray-900 dark:text-white"},de={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},ne={class:"flex items-center gap-2"},ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6"},fe={class:"flex items-center gap-2"},_e={class:"text-2xl font-bold"},me={class:"flex items-center gap-2"},pe={class:"text-2xl font-bold"},ce={class:"flex items-center gap-2"},ve={class:"text-2xl font-bold"},ye={class:"flex items-center gap-2"},ge={class:"text-2xl font-bold"},xe={class:"flex items-center gap-2"},ke={class:"text-2xl font-bold"},be={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},we={class:"lg:col-span-2"},Ve={class:"flex items-center justify-between"},Ce={class:"flex gap-2"},Se={key:1,class:"mt-1 text-sm"},$e={key:1,class:"mt-1 text-sm"},Ne={key:1,class:"mt-1 text-sm"},Ue={key:1,class:"mt-1 text-sm"},je={key:1,class:"mt-1 text-sm"},De=["href"],Ae={key:2,class:"mt-1 text-sm"},Fe=["href"],ze={key:2,class:"mt-1 text-sm"},Be={class:"flex items-center gap-2"},Le={key:1,class:"text-sm"},Me={class:"flex items-center gap-2"},Ee={key:1,class:"text-sm"},Te={class:"space-y-6"},He={class:"flex flex-col gap-2"},Ie={key:0},Oe={class:"mt-1 text-sm"},Xe={key:1},Ye={class:"mt-1 text-sm"},qe={class:"mt-1 text-sm"},Ge={class:"mt-1 text-sm"},Je={class:"mt-1 text-sm"},Nt=O({__name:"Show",props:{creator:{},stats:{}},setup(z){const _=z,f=U(!1),S=U(""),n=X({is_top_creator:_.creator.is_top_creator,profile:{display_name:_.creator.creator_profile?.display_name||"",bio:_.creator.creator_profile?.bio||"",specialty:_.creator.creator_profile?.specialty||"",experience_years:_.creator.creator_profile?.experience_years||0,location:_.creator.creator_profile?.location||"",website:_.creator.creator_profile?.website||"",portfolio_url:_.creator.creator_profile?.portfolio_url||"",verification_status:_.creator.creator_profile?.verification_status||"pending",verification_notes:_.creator.creator_profile?.verification_notes||"",is_featured:_.creator.creator_profile?.is_featured||!1}}),B=()=>{n.put(`/admin/creators/${_.creator.id}`,{preserveScroll:!0,onSuccess:()=>{f.value=!1}})},L=()=>{f.value=!1,n.reset()},M=()=>{confirm("确定要验证此创作者吗？")&&w.post(`/admin/creators/${_.creator.id}/verify`,{verification_notes:S.value},{preserveScroll:!0})},E=()=>{const o=prompt("请输入拒绝原因：");o&&w.post(`/admin/creators/${_.creator.id}/reject`,{verification_notes:o},{preserveScroll:!0})},T=()=>{w.post(`/admin/creators/${_.creator.id}/toggle-featured`,{},{preserveScroll:!0})},H=()=>{confirm("确定要移除此用户的创作者身份吗？这将软删除其创作者资料。")&&w.delete(`/admin/creators/${_.creator.id}`,{onSuccess:()=>{w.visit("/admin/creators")}})},$=o=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",verified:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[o]||"bg-gray-100 text-gray-800",N=o=>o?new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I=o=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(o);return(o,t)=>(i(),c(J,null,{default:l(()=>[r(e(Y),{title:`创作者详情 - ${o.creator.creator_profile?.display_name||o.creator.name}`},null,8,["title"]),s("div",le,[s("div",oe,[s("div",se,[r(e(b),{variant:"ghost",onClick:t[0]||(t[0]=u=>e(w).visit("/admin/creators")),class:"flex items-center gap-2"},{default:l(()=>[r(e(K),{class:"h-4 w-4"}),t[12]||(t[12]=a(" 返回列表 ",-1))]),_:1,__:[12]})]),s("div",ae,[s("div",null,[s("h1",ie,d(o.creator.creator_profile?.display_name||o.creator.name),1),s("p",de,d(o.creator.email),1)]),s("div",ne,[r(e(C),{class:j([$(o.creator.creator_profile?.verification_status),"text-sm"])},{default:l(()=>[a(d(o.creator.creator_profile?.verification_status==="pending"?"待审核":"")+" "+d(o.creator.creator_profile?.verification_status==="verified"?"已验证":"")+" "+d(o.creator.creator_profile?.verification_status==="rejected"?"已拒绝":""),1)]),_:1},8,["class"]),o.creator.is_top_creator?(i(),c(e(C),{key:0,class:"bg-purple-100 text-purple-800"},{default:l(()=>t[13]||(t[13]=[a(" 顶级创作者 ",-1)])),_:1,__:[13]})):k("",!0),o.creator.creator_profile?.is_featured?(i(),c(e(C),{key:1,class:"bg-blue-100 text-blue-800"},{default:l(()=>t[14]||(t[14]=[a(" 精选 ",-1)])),_:1,__:[14]})):k("",!0)])])]),s("div",ue,[r(e(v),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(x),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[15]||(t[15]=[a(" 帖子总数 ",-1)])),_:1,__:[15]})]),_:1}),r(e(y),null,{default:l(()=>[s("div",fe,[r(e(P),{class:"h-4 w-4 text-gray-400"}),s("p",_e,d(o.stats.total_posts),1)])]),_:1})]),_:1}),r(e(v),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(x),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[16]||(t[16]=[a(" 总浏览量 ",-1)])),_:1,__:[16]})]),_:1}),r(e(y),null,{default:l(()=>[s("div",me,[r(e(Q),{class:"h-4 w-4 text-gray-400"}),s("p",pe,d(o.stats.total_views.toLocaleString()),1)])]),_:1})]),_:1}),r(e(v),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(x),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[17]||(t[17]=[a(" 总点赞数 ",-1)])),_:1,__:[17]})]),_:1}),r(e(y),null,{default:l(()=>[s("div",ce,[r(e(R),{class:"h-4 w-4 text-gray-400"}),s("p",ve,d(o.stats.total_likes.toLocaleString()),1)])]),_:1})]),_:1}),r(e(v),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(x),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[18]||(t[18]=[a(" 粉丝数 ",-1)])),_:1,__:[18]})]),_:1}),r(e(y),null,{default:l(()=>[s("div",ye,[r(e(W),{class:"h-4 w-4 text-gray-400"}),s("p",ge,d(o.stats.total_followers.toLocaleString()),1)])]),_:1})]),_:1}),r(e(v),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(x),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[19]||(t[19]=[a(" 总收入 ",-1)])),_:1,__:[19]})]),_:1}),r(e(y),null,{default:l(()=>[s("div",xe,[r(e(G),{class:"h-4 w-4 text-gray-400"}),s("p",ke,d(I(o.stats.total_revenue)),1)])]),_:1})]),_:1})]),s("div",be,[s("div",we,[r(e(v),null,{default:l(()=>[r(e(g),null,{default:l(()=>[s("div",Ve,[r(e(x),null,{default:l(()=>t[20]||(t[20]=[a("创作者资料",-1)])),_:1,__:[20]}),s("div",Ce,[f.value?(i(),m(q,{key:1},[r(e(b),{onClick:B,disabled:e(n).processing,size:"sm"},{default:l(()=>t[22]||(t[22]=[a(" 保存 ",-1)])),_:1,__:[22]},8,["disabled"]),r(e(b),{onClick:L,variant:"outline",size:"sm"},{default:l(()=>t[23]||(t[23]=[a(" 取消 ",-1)])),_:1,__:[23]})],64)):(i(),c(e(b),{key:0,onClick:t[1]||(t[1]=u=>f.value=!0),variant:"outline",size:"sm"},{default:l(()=>t[21]||(t[21]=[a(" 编辑 ",-1)])),_:1,__:[21]}))])])]),_:1}),r(e(y),{class:"space-y-4"},{default:l(()=>[s("div",null,[r(e(p),null,{default:l(()=>t[24]||(t[24]=[a("显示名称",-1)])),_:1,__:[24]}),f.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.display_name,"onUpdate:modelValue":t[2]||(t[2]=u=>e(n).profile.display_name=u),class:"mt-1"},null,8,["modelValue"])):(i(),m("p",Se,d(o.creator.creator_profile?.display_name),1))]),s("div",null,[r(e(p),null,{default:l(()=>t[25]||(t[25]=[a("简介",-1)])),_:1,__:[25]}),f.value?(i(),c(e(F),{key:0,modelValue:e(n).profile.bio,"onUpdate:modelValue":t[3]||(t[3]=u=>e(n).profile.bio=u),rows:"3",class:"mt-1"},null,8,["modelValue"])):(i(),m("p",$e,d(o.creator.creator_profile?.bio||"N/A"),1))]),s("div",null,[r(e(p),null,{default:l(()=>t[26]||(t[26]=[a("专长",-1)])),_:1,__:[26]}),f.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.specialty,"onUpdate:modelValue":t[4]||(t[4]=u=>e(n).profile.specialty=u),class:"mt-1"},null,8,["modelValue"])):(i(),m("p",Ne,d(o.creator.creator_profile?.specialty),1))]),s("div",null,[r(e(p),null,{default:l(()=>t[27]||(t[27]=[a("经验年限",-1)])),_:1,__:[27]}),f.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.experience_years,"onUpdate:modelValue":t[5]||(t[5]=u=>e(n).profile.experience_years=u),modelModifiers:{number:!0},type:"number",min:"0",class:"mt-1"},null,8,["modelValue"])):(i(),m("p",Ue,d(o.creator.creator_profile?.experience_years)+" 年",1))]),s("div",null,[r(e(p),null,{default:l(()=>t[28]||(t[28]=[a("位置",-1)])),_:1,__:[28]}),f.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.location,"onUpdate:modelValue":t[6]||(t[6]=u=>e(n).profile.location=u),class:"mt-1"},null,8,["modelValue"])):(i(),m("p",je,d(o.creator.creator_profile?.location||"N/A"),1))]),s("div",null,[r(e(p),null,{default:l(()=>t[29]||(t[29]=[a("网站",-1)])),_:1,__:[29]}),f.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.website,"onUpdate:modelValue":t[7]||(t[7]=u=>e(n).profile.website=u),type:"url",class:"mt-1"},null,8,["modelValue"])):o.creator.creator_profile?.website?(i(),m("a",{key:1,href:o.creator.creator_profile.website,target:"_blank",class:"mt-1 text-sm text-blue-600 hover:underline"},d(o.creator.creator_profile.website),9,De)):(i(),m("p",Ae,"N/A"))]),s("div",null,[r(e(p),null,{default:l(()=>t[30]||(t[30]=[a("作品集",-1)])),_:1,__:[30]}),f.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.portfolio_url,"onUpdate:modelValue":t[8]||(t[8]=u=>e(n).profile.portfolio_url=u),type:"url",class:"mt-1"},null,8,["modelValue"])):o.creator.creator_profile?.portfolio_url?(i(),m("a",{key:1,href:o.creator.creator_profile.portfolio_url,target:"_blank",class:"mt-1 text-sm text-blue-600 hover:underline"},d(o.creator.creator_profile.portfolio_url),9,Fe)):(i(),m("p",ze,"N/A"))]),s("div",Be,[f.value?D((i(),m("input",{key:0,type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=u=>e(n).is_top_creator=u),id:"is_top_creator",class:"rounded"},null,512)),[[A,e(n).is_top_creator]]):k("",!0),r(e(p),{for:f.value?"is_top_creator":void 0},{default:l(()=>t[31]||(t[31]=[a(" 顶级创作者 ",-1)])),_:1,__:[31]},8,["for"]),f.value?k("",!0):(i(),m("span",Le,d(o.creator.is_top_creator?"是":"否"),1))]),s("div",Me,[f.value?D((i(),m("input",{key:0,type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=u=>e(n).profile.is_featured=u),id:"is_featured",class:"rounded"},null,512)),[[A,e(n).profile.is_featured]]):k("",!0),r(e(p),{for:f.value?"is_featured":void 0},{default:l(()=>t[32]||(t[32]=[a(" 精选创作者 ",-1)])),_:1,__:[32]},8,["for"]),f.value?k("",!0):(i(),m("span",Ee,d(o.creator.creator_profile?.is_featured?"是":"否"),1))])]),_:1})]),_:1})]),s("div",Te,[o.creator.creator_profile?.verification_status==="pending"?(i(),c(e(v),{key:0},{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(x),null,{default:l(()=>t[33]||(t[33]=[a("验证操作",-1)])),_:1,__:[33]})]),_:1}),r(e(y),{class:"space-y-4"},{default:l(()=>[s("div",null,[r(e(p),null,{default:l(()=>t[34]||(t[34]=[a("验证备注",-1)])),_:1,__:[34]}),r(e(F),{modelValue:S.value,"onUpdate:modelValue":t[11]||(t[11]=u=>S.value=u),rows:"3",placeholder:"添加验证备注...",class:"mt-1"},null,8,["modelValue"])]),s("div",He,[r(e(b),{onClick:M,class:"w-full bg-green-600 hover:bg-green-700"},{default:l(()=>[r(e(Z),{class:"h-4 w-4 mr-2"}),t[35]||(t[35]=a(" 验证通过 ",-1))]),_:1,__:[35]}),r(e(b),{onClick:E,variant:"destructive",class:"w-full"},{default:l(()=>[r(e(h),{class:"h-4 w-4 mr-2"}),t[36]||(t[36]=a(" 拒绝验证 ",-1))]),_:1,__:[36]})])]),_:1})]),_:1})):k("",!0),r(e(v),null,{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(x),null,{default:l(()=>t[37]||(t[37]=[a("验证信息",-1)])),_:1,__:[37]})]),_:1}),r(e(y),{class:"space-y-3"},{default:l(()=>[s("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[38]||(t[38]=[a("验证状态",-1)])),_:1,__:[38]}),r(e(C),{class:j([$(o.creator.creator_profile?.verification_status),"mt-1"])},{default:l(()=>[a(d(o.creator.creator_profile?.verification_status==="pending"?"待审核":"")+" "+d(o.creator.creator_profile?.verification_status==="verified"?"已验证":"")+" "+d(o.creator.creator_profile?.verification_status==="rejected"?"已拒绝":""),1)]),_:1},8,["class"])]),o.creator.creator_profile?.verified_at?(i(),m("div",Ie,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[39]||(t[39]=[a("验证时间",-1)])),_:1,__:[39]}),s("p",Oe,d(N(o.creator.creator_profile.verified_at)),1)])):k("",!0),o.creator.creator_profile?.verification_notes?(i(),m("div",Xe,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[40]||(t[40]=[a("验证备注",-1)])),_:1,__:[40]}),s("p",Ye,d(o.creator.creator_profile.verification_notes),1)])):k("",!0)]),_:1})]),_:1}),r(e(v),null,{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(x),null,{default:l(()=>t[41]||(t[41]=[a("快速操作",-1)])),_:1,__:[41]})]),_:1}),r(e(y),{class:"space-y-2"},{default:l(()=>[r(e(b),{onClick:T,variant:"outline",class:"w-full"},{default:l(()=>[o.creator.creator_profile?.is_featured?(i(),c(e(te),{key:1,class:"h-4 w-4 mr-2"})):(i(),c(e(ee),{key:0,class:"h-4 w-4 mr-2"})),a(" "+d(o.creator.creator_profile?.is_featured?"取消精选":"设为精选"),1)]),_:1}),r(e(b),{onClick:H,variant:"destructive",class:"w-full"},{default:l(()=>[r(e(re),{class:"h-4 w-4 mr-2"}),t[42]||(t[42]=a(" 移除创作者身份 ",-1))]),_:1,__:[42]})]),_:1})]),_:1}),r(e(v),null,{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(x),null,{default:l(()=>t[43]||(t[43]=[a("账号信息",-1)])),_:1,__:[43]})]),_:1}),r(e(y),{class:"space-y-3"},{default:l(()=>[s("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[44]||(t[44]=[a("用户ID",-1)])),_:1,__:[44]}),s("p",qe,d(o.creator.id),1)]),s("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[45]||(t[45]=[a("邮箱",-1)])),_:1,__:[45]}),s("p",Ge,d(o.creator.email),1)]),s("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[46]||(t[46]=[a("创建时间",-1)])),_:1,__:[46]}),s("p",Je,d(N(o.creator.created_at)),1)])]),_:1})]),_:1})])])])]),_:1}))}});export{Nt as default};
