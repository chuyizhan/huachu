import{_ as B}from"./Card.vue_vue_type_script_setup_true_lang-78uk3c1f.js";import{_ as x}from"./CardContent.vue_vue_type_script_setup_true_lang-DVTb-RP0.js";import{_ as m}from"./index-D2byTBHj.js";import{g as $,_ as C}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-CbT0vu7c.js";import{d as z,i,o as a,c as u,j as r,e as t,m as h,w as p,b as e,a as n,t as o,F as y,x as I,y as v,f as c}from"./app-D7JLHZQu.js";import{C as j}from"./trending-up-DtNWuQP_.js";import{M}from"./message-square-BmxhzHKR.js";import{H as _}from"./heart-Le-HFamR.js";import{E as g}from"./eye-C9D-0w6a.js";import{C as D}from"./crown-83WhMZXv.js";const A={class:"border-b border-gray-600 shadow-none py-2"},R={class:"flex items-start gap-3 mb-1"},T=["src","alt"],U={class:"flex-1 min-w-0"},V={class:"flex items-center gap-2 flex-wrap"},E={class:"font-semibold text-white text-sm"},N={key:1,class:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},q={class:"flex items-center gap-2 text-xs text-[#999999] mt-0.5"},P={key:0},H={key:1},L={class:"text-lg font-semibold text-white mb-3 hover:text-[#ff6e02] transition-colors line-clamp-2"},F={key:0,class:"mb-4 rounded-lg overflow-hidden"},G={class:"flex space-x-2"},J=["src","alt"],K={key:0,class:"absolute inset-0 bg-black/60 flex items-center justify-center"},O={class:"text-white text-lg font-semibold"},Q={class:"flex items-center gap-6 text-sm text-gray-300 pt-0"},W={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},X={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},Y={class:"flex items-center gap-1.5"},Z={class:"flex gap-3"},ss={key:0,class:"flex-shrink-0"},es=["src","alt"],ts={class:"flex-1 min-w-0"},os={key:0,class:"flex items-center justify-between mb-2"},as={class:"flex items-center gap-2 flex-wrap"},rs={class:"flex items-center gap-1"},ls={class:"text-white font-medium text-sm"},ns={class:"text-[#999999] text-xs"},is={class:"flex items-center gap-2 mb-2 flex-wrap"},ps={key:3,class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},cs={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},ds={class:"text-[#999999] text-sm line-clamp-2 mb-3"},us={key:1,class:"grid grid-cols-3 gap-2 mb-3 max-w-md"},fs=["src","alt"],ms={key:2,class:"flex items-center gap-6 text-xs text-[#999999]"},hs={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},_s={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},gs={class:"flex items-center gap-1"},ys={key:2,class:"listclass hover:shadow-lg transition-all duration-200"},vs={class:"pb-3"},ws={class:"flex items-center gap-2 u-m-b-15"},bs={class:"font32 colorfff line-clamp-2 u-m-b-10"},ks={class:"font24 color999 line-clamp-3 u-m-b-15"},xs={key:0,class:"flex-x-center gap-2 u-m-b-15"},$s={class:"font24 color999"},Cs={class:"font24 color666 ml-auto"},Is={key:1,class:"flex-x-center justify-between u-m-t-15 u-p-t-15 border-t border-[#333333]"},js={class:"flex-x-center gap-4 font24 color999"},Ms={class:"flex-x-center gap-1"},Ss={class:"flex-x-center gap-1"},Bs={key:3,class:"listclass"},zs={class:"flex-x items-start gap-4"},Ds={class:"flex-1 min-w-0"},As={class:"flex-x-center gap-2 u-m-b-10"},Rs={class:"font24 color666"},Ts={class:"font32 colorfff line-clamp-1 u-m-b-10"},Us={class:"font24 color999 line-clamp-2 u-m-b-10"},Vs={class:"flex-x-center justify-between"},Es={key:0,class:"font24 color999"},Ns={key:1,class:"flex-x-center gap-3 font24 color999"},qs={class:"flex-x-center gap-1"},Ps={class:"flex-x-center gap-1"},Zs=z({__name:"PostCard",props:{post:{},variant:{default:"default"},showAuthor:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showReadMore:{type:Boolean,default:!0},showImages:{type:Boolean,default:!0}},setup(Hs){const w=s=>s.split(" ").map(l=>l[0]).join("").toUpperCase(),b=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=s=>{const l=new Date(s),d=Math.floor((new Date().getTime()-l.getTime())/1e3);return d<60?"刚刚":d<3600?`${Math.floor(d/60)}分钟前`:d<86400?`${Math.floor(d/3600)}小时前`:d<604800?`${Math.floor(d/86400)}天前`:l.toLocaleDateString("zh-CN")},S=s=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[s]||s;return(s,l)=>(a(),i(y,null,[s.variant==="home"?(a(),u(t(h),{key:0,href:`/posts/${s.post.slug}`,class:""},{default:p(()=>[e("div",A,[n(t(x),{class:"px-4"},{default:p(()=>[e("div",R,[e("img",{src:s.post.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover flex-shrink-0",alt:s.post.user.name,onError:l[0]||(l[0]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,T),e("div",U,[e("div",V,[e("span",E,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(j),{key:0,class:"w-4 h-4 text-[#ff6e02]"})):r("",!0),s.post.has_video?(a(),i("span",N," 视频 ")):r("",!0)]),e("div",q,[s.post.user.creator_profile?.specialty?(a(),i("span",P,o(s.post.user.creator_profile.specialty),1)):r("",!0),s.post.user.creator_profile?.specialty?(a(),i("span",H,"·")):r("",!0),e("span",null,o(k(s.post.published_at)),1)])])]),e("h3",L,o(s.post.title),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),i("div",F,[e("div",G,[(a(!0),i(y,null,I(s.post.post_images.slice(0,3),(f,d)=>(a(),i("div",{key:d,class:"relative overflow-hidden bg-[#1c1c1c] max-w-28 aspect-square"},[e("img",{src:f.thumb||f.url,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",alt:`${s.post.title} - Image ${d+1}`},null,8,J),d===2&&s.post.post_images.length>3?(a(),i("div",K,[e("span",O,"+"+o(s.post.post_images.length-3),1)])):r("",!0)]))),128))])])):r("",!0),e("div",Q,[e("span",W,[n(t(M),{class:"h-4 w-4"}),e("span",null,o(s.post.comment_count||0),1)]),e("span",X,[n(t(_),{class:"h-4 w-4"}),e("span",null,o(s.post.like_count),1)]),e("span",Y,[n(t(g),{class:"h-4 w-4"}),e("span",null,o(s.post.view_count),1)])])]),_:1})])]),_:1},8,["href"])):s.variant==="list"?(a(),u(t(h),{key:1,href:`/posts/${s.post.slug}`,class:"block group"},{default:p(()=>[n(t(B),{class:"bg-transparent border-0 shadow-none"},{default:p(()=>[n(t(x),{class:"p-2 px-2"},{default:p(()=>[e("div",Z,[s.showAuthor&&s.post.user?(a(),i("div",ss,[e("img",{src:s.post.user.avatar?`/storage/${s.post.user.avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover",alt:s.post.user.name,onError:l[1]||(l[1]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,es)])):r("",!0),e("div",ts,[s.showAuthor&&s.post.user?(a(),i("div",os,[e("div",as,[e("div",rs,[e("span",ls,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(j),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):r("",!0)]),l[2]||(l[2]=e("span",{class:"text-[#999999] text-xs"},"·",-1)),e("span",ns,o(k(s.post.published_at)),1)])])):r("",!0),e("div",is,[n(t(m),{class:"text-white text-xs px-2 py-0.5",style:v({backgroundColor:s.post.category.color})},{default:p(()=>[c(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.type?(a(),u(t(m),{key:0,variant:"outline",class:"text-[#999999] border-[#999999] text-xs px-2 py-0.5"},{default:p(()=>[c(o(S(s.post.type)),1)]),_:1})):r("",!0),s.post.is_featured?(a(),u(t(m),{key:1,class:"bg-[#ff6e02] text-white text-xs px-2 py-0.5"},{default:p(()=>l[3]||(l[3]=[c(" 精选 ",-1)])),_:1,__:[3]})):r("",!0),s.post.is_premium?(a(),u(t(m),{key:2,class:"bg-yellow-500 text-white text-xs px-2 py-0.5"},{default:p(()=>l[4]||(l[4]=[c(" ⭐ VIP ",-1)])),_:1,__:[4]})):r("",!0),s.post.has_video?(a(),i("span",ps," 视频 ")):r("",!0)]),e("h3",cs,o(s.post.title),1),e("p",ds,o(s.post.excerpt),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),i("div",us,[(a(!0),i(y,null,I(s.post.post_images.slice(0,3),(f,d)=>(a(),i("div",{key:d,class:"relative overflow-hidden rounded-lg aspect-square"},[e("img",{src:f.thumb||f.url,class:"w-full h-full object-cover",alt:`${s.post.title} - Image ${d+1}`},null,8,fs)]))),128))])):r("",!0),s.showStats?(a(),i("div",ms,[e("span",hs,[n(t(M),{class:"w-4 h-4"}),c(" "+o(s.post.comment_count||0),1)]),e("span",_s,[n(t(_),{class:"w-4 h-4"}),c(" "+o(s.post.like_count),1)]),e("span",gs,[n(t(g),{class:"w-4 h-4"}),c(" "+o(s.post.view_count),1)])])):r("",!0)])])]),_:1})]),_:1})]),_:1},8,["href"])):r("",!0),s.variant==="featured"?(a(),i("div",ys,[e("div",vs,[e("div",ws,[n(t(m),{style:v({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:p(()=>[c(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.is_premium?(a(),u(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:p(()=>[n(t(D),{class:"w-3 h-3 mr-1"}),l[5]||(l[5]=c(" VIP ",-1))]),_:1,__:[5]})):r("",!0)]),e("h3",bs,[n(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:p(()=>[c(o(s.post.title),1)]),_:1},8,["href"])]),e("p",ks,o(s.post.excerpt),1)]),e("div",null,[s.showAuthor?(a(),i("div",xs,[n(t(C),{class:"h-6 w-6"},{default:p(()=>[n(t($),{class:"text-xs bg-[#ff6e02] text-white"},{default:p(()=>[c(o(w(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1}),e("span",$s,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),u(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:p(()=>l[6]||(l[6]=[c(" ✓ ",-1)])),_:1,__:[6]})):r("",!0),e("span",Cs,o(b(s.post.published_at)),1)])):r("",!0),s.showStats?(a(),i("div",Is,[e("div",js,[e("div",Ms,[n(t(g),{class:"w-4 h-4"}),e("span",null,o(s.post.view_count),1)]),e("div",Ss,[n(t(_),{class:"w-4 h-4"}),e("span",null,o(s.post.like_count),1)])]),s.showReadMore?(a(),u(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"font24 colorz hover:text-white transition-colors"},{default:p(()=>l[7]||(l[7]=[c(" 查看更多 → ",-1)])),_:1,__:[7]},8,["href"])):r("",!0)])):r("",!0)])])):s.variant==="compact"?(a(),i("div",Bs,[e("div",zs,[s.showAuthor?(a(),u(t(C),{key:0,class:"h-10 w-10"},{default:p(()=>[n(t($),{class:"bg-[#ff6e02] text-white"},{default:p(()=>[c(o(w(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1})):r("",!0),e("div",Ds,[e("div",As,[n(t(m),{style:v({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:p(()=>[c(o(s.post.category.name),1)]),_:1},8,["style"]),e("span",Rs,o(b(s.post.published_at)),1)]),e("h3",Ts,[n(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:p(()=>[c(o(s.post.title),1)]),_:1},8,["href"])]),e("p",Us,o(s.post.excerpt),1),e("div",Vs,[s.showAuthor?(a(),i("span",Es,o(s.post.user.creator_profile?.display_name||s.post.user.name),1)):r("",!0),s.showStats?(a(),i("div",Ns,[e("span",qs,[n(t(g),{class:"w-3 h-3"}),c(" "+o(s.post.view_count),1)]),e("span",Ps,[n(t(_),{class:"w-3 h-3"}),c(" "+o(s.post.like_count),1)])])):r("",!0)])])])])):r("",!0)],64))}});export{Zs as _};
