import{a as S,_ as j}from"./CardContent.vue_vue_type_script_setup_true_lang-CKFl7_69.js";import{_ as m}from"./index-U95Ipzi-.js";import{a as x,_ as $}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-BfztSxlL.js";import{d as z,i as p,o as a,c,j as l,e as t,y as h,w as i,b as e,t as o,F as v,s as C,a as n,x as w,f as d,n as B}from"./app-DyXk8IaF.js";import{M as I}from"./message-square-CgMO_qdX.js";import{H as _}from"./heart-CNwQPO-G.js";import{E as g}from"./eye-BvxL5W7F.js";import{C as D}from"./chef-hat-B_vAG3LS.js";import{C as A}from"./crown-DvN2rJj0.js";const R={class:"flex gap-3"},T={class:"flex-shrink-0"},U=["src","alt"],V={class:"flex-1 min-w-0"},E={class:"flex items-center gap-2 mb-1"},N={class:"font-semibold text-foreground text-sm"},q={class:"text-muted-foreground text-xs"},P={key:0,class:"inline-flex items-center px-1.5 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},H={class:"text-base font-semibold text-foreground mb-2 hover:text-[#ff6e02] transition-colors line-clamp-2"},L={key:0,class:"grid grid-cols-3 gap-1 mb-3 rounded-sm overflow-hidden"},F=["src","alt"],G={class:"flex items-center gap-6 text-sm text-muted-foreground"},J={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},K={class:"flex items-center gap-1.5 hover:text-[#ff6e02] transition-colors cursor-pointer"},O={class:"flex items-center gap-1.5"},Q={class:"flex gap-3"},W={key:0,class:"flex-shrink-0"},X=["src","alt"],Y={class:"flex-1 min-w-0"},Z={key:0,class:"flex items-center justify-between mb-2"},ss={class:"flex items-center gap-2 flex-wrap"},es={class:"flex items-center gap-1"},ts={class:"text-white font-medium text-sm"},os={class:"text-[#999999] text-xs"},as={class:"flex items-center gap-2 mb-2 flex-wrap"},rs={key:3,class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-red-500/20 text-red-400 rounded"},ls={class:"text-white font-medium text-base group-hover:text-[#ff6e02] transition-colors line-clamp-2 mb-2"},ns={class:"text-[#999999] text-sm line-clamp-2 mb-3"},is={key:1,class:"grid grid-cols-3 gap-2 mb-3 max-w-md"},ps=["src","alt"],ds={key:2,class:"flex items-center gap-6 text-xs text-[#999999]"},us={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},fs={class:"flex items-center gap-1 hover:text-[#ff6e02] transition-colors cursor-pointer"},cs={class:"flex items-center gap-1"},ms={key:2,class:"listclass hover:shadow-lg transition-all duration-200"},hs={class:"pb-3"},_s={class:"flex items-center gap-2 u-m-b-15"},gs={class:"font32 colorfff line-clamp-2 u-m-b-10"},vs={class:"font24 color999 line-clamp-3 u-m-b-15"},ws={key:0,class:"flex-x-center gap-2 u-m-b-15"},ys={class:"font24 color999"},bs={class:"font24 color666 ml-auto"},ks={key:1,class:"flex-x-center justify-between u-m-t-15 u-p-t-15 border-t border-[#333333]"},xs={class:"flex-x-center gap-4 font24 color999"},$s={class:"flex-x-center gap-1"},Cs={class:"flex-x-center gap-1"},Is={key:3,class:"listclass"},Ms={class:"flex-x items-start gap-4"},Ss={class:"flex-1 min-w-0"},js={class:"flex-x-center gap-2 u-m-b-10"},zs={class:"font24 color666"},Bs={class:"font32 colorfff line-clamp-1 u-m-b-10"},Ds={class:"font24 color999 line-clamp-2 u-m-b-10"},As={class:"flex-x-center justify-between"},Rs={key:0,class:"font24 color999"},Ts={key:1,class:"flex-x-center gap-3 font24 color999"},Us={class:"flex-x-center gap-1"},Vs={class:"flex-x-center gap-1"},Os=z({__name:"PostCard",props:{post:{},variant:{default:"default"},showAuthor:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showReadMore:{type:Boolean,default:!0},showImages:{type:Boolean,default:!0}},setup(Es){const y=s=>s.split(" ").map(r=>r[0]).join("").toUpperCase(),b=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=s=>{const r=new Date(s),u=Math.floor((new Date().getTime()-r.getTime())/1e3);return u<60?"刚刚":u<3600?`${Math.floor(u/60)}分钟前`:u<86400?`${Math.floor(u/3600)}小时前`:u<604800?`${Math.floor(u/86400)}天前`:r.toLocaleDateString("zh-CN")},M=s=>({tutorial:"教程",discussion:"讨论",showcase:"展示",question:"问答"})[s]||s;return(s,r)=>(a(),p(v,null,[s.variant==="home"?(a(),c(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"block hover:bg-accent/50 transition-colors px-4 py-3 border-gray-500 border-b"},{default:i(()=>[e("div",R,[e("div",T,[e("img",{src:s.post.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-10 h-10 rounded-full object-cover",alt:s.post.user.name,onError:r[0]||(r[0]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,U)]),e("div",V,[e("div",E,[e("span",N,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),r[2]||(r[2]=e("span",{class:"text-muted-foreground text-xs"},"·",-1)),e("span",q,o(k(s.post.published_at)),1),s.post.has_video?(a(),p("span",P," 视频 ")):l("",!0)]),e("h3",H,o(s.post.title),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),p("div",L,[(a(!0),p(v,null,C(s.post.post_images.slice(0,3),(f,u)=>(a(),p("div",{key:u,class:B(["relative overflow-hidden",{"aspect-video":s.post.post_images.length===1,"aspect-square":s.post.post_images.length>=2}])},[e("img",{src:f.thumb||f.url,class:"w-full h-full object-cover",alt:`${s.post.title} - Image ${u+1}`},null,8,F)],2))),128))])):l("",!0),e("div",G,[e("span",J,[n(t(I),{class:"h-4 w-4"}),e("span",null,o(s.post.comment_count||0),1)]),e("span",K,[n(t(_),{class:"h-4 w-4"}),e("span",null,o(s.post.like_count),1)]),e("span",O,[n(t(g),{class:"h-4 w-4"}),e("span",null,o(s.post.view_count),1)])])])])]),_:1},8,["href"])):s.variant==="list"?(a(),c(t(h),{key:1,href:`/posts/${s.post.slug}`,class:"block group"},{default:i(()=>[n(t(j),{class:"bg-transparent border-0 shadow-none"},{default:i(()=>[n(t(S),{class:"p-2 px-2"},{default:i(()=>[e("div",Q,[s.showAuthor&&s.post.user?(a(),p("div",W,[e("img",{src:s.post.user.avatar?`/storage/${s.post.user.avatar}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.creator_profile?.display_name||s.post.user.name)}&size=48&background=ff6e02&color=fff`,class:"w-12 h-12 rounded-full object-cover",alt:s.post.user.name,onError:r[1]||(r[1]=f=>f.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.post.user.name)}&size=48&background=ff6e02&color=fff`)},null,40,X)])):l("",!0),e("div",Y,[s.showAuthor&&s.post.user?(a(),p("div",Z,[e("div",ss,[e("div",es,[e("span",ts,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),c(t(D),{key:0,class:"w-3 h-3 text-[#ff6e02]"})):l("",!0)]),r[3]||(r[3]=e("span",{class:"text-[#999999] text-xs"},"·",-1)),e("span",os,o(k(s.post.published_at)),1)])])):l("",!0),e("div",as,[n(t(m),{class:"text-white text-xs px-2 py-0.5",style:w({backgroundColor:s.post.category.color})},{default:i(()=>[d(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.type?(a(),c(t(m),{key:0,variant:"outline",class:"text-[#999999] border-[#999999] text-xs px-2 py-0.5"},{default:i(()=>[d(o(M(s.post.type)),1)]),_:1})):l("",!0),s.post.is_featured?(a(),c(t(m),{key:1,class:"bg-[#ff6e02] text-white text-xs px-2 py-0.5"},{default:i(()=>r[4]||(r[4]=[d(" 精选 ",-1)])),_:1,__:[4]})):l("",!0),s.post.is_premium?(a(),c(t(m),{key:2,class:"bg-yellow-500 text-white text-xs px-2 py-0.5"},{default:i(()=>r[5]||(r[5]=[d(" ⭐ VIP ",-1)])),_:1,__:[5]})):l("",!0),s.post.has_video?(a(),p("span",rs," 视频 ")):l("",!0)]),e("h3",ls,o(s.post.title),1),e("p",ns,o(s.post.excerpt),1),s.showImages&&s.post.post_images&&s.post.post_images.length>0?(a(),p("div",is,[(a(!0),p(v,null,C(s.post.post_images.slice(0,3),(f,u)=>(a(),p("div",{key:u,class:"relative overflow-hidden rounded-lg aspect-square"},[e("img",{src:f.thumb||f.url,class:"w-full h-full object-cover",alt:`${s.post.title} - Image ${u+1}`},null,8,ps)]))),128))])):l("",!0),s.showStats?(a(),p("div",ds,[e("span",us,[n(t(I),{class:"w-4 h-4"}),d(" "+o(s.post.comment_count||0),1)]),e("span",fs,[n(t(_),{class:"w-4 h-4"}),d(" "+o(s.post.like_count),1)]),e("span",cs,[n(t(g),{class:"w-4 h-4"}),d(" "+o(s.post.view_count),1)])])):l("",!0)])])]),_:1})]),_:1})]),_:1},8,["href"])):l("",!0),s.variant==="featured"?(a(),p("div",ms,[e("div",hs,[e("div",_s,[n(t(m),{style:w({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:i(()=>[d(o(s.post.category.name),1)]),_:1},8,["style"]),s.post.is_premium?(a(),c(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:i(()=>[n(t(A),{class:"w-3 h-3 mr-1"}),r[6]||(r[6]=d(" VIP ",-1))]),_:1,__:[6]})):l("",!0)]),e("h3",gs,[n(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:i(()=>[d(o(s.post.title),1)]),_:1},8,["href"])]),e("p",vs,o(s.post.excerpt),1)]),e("div",null,[s.showAuthor?(a(),p("div",ws,[n(t($),{class:"h-6 w-6"},{default:i(()=>[n(t(x),{class:"text-xs bg-[#ff6e02] text-white"},{default:i(()=>[d(o(y(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1}),e("span",ys,o(s.post.user.creator_profile?.display_name||s.post.user.name),1),s.post.user.creator_profile?.verification_status==="verified"?(a(),c(t(m),{key:0,class:"bg-[#ff6e02] text-white text-xs rounded-40"},{default:i(()=>r[7]||(r[7]=[d(" ✓ ",-1)])),_:1,__:[7]})):l("",!0),e("span",bs,o(b(s.post.published_at)),1)])):l("",!0),s.showStats?(a(),p("div",ks,[e("div",xs,[e("div",$s,[n(t(g),{class:"w-4 h-4"}),e("span",null,o(s.post.view_count),1)]),e("div",Cs,[n(t(_),{class:"w-4 h-4"}),e("span",null,o(s.post.like_count),1)])]),s.showReadMore?(a(),c(t(h),{key:0,href:`/posts/${s.post.slug}`,class:"font24 colorz hover:text-white transition-colors"},{default:i(()=>r[8]||(r[8]=[d(" 查看更多 → ",-1)])),_:1,__:[8]},8,["href"])):l("",!0)])):l("",!0)])])):s.variant==="compact"?(a(),p("div",Is,[e("div",Ms,[s.showAuthor?(a(),c(t($),{key:0,class:"h-10 w-10"},{default:i(()=>[n(t(x),{class:"bg-[#ff6e02] text-white"},{default:i(()=>[d(o(y(s.post.user.creator_profile?.display_name||s.post.user.name)),1)]),_:1})]),_:1})):l("",!0),e("div",Ss,[e("div",js,[n(t(m),{style:w({backgroundColor:s.post.category.color}),class:"text-white text-xs rounded-40"},{default:i(()=>[d(o(s.post.category.name),1)]),_:1},8,["style"]),e("span",zs,o(b(s.post.published_at)),1)]),e("h3",Bs,[n(t(h),{href:`/posts/${s.post.slug}`,class:"hover:text-primary"},{default:i(()=>[d(o(s.post.title),1)]),_:1},8,["href"])]),e("p",Ds,o(s.post.excerpt),1),e("div",As,[s.showAuthor?(a(),p("span",Rs,o(s.post.user.creator_profile?.display_name||s.post.user.name),1)):l("",!0),s.showStats?(a(),p("div",Ts,[e("span",Us,[n(t(g),{class:"w-3 h-3"}),d(" "+o(s.post.view_count),1)]),e("span",Vs,[n(t(_),{class:"w-3 h-3"}),d(" "+o(s.post.like_count),1)])])):l("",!0)])])])])):l("",!0)],64))}});export{Os as _};
