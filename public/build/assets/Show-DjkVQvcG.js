import{d as O,r as U,u as W,c,o as i,w as l,a as r,b as a,e,h as X,l as w,f as s,i as f,t as d,j as x,n as j,F as Y,k as A,v as D}from"./app-kob8CVRK.js";import{D as q,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BdQ8QA9l.js";import{_ as y,a as v}from"./CardContent.vue_vue_type_script_setup_true_lang-CiR0AURR.js";import{_ as g}from"./CardHeader.vue_vue_type_script_setup_true_lang-ClevN_XI.js";import{_ as k}from"./CardTitle.vue_vue_type_script_setup_true_lang-BobXNG0R.js";import{_ as b}from"./index-CKFw0FL_.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-03dbJv0r.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-Cry2wXHN.js";import{_ as F}from"./Textarea.vue_vue_type_script_setup_true_lang-C8jYMLCo.js";import{_ as C}from"./index-BA9zYvjA.js";import{A as J}from"./arrow-left-wTdxeIp2.js";import{F as K}from"./file-text-CaGjPdGH.js";import{E as P}from"./eye-56sBxkma.js";import{H as Q}from"./heart-BJMi7Kmr.js";import{U as R}from"./users-CNzm3mA8.js";import{C as Z}from"./check-DGt3MJwf.js";import{X as h}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-B1Y7R2CB.js";import{S as ee}from"./star-B5rwIVNo.js";import{S as te}from"./star-off-7T3fnjQ0.js";import{T as re}from"./trash-2-BhbVHNto.js";import"./Primitive-BE7hyEE5.js";import"./useForwardExpose-C-dMyllY.js";import"./usePrimitiveElement-vQoX7tlz.js";import"./RovingFocusGroup-eP3yFYFc.js";import"./VisuallyHidden-Df262hPE.js";import"./index-CET7fbM1.js";import"./createLucideIcon-CW2CPC90.js";import"./DialogTitle-DWqGpV3s.js";import"./index-C5W0E7bH.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C16ycLJU.js";import"./shield-yL3bQPLl.js";import"./trending-up-DgoaXaT_.js";import"./chevron-right-0AUNV4YL.js";import"./useArrowNavigation-C6Y-ieo6.js";const le={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},oe={class:"mb-6"},ae={class:"flex items-center gap-4 mb-4"},se={class:"flex items-center justify-between"},ie={class:"flex items-center gap-4"},de=["src","alt"],ne={key:1,class:"w-20 h-20 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 font-bold text-2xl border-2 border-gray-200 dark:border-gray-600"},ue={class:"text-3xl font-bold text-gray-900 dark:text-white"},fe={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},_e={class:"flex items-center gap-2"},me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6"},pe={class:"flex items-center gap-2"},ce={class:"text-2xl font-bold"},ye={class:"flex items-center gap-2"},ve={class:"text-2xl font-bold"},ge={class:"flex items-center gap-2"},ke={class:"text-2xl font-bold"},xe={class:"flex items-center gap-2"},be={class:"text-2xl font-bold"},we={class:"flex items-center gap-2"},Ve={class:"text-2xl font-bold"},Ce={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},$e={class:"lg:col-span-2"},Se={class:"flex items-center justify-between"},Ne={class:"flex gap-2"},Ue={key:1,class:"mt-1 text-sm"},je={key:1,class:"mt-1 text-sm"},Ae={key:1,class:"mt-1 text-sm"},De={key:1,class:"mt-1 text-sm"},Fe={key:1,class:"mt-1 text-sm"},ze=["href"],Be={key:2,class:"mt-1 text-sm"},Le=["href"],Me={key:2,class:"mt-1 text-sm"},Ee={class:"flex items-center gap-2"},Te={key:1,class:"text-sm"},He={class:"flex items-center gap-2"},Ie={key:1,class:"text-sm"},Oe={class:"space-y-6"},We={class:"flex flex-col gap-2"},Xe={key:0},Ye={class:"mt-1 text-sm"},qe={key:1},Ge={class:"mt-1 text-sm"},Je={class:"mt-1 text-sm"},Ke={class:"mt-1 text-sm"},Pe={class:"mt-1 text-sm"},At=O({__name:"Show",props:{creator:{},stats:{}},setup(z){const m=z,_=U(!1),$=U(""),n=W({is_top_creator:m.creator.is_top_creator,profile:{display_name:m.creator.creator_profile?.display_name||"",bio:m.creator.creator_profile?.bio||"",specialty:m.creator.creator_profile?.specialty||"",experience_years:m.creator.creator_profile?.experience_years||0,location:m.creator.creator_profile?.location||"",website:m.creator.creator_profile?.website||"",portfolio_url:m.creator.creator_profile?.portfolio_url||"",verification_status:m.creator.creator_profile?.verification_status||"pending",verification_notes:m.creator.creator_profile?.verification_notes||"",is_featured:m.creator.creator_profile?.is_featured||!1}}),B=()=>{n.put(`/admin/creators/${m.creator.id}`,{preserveScroll:!0,onSuccess:()=>{_.value=!1}})},L=()=>{_.value=!1,n.reset()},M=()=>{confirm("确定要验证此创作者吗？")&&w.post(`/admin/creators/${m.creator.id}/verify`,{verification_notes:$.value},{preserveScroll:!0})},E=()=>{const o=prompt("请输入拒绝原因：");o&&w.post(`/admin/creators/${m.creator.id}/reject`,{verification_notes:o},{preserveScroll:!0})},T=()=>{w.post(`/admin/creators/${m.creator.id}/toggle-featured`,{},{preserveScroll:!0})},H=()=>{confirm("确定要移除此用户的创作者身份吗？这将软删除其创作者资料。")&&w.delete(`/admin/creators/${m.creator.id}`,{onSuccess:()=>{w.visit("/admin/creators")}})},S=o=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",verified:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[o]||"bg-gray-100 text-gray-800",N=o=>o?new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",I=o=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(o);return(o,t)=>(i(),c(G,null,{default:l(()=>[r(e(X),{title:`创作者详情 - ${o.creator.creator_profile?.display_name||o.creator.name}`},null,8,["title"]),a("div",le,[a("div",oe,[a("div",ae,[r(e(b),{variant:"ghost",onClick:t[0]||(t[0]=u=>e(w).visit("/admin/creators")),class:"flex items-center gap-2"},{default:l(()=>[r(e(J),{class:"h-4 w-4"}),t[12]||(t[12]=s(" 返回列表 ",-1))]),_:1,__:[12]})]),a("div",se,[a("div",ie,[o.creator.avatar?(i(),f("img",{key:0,src:o.creator.avatar.startsWith("http")?o.creator.avatar:`/storage/${o.creator.avatar}`,alt:o.creator.name,class:"w-20 h-20 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600"},null,8,de)):(i(),f("div",ne,d((o.creator.creator_profile?.display_name||o.creator.name).charAt(0).toUpperCase()),1)),a("div",null,[a("h1",ue,d(o.creator.creator_profile?.display_name||o.creator.name),1),a("p",fe,d(o.creator.email),1)])]),a("div",_e,[r(e(C),{class:j([S(o.creator.creator_profile?.verification_status),"text-sm"])},{default:l(()=>[s(d(o.creator.creator_profile?.verification_status==="pending"?"待审核":"")+" "+d(o.creator.creator_profile?.verification_status==="verified"?"已验证":"")+" "+d(o.creator.creator_profile?.verification_status==="rejected"?"已拒绝":""),1)]),_:1},8,["class"]),o.creator.is_top_creator?(i(),c(e(C),{key:0,class:"bg-purple-100 text-purple-800"},{default:l(()=>t[13]||(t[13]=[s(" 顶级创作者 ",-1)])),_:1,__:[13]})):x("",!0),o.creator.creator_profile?.is_featured?(i(),c(e(C),{key:1,class:"bg-blue-100 text-blue-800"},{default:l(()=>t[14]||(t[14]=[s(" 精选 ",-1)])),_:1,__:[14]})):x("",!0)])])]),a("div",me,[r(e(y),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(k),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[15]||(t[15]=[s(" 帖子总数 ",-1)])),_:1,__:[15]})]),_:1}),r(e(v),null,{default:l(()=>[a("div",pe,[r(e(K),{class:"h-4 w-4 text-gray-400"}),a("p",ce,d(o.stats.total_posts),1)])]),_:1})]),_:1}),r(e(y),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(k),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[16]||(t[16]=[s(" 总浏览量 ",-1)])),_:1,__:[16]})]),_:1}),r(e(v),null,{default:l(()=>[a("div",ye,[r(e(P),{class:"h-4 w-4 text-gray-400"}),a("p",ve,d(o.stats.total_views.toLocaleString()),1)])]),_:1})]),_:1}),r(e(y),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(k),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[17]||(t[17]=[s(" 总点赞数 ",-1)])),_:1,__:[17]})]),_:1}),r(e(v),null,{default:l(()=>[a("div",ge,[r(e(Q),{class:"h-4 w-4 text-gray-400"}),a("p",ke,d(o.stats.total_likes.toLocaleString()),1)])]),_:1})]),_:1}),r(e(y),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(k),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[18]||(t[18]=[s(" 粉丝数 ",-1)])),_:1,__:[18]})]),_:1}),r(e(v),null,{default:l(()=>[a("div",xe,[r(e(R),{class:"h-4 w-4 text-gray-400"}),a("p",be,d(o.stats.total_followers.toLocaleString()),1)])]),_:1})]),_:1}),r(e(y),null,{default:l(()=>[r(e(g),{class:"pb-2"},{default:l(()=>[r(e(k),{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},{default:l(()=>t[19]||(t[19]=[s(" 总收入 ",-1)])),_:1,__:[19]})]),_:1}),r(e(v),null,{default:l(()=>[a("div",we,[r(e(q),{class:"h-4 w-4 text-gray-400"}),a("p",Ve,d(I(o.stats.total_revenue)),1)])]),_:1})]),_:1})]),a("div",Ce,[a("div",$e,[r(e(y),null,{default:l(()=>[r(e(g),null,{default:l(()=>[a("div",Se,[r(e(k),null,{default:l(()=>t[20]||(t[20]=[s("创作者资料",-1)])),_:1,__:[20]}),a("div",Ne,[_.value?(i(),f(Y,{key:1},[r(e(b),{onClick:B,disabled:e(n).processing,size:"sm"},{default:l(()=>t[22]||(t[22]=[s(" 保存 ",-1)])),_:1,__:[22]},8,["disabled"]),r(e(b),{onClick:L,variant:"outline",size:"sm"},{default:l(()=>t[23]||(t[23]=[s(" 取消 ",-1)])),_:1,__:[23]})],64)):(i(),c(e(b),{key:0,onClick:t[1]||(t[1]=u=>_.value=!0),variant:"outline",size:"sm"},{default:l(()=>t[21]||(t[21]=[s(" 编辑 ",-1)])),_:1,__:[21]}))])])]),_:1}),r(e(v),{class:"space-y-4"},{default:l(()=>[a("div",null,[r(e(p),null,{default:l(()=>t[24]||(t[24]=[s("显示名称",-1)])),_:1,__:[24]}),_.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.display_name,"onUpdate:modelValue":t[2]||(t[2]=u=>e(n).profile.display_name=u),class:"mt-1"},null,8,["modelValue"])):(i(),f("p",Ue,d(o.creator.creator_profile?.display_name),1))]),a("div",null,[r(e(p),null,{default:l(()=>t[25]||(t[25]=[s("简介",-1)])),_:1,__:[25]}),_.value?(i(),c(e(F),{key:0,modelValue:e(n).profile.bio,"onUpdate:modelValue":t[3]||(t[3]=u=>e(n).profile.bio=u),rows:"3",class:"mt-1"},null,8,["modelValue"])):(i(),f("p",je,d(o.creator.creator_profile?.bio||"N/A"),1))]),a("div",null,[r(e(p),null,{default:l(()=>t[26]||(t[26]=[s("专长",-1)])),_:1,__:[26]}),_.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.specialty,"onUpdate:modelValue":t[4]||(t[4]=u=>e(n).profile.specialty=u),class:"mt-1"},null,8,["modelValue"])):(i(),f("p",Ae,d(o.creator.creator_profile?.specialty),1))]),a("div",null,[r(e(p),null,{default:l(()=>t[27]||(t[27]=[s("经验年限",-1)])),_:1,__:[27]}),_.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.experience_years,"onUpdate:modelValue":t[5]||(t[5]=u=>e(n).profile.experience_years=u),modelModifiers:{number:!0},type:"number",min:"0",class:"mt-1"},null,8,["modelValue"])):(i(),f("p",De,d(o.creator.creator_profile?.experience_years)+" 年",1))]),a("div",null,[r(e(p),null,{default:l(()=>t[28]||(t[28]=[s("位置",-1)])),_:1,__:[28]}),_.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.location,"onUpdate:modelValue":t[6]||(t[6]=u=>e(n).profile.location=u),class:"mt-1"},null,8,["modelValue"])):(i(),f("p",Fe,d(o.creator.creator_profile?.location||"N/A"),1))]),a("div",null,[r(e(p),null,{default:l(()=>t[29]||(t[29]=[s("网站",-1)])),_:1,__:[29]}),_.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.website,"onUpdate:modelValue":t[7]||(t[7]=u=>e(n).profile.website=u),type:"url",class:"mt-1"},null,8,["modelValue"])):o.creator.creator_profile?.website?(i(),f("a",{key:1,href:o.creator.creator_profile.website,target:"_blank",class:"mt-1 text-sm text-blue-600 hover:underline"},d(o.creator.creator_profile.website),9,ze)):(i(),f("p",Be,"N/A"))]),a("div",null,[r(e(p),null,{default:l(()=>t[30]||(t[30]=[s("作品集",-1)])),_:1,__:[30]}),_.value?(i(),c(e(V),{key:0,modelValue:e(n).profile.portfolio_url,"onUpdate:modelValue":t[8]||(t[8]=u=>e(n).profile.portfolio_url=u),type:"url",class:"mt-1"},null,8,["modelValue"])):o.creator.creator_profile?.portfolio_url?(i(),f("a",{key:1,href:o.creator.creator_profile.portfolio_url,target:"_blank",class:"mt-1 text-sm text-blue-600 hover:underline"},d(o.creator.creator_profile.portfolio_url),9,Le)):(i(),f("p",Me,"N/A"))]),a("div",Ee,[_.value?A((i(),f("input",{key:0,type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=u=>e(n).is_top_creator=u),id:"is_top_creator",class:"rounded"},null,512)),[[D,e(n).is_top_creator]]):x("",!0),r(e(p),{for:_.value?"is_top_creator":void 0},{default:l(()=>t[31]||(t[31]=[s(" 顶级创作者 ",-1)])),_:1,__:[31]},8,["for"]),_.value?x("",!0):(i(),f("span",Te,d(o.creator.is_top_creator?"是":"否"),1))]),a("div",He,[_.value?A((i(),f("input",{key:0,type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=u=>e(n).profile.is_featured=u),id:"is_featured",class:"rounded"},null,512)),[[D,e(n).profile.is_featured]]):x("",!0),r(e(p),{for:_.value?"is_featured":void 0},{default:l(()=>t[32]||(t[32]=[s(" 精选创作者 ",-1)])),_:1,__:[32]},8,["for"]),_.value?x("",!0):(i(),f("span",Ie,d(o.creator.creator_profile?.is_featured?"是":"否"),1))])]),_:1})]),_:1})]),a("div",Oe,[o.creator.creator_profile?.verification_status==="pending"?(i(),c(e(y),{key:0},{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(k),null,{default:l(()=>t[33]||(t[33]=[s("验证操作",-1)])),_:1,__:[33]})]),_:1}),r(e(v),{class:"space-y-4"},{default:l(()=>[a("div",null,[r(e(p),null,{default:l(()=>t[34]||(t[34]=[s("验证备注",-1)])),_:1,__:[34]}),r(e(F),{modelValue:$.value,"onUpdate:modelValue":t[11]||(t[11]=u=>$.value=u),rows:"3",placeholder:"添加验证备注...",class:"mt-1"},null,8,["modelValue"])]),a("div",We,[r(e(b),{onClick:M,class:"w-full bg-green-600 hover:bg-green-700"},{default:l(()=>[r(e(Z),{class:"h-4 w-4 mr-2"}),t[35]||(t[35]=s(" 验证通过 ",-1))]),_:1,__:[35]}),r(e(b),{onClick:E,variant:"destructive",class:"w-full"},{default:l(()=>[r(e(h),{class:"h-4 w-4 mr-2"}),t[36]||(t[36]=s(" 拒绝验证 ",-1))]),_:1,__:[36]})])]),_:1})]),_:1})):x("",!0),r(e(y),null,{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(k),null,{default:l(()=>t[37]||(t[37]=[s("验证信息",-1)])),_:1,__:[37]})]),_:1}),r(e(v),{class:"space-y-3"},{default:l(()=>[a("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[38]||(t[38]=[s("验证状态",-1)])),_:1,__:[38]}),r(e(C),{class:j([S(o.creator.creator_profile?.verification_status),"mt-1"])},{default:l(()=>[s(d(o.creator.creator_profile?.verification_status==="pending"?"待审核":"")+" "+d(o.creator.creator_profile?.verification_status==="verified"?"已验证":"")+" "+d(o.creator.creator_profile?.verification_status==="rejected"?"已拒绝":""),1)]),_:1},8,["class"])]),o.creator.creator_profile?.verified_at?(i(),f("div",Xe,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[39]||(t[39]=[s("验证时间",-1)])),_:1,__:[39]}),a("p",Ye,d(N(o.creator.creator_profile.verified_at)),1)])):x("",!0),o.creator.creator_profile?.verification_notes?(i(),f("div",qe,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[40]||(t[40]=[s("验证备注",-1)])),_:1,__:[40]}),a("p",Ge,d(o.creator.creator_profile.verification_notes),1)])):x("",!0)]),_:1})]),_:1}),r(e(y),null,{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(k),null,{default:l(()=>t[41]||(t[41]=[s("快速操作",-1)])),_:1,__:[41]})]),_:1}),r(e(v),{class:"space-y-2"},{default:l(()=>[r(e(b),{onClick:T,variant:"outline",class:"w-full"},{default:l(()=>[o.creator.creator_profile?.is_featured?(i(),c(e(te),{key:1,class:"h-4 w-4 mr-2"})):(i(),c(e(ee),{key:0,class:"h-4 w-4 mr-2"})),s(" "+d(o.creator.creator_profile?.is_featured?"取消精选":"设为精选"),1)]),_:1}),r(e(b),{onClick:H,variant:"destructive",class:"w-full"},{default:l(()=>[r(e(re),{class:"h-4 w-4 mr-2"}),t[42]||(t[42]=s(" 移除创作者身份 ",-1))]),_:1,__:[42]})]),_:1})]),_:1}),r(e(y),null,{default:l(()=>[r(e(g),null,{default:l(()=>[r(e(k),null,{default:l(()=>t[43]||(t[43]=[s("账号信息",-1)])),_:1,__:[43]})]),_:1}),r(e(v),{class:"space-y-3"},{default:l(()=>[a("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[44]||(t[44]=[s("用户ID",-1)])),_:1,__:[44]}),a("p",Je,d(o.creator.id),1)]),a("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[45]||(t[45]=[s("邮箱",-1)])),_:1,__:[45]}),a("p",Ke,d(o.creator.email),1)]),a("div",null,[r(e(p),{class:"text-sm text-gray-600 dark:text-gray-400"},{default:l(()=>t[46]||(t[46]=[s("创建时间",-1)])),_:1,__:[46]}),a("p",Pe,d(N(o.creator.created_at)),1)])]),_:1})]),_:1})])])])]),_:1}))}});export{At as default};
