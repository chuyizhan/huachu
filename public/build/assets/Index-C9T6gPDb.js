import{d as z,r as x,c as v,o as a,w as U,a as D,b as t,e as u,h as A,i as g,j as n,t as r,k as m,p as H,q as K,s as y,f,F as P,x as j,m as S,n as q,l as E}from"./app-CUBtHjuK.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-9-ILEEih.js";import{u as G}from"./usePagination-2eLEuHuE.js";import{C as T}from"./chevron-up-DqtjPEGa.js";import{C as $}from"./chevron-down-CK4sXYeH.js";import"./Primitive-C8K8xgUe.js";import"./useForwardExpose-BJzjCdxN.js";import"./usePrimitiveElement-CSK95RDE.js";import"./UserMenuContent.vue_vue_type_script_setup_true_lang-DjW_4YWm.js";import"./createLucideIcon-DZZNp1PE.js";import"./RovingFocusGroup-BmbzXbjs.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-hb5zdG9_.js";import"./VisuallyHidden-T_FRiZzH.js";import"./index-BA1Ez3KJ.js";import"./DialogTitle-BA5LLKor.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-MOG7Q4dv.js";import"./shield-DbDej1cR.js";import"./trending-up-B_1ux6AR.js";import"./file-text-uhXd4rVg.js";import"./chevron-right-C6c1mLDJ.js";import"./index-DtJJbKVT.js";const J={class:"py-12"},O={class:"w-full sm:px-6 lg:px-8"},Q={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800"},R={class:"p-6 text-gray-900 dark:text-gray-100"},X={class:"mb-6"},Y={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},Z={class:"mb-6 space-y-4"},tt={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},et={class:"overflow-x-auto"},st={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},at={class:"bg-gray-50 dark:bg-gray-900"},rt={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},ot={class:"whitespace-nowrap px-6 py-4 text-sm"},it={class:"px-6 py-4"},lt={class:"flex items-center gap-3"},dt=["src","alt"],nt={key:1,class:"w-10 h-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-gray-600 dark:text-gray-300 font-semibold"},ut={class:"flex flex-col gap-1"},gt={class:"font-medium"},pt={class:"text-xs text-gray-500 dark:text-gray-400"},xt={class:"text-xs text-gray-500 dark:text-gray-400"},mt={class:"px-6 py-4"},vt={class:"flex flex-col gap-1"},yt={key:0,class:"inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10 w-fit"},ft={key:1,class:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10 w-fit"},ct={key:2,class:"inline-flex items-center rounded-md bg-purple-50 px-2 py-1 text-xs font-medium text-purple-700 ring-1 ring-inset ring-purple-700/10 w-fit"},bt={key:3,class:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/10 w-fit"},kt={class:"px-6 py-4"},wt={class:"flex flex-col gap-1 text-sm"},_t={class:"px-6 py-4 text-right"},ht={class:"flex flex-col gap-1 text-sm"},Ct={class:"text-xs text-gray-500 dark:text-gray-400"},Vt={class:"px-6 py-4 text-center"},Ut={class:"flex flex-col gap-1 text-sm"},Dt={class:"text-xs text-gray-500 dark:text-gray-400"},St={class:"px-6 py-4"},Tt={class:"flex flex-col gap-1 text-sm"},$t={class:"text-gray-500 dark:text-gray-400"},It={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Pt={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},jt={class:"whitespace-nowrap px-6 py-4 text-right text-sm"},Bt={class:"flex justify-end gap-4"},Lt={key:0,class:"mt-6 flex items-center justify-between border-t border-gray-200 pt-4 dark:border-gray-700"},Nt={class:"text-sm text-gray-700 dark:text-gray-300"},Ft={class:"flex gap-2"},ie=z({__name:"Index",props:{users:{},filters:{}},setup(B){const p=B,{translatePaginationLabel:L}=G(),c=x(p.filters.search||""),b=x(p.filters.is_admin||""),k=x(p.filters.is_creator||""),w=x(p.filters.is_verified||""),_=x(p.filters.type||""),h=x(p.filters.status||""),l=x(p.filters.sort_by||"created_at"),i=x(p.filters.sort_direction||"desc"),C=x(p.filters.per_page||"20"),d=()=>{E.get("/admin/users",{search:c.value,is_admin:b.value,is_creator:k.value,is_verified:w.value,type:_.value,status:h.value,sort_by:l.value,sort_direction:i.value,per_page:C.value},{preserveState:!0,preserveScroll:!0})},N=()=>{c.value="",b.value="",k.value="",w.value="",_.value="",h.value="",l.value="created_at",i.value="desc",C.value="20",d()},V=o=>{l.value===o?i.value=i.value==="asc"?"desc":"asc":(l.value=o,i.value="asc"),d()},F=o=>{switch(o){case 1:return"æ­£å¸¸";case 2:return"æš‚åœ";case 3:return"å°ç¦";default:return"æœªçŸ¥"}},M=o=>{switch(o){case 1:return"æ™®é€š";case 2:return"VIP";default:return"æœªçŸ¥"}},I=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"});return(o,e)=>(a(),v(W,null,{default:U(()=>[D(u(A),{title:"ç”¨æˆ·ç®¡ç†"}),t("div",J,[t("div",O,[t("div",Q,[t("div",R,[t("div",X,[e[12]||(e[12]=t("h2",{class:"text-2xl font-semibold"},"ç”¨æˆ·ç®¡ç†",-1)),t("p",Y," ç®¡ç†æ‰€æœ‰ç”¨æˆ·è´¦æˆ· - å…± "+r(o.users.total)+" ä½ç”¨æˆ· ",1)]),t("div",Z,[t("div",tt,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium mb-2"},"æœç´¢",-1)),m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"text",placeholder:"æœç´¢ç”¨æˆ·åã€é‚®ç®±æˆ–ç™»å½•å...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300",onKeyup:H(d,["enter"])},null,544),[[K,c.value]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium mb-2"},"ç®¡ç†å‘˜",-1)),m(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>b.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[14]||(e[14]=[t("option",{value:""},"å…¨éƒ¨",-1),t("option",{value:"1"},"æ˜¯",-1),t("option",{value:"0"},"å¦",-1)]),544),[[y,b.value]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium mb-2"},"åˆ›ä½œè€…",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>k.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[16]||(e[16]=[t("option",{value:""},"å…¨éƒ¨",-1),t("option",{value:"1"},"æ˜¯",-1),t("option",{value:"0"},"å¦",-1)]),544),[[y,k.value]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium mb-2"},"å·²éªŒè¯",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>w.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[18]||(e[18]=[t("option",{value:""},"å…¨éƒ¨",-1),t("option",{value:"1"},"æ˜¯",-1),t("option",{value:"0"},"å¦",-1)]),544),[[y,w.value]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium mb-2"},"ç±»åž‹",-1)),m(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>_.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[20]||(e[20]=[t("option",{value:""},"å…¨éƒ¨",-1),t("option",{value:"1"},"æ™®é€š",-1),t("option",{value:"2"},"VIP",-1)]),544),[[y,_.value]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium mb-2"},"çŠ¶æ€",-1)),m(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>h.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[22]||(e[22]=[t("option",{value:""},"å…¨éƒ¨",-1),t("option",{value:"1"},"æ­£å¸¸",-1),t("option",{value:"2"},"æš‚åœ",-1),t("option",{value:"3"},"å°ç¦",-1)]),544),[[y,h.value]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium mb-2"},"æŽ’åºå­—æ®µ",-1)),m(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>l.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[24]||(e[24]=[t("option",{value:"id"},"ID",-1),t("option",{value:"name"},"å§“å",-1),t("option",{value:"email"},"é‚®ç®±",-1),t("option",{value:"login_name"},"ç”¨æˆ·å",-1),t("option",{value:"credits"},"ç§¯åˆ†",-1),t("option",{value:"balance"},"ä½™é¢",-1),t("option",{value:"followers_count"},"ç²‰ä¸æ•°",-1),t("option",{value:"following_count"},"å…³æ³¨æ•°",-1),t("option",{value:"last_login_at"},"æœ€åŽç™»å½•æ—¶é—´",-1),t("option",{value:"created_at"},"æ³¨å†Œæ—¶é—´",-1)]),544),[[y,l.value]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium mb-2"},"æŽ’åºæ–¹å‘",-1)),m(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>i.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[26]||(e[26]=[t("option",{value:"asc"},"å‡åº",-1),t("option",{value:"desc"},"é™åº",-1)]),544),[[y,i.value]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium mb-2"},"æ¯é¡µæ˜¾ç¤º",-1)),m(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>C.value=s),onChange:d,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300"},e[28]||(e[28]=[t("option",{value:"10"},"10",-1),t("option",{value:"20"},"20",-1),t("option",{value:"50"},"50",-1),t("option",{value:"100"},"100",-1),t("option",{value:"200"},"200",-1)]),544),[[y,C.value]])])]),t("div",{class:"flex gap-2"},[t("button",{onClick:d,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," æœç´¢ "),t("button",{onClick:N,class:"inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-100 dark:ring-gray-600 dark:hover:bg-gray-600"}," æ¸…é™¤ ")])]),t("div",et,[t("table",st,[t("thead",at,[t("tr",null,[t("th",{onClick:e[9]||(e[9]=s=>V("id")),class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},[e[30]||(e[30]=f(" ID ",-1)),l.value==="id"&&i.value==="asc"?(a(),v(u(T),{key:0,class:"inline w-4 h-4"})):n("",!0),l.value==="id"&&i.value==="desc"?(a(),v(u($),{key:1,class:"inline w-4 h-4"})):n("",!0)]),e[33]||(e[33]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," ç”¨æˆ·ä¿¡æ¯ ",-1)),e[34]||(e[34]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," è§’è‰² ",-1)),e[35]||(e[35]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," ç±»åž‹/çŠ¶æ€ ",-1)),e[36]||(e[36]=t("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," ç§¯åˆ†/ä½™é¢ ",-1)),e[37]||(e[37]=t("th",{class:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," ç²‰ä¸/å…³æ³¨ ",-1)),t("th",{onClick:e[10]||(e[10]=s=>V("last_login_at")),class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},[e[31]||(e[31]=f(" æœ€åŽç™»å½• ",-1)),l.value==="last_login_at"&&i.value==="asc"?(a(),v(u(T),{key:0,class:"inline w-4 h-4"})):n("",!0),l.value==="last_login_at"&&i.value==="desc"?(a(),v(u($),{key:1,class:"inline w-4 h-4"})):n("",!0)]),t("th",{onClick:e[11]||(e[11]=s=>V("created_at")),class:"cursor-pointer px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},[e[32]||(e[32]=f(" æ³¨å†Œæ—¶é—´ ",-1)),l.value==="created_at"&&i.value==="asc"?(a(),v(u(T),{key:0,class:"inline w-4 h-4"})):n("",!0),l.value==="created_at"&&i.value==="desc"?(a(),v(u($),{key:1,class:"inline w-4 h-4"})):n("",!0)]),e[38]||(e[38]=t("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"}," æ“ä½œ ",-1))])]),t("tbody",rt,[(a(!0),g(P,null,j(o.users.data,s=>(a(),g("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ot,r(s.id),1),t("td",it,[t("div",lt,[s.avatar?(a(),g("img",{key:0,src:s.avatar.startsWith("http")?s.avatar:`/storage/${s.avatar}`,alt:s.name,class:"w-10 h-10 rounded-full object-cover"},null,8,dt)):(a(),g("div",nt,r(s.name.charAt(0).toUpperCase()),1)),t("div",ut,[t("div",gt,r(s.name),1),t("div",pt,"@"+r(s.login_name),1),t("div",xt,r(s.email),1)])])]),t("td",mt,[t("div",vt,[s.is_admin?(a(),g("span",yt," ç®¡ç†å‘˜ ")):n("",!0),s.is_creator?(a(),g("span",ft," åˆ›ä½œè€… ")):n("",!0),s.is_top_creator?(a(),g("span",ct," é¡¶çº§åˆ›ä½œè€… ")):n("",!0),s.is_verified?(a(),g("span",bt," å·²éªŒè¯ ")):n("",!0)])]),t("td",kt,[t("div",wt,[t("div",null,r(M(s.type)),1),t("div",null,r(F(s.status)),1)])]),t("td",_t,[t("div",ht,[t("div",null,"ðŸ’° "+r(s.credits),1),t("div",Ct,"ä½™é¢: "+r(s.balance),1)])]),t("td",Vt,[t("div",Ut,[t("div",null,"ðŸ‘¥ "+r(s.followers_count),1),t("div",Dt,"å…³æ³¨: "+r(s.following_count),1)])]),t("td",St,[t("div",Tt,[t("div",$t,r(s.last_login_at?I(s.last_login_at):"ä»Žæœªç™»å½•"),1),s.last_login_ip?(a(),g("div",It," IP: "+r(s.last_login_ip),1)):n("",!0)])]),t("td",Pt,r(I(s.created_at)),1),t("td",jt,[t("div",Bt,[D(u(S),{href:`/admin/users/${s.id}`,class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:U(()=>e[39]||(e[39]=[f(" æŸ¥çœ‹ ",-1)])),_:2,__:[39]},1032,["href"]),D(u(S),{href:`/admin/users/${s.id}/edit`,class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},{default:U(()=>e[40]||(e[40]=[f(" ç¼–è¾‘ ",-1)])),_:2,__:[40]},1032,["href"])])])]))),128))])])]),o.users.last_page>1?(a(),g("div",Lt,[t("div",Nt," æ˜¾ç¤º "+r(o.users.data.length)+" æ¡ï¼Œå…± "+r(o.users.total)+" æ¡ ",1),t("nav",Ft,[(a(!0),g(P,null,j(o.users.links,s=>(a(),v(u(S),{key:s.label,href:s.url||"#",class:q(["rounded-md px-3 py-2 text-sm font-medium",s.active?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700",!s.url&&"cursor-not-allowed opacity-50"]),innerHTML:u(L)(s.label)},null,8,["href","class","innerHTML"]))),128))])])):n("",!0)])])])])]),_:1}))}});export{ie as default};
