import{d as be,A as he,D as J,u as xe,r as _,c as k,o as r,w as i,a as o,b as l,e as t,h as ye,t as f,f as c,n as X,k as K,i as d,F as I,x as O,s as we,q as ke,j as u,y as te,p as Ce,v as Be}from"./app-BssXCD8P.js";import{_ as Se}from"./WebLayout.vue_vue_type_script_setup_true_lang-jYejiGIP.js";import{_ as C}from"./index-Dd7j7RKK.js";import{_ as E,a as U}from"./CardContent.vue_vue_type_script_setup_true_lang-D2vOceDs.js";import{_ as P}from"./CardHeader.vue_vue_type_script_setup_true_lang-i5vOpX-7.js";import{_ as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-CQZkTZNl.js";import{_ as se}from"./Input.vue_vue_type_script_setup_true_lang-DLYP1Tiw.js";import{_ as B}from"./Label.vue_vue_type_script_setup_true_lang-Cixkw-zd.js";import{_ as W}from"./index-yIcXvjMd.js";import{_ as F}from"./InputError.vue_vue_type_script_setup_true_lang-Uqs82_4a.js";import{_ as $e,a as Te,b as Ee,c as Ue,d as Pe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CQjqV8b_.js";import{_ as je}from"./DialogFooter.vue_vue_type_script_setup_true_lang-JizAeSG0.js";import{v as Fe,p as Re,a as Ve,b as Le,c as ze,d as Ie,e as Oe,S as Me,f as Ne}from"./filepond-plugin-image-transform.esm-CbZM1g5v.js";import{F as qe}from"./file-text-CbnOED7J.js";import{I as oe,V as Ae}from"./video-B5-r6RQq.js";import{X as D}from"./UserMenuContent.vue_vue_type_script_setup_true_lang-BDY1Jps8.js";import{T as Ge}from"./tag-Cw83z_A4.js";import{C as Je}from"./circle-alert-LyctYruj.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BL-DwtRI.js";import"./createLucideIcon-BYHGfaWE.js";import"./heart-Ba1FANdR.js";import"./user-Dkv9Ixis.js";import"./Primitive-DTBK_6IG.js";import"./index-DIhbgzdr.js";import"./useForwardExpose-B2twT0nB.js";import"./usePrimitiveElement-Bd27ws6n.js";import"./DialogTitle-BPMW-Csx.js";import"./RovingFocusGroup-DV84Cw1Z.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-hb5zdG9_.js";const Xe={class:"min-h-screen py-8"},Ke={class:"max-w-4xl mx-auto px-4"},We={class:"mb-8"},De={class:"text-[#999999]"},He={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Qe={class:"lg:col-span-2 space-y-6"},Ye=["value"],Ze={key:0,class:"mt-2"},et={key:0},tt={class:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-[#4B5563] rounded-lg cursor-pointer hover:border-[#ff6e02] transition-colors bg-[#1c1c1c]"},st={class:"flex flex-col items-center justify-center pt-5 pb-6"},ot={class:"text-xs text-[#999999]"},lt={key:1,class:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4"},at=["src","alt"],it={key:1,class:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center"},nt={class:"w-3/4"},rt={class:"flex items-center justify-between text-xs text-white mb-1"},dt={class:"w-full bg-[#4B5563] rounded-full h-2"},ut={key:2,class:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded"},ct={key:3,class:"absolute inset-0 bg-red-500/90 flex items-center justify-center p-2"},pt={class:"text-xs text-white text-center"},ft={key:1,class:"mt-2"},mt={key:0,class:"mt-2"},gt={class:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-[#4B5563] rounded-lg cursor-pointer hover:border-[#ff6e02] transition-colors bg-[#1c1c1c]"},_t={class:"flex flex-col items-center justify-center pt-5 pb-6"},vt={key:1,class:"mt-2"},bt={class:"relative bg-[#1c1c1c] rounded-lg overflow-hidden"},ht=["src"],xt={key:0,class:"mt-2"},yt={class:"flex items-center justify-between text-xs text-[#999999] mb-1"},wt={class:"w-full bg-[#4B5563] rounded-full h-2"},kt={key:1,class:"text-xs text-[#999999] mt-1"},Ct={key:0,class:"text-green-400 ml-2"},Bt={key:2,class:"text-xs text-red-400 mt-1"},St={class:"flex gap-2 mb-3"},$t={key:0,class:"flex flex-wrap gap-2"},Tt=["onClick"],Et={class:"space-y-6"},Ut={key:0,class:"space-y-4"},Pt={class:"flex items-start space-x-3 p-3 rounded-lg bg-[#1c1c1c] border border-[#4B5563]"},jt={class:"flex-1"},Ft={class:"space-y-2 pt-4 border-t border-[#4B5563]"},Rt={key:0,class:"flex items-center gap-2"},Vt={class:"text-lg"},Lt={key:1,class:"text-white font-medium"},zt={key:2,class:"flex items-center gap-2"},It={class:"text-sm text-[#999999]"},Ot={key:3,class:"text-sm text-[#999999] line-clamp-3"},Mt={key:4,class:"flex flex-wrap gap-1"},Nt={key:0,class:"text-xs text-[#999999]"},bs=be({__name:"Create",props:{categories:{},useCloudForImages:{type:Boolean}},setup(le){const ae=Fe(Oe,Ie,ze,Le,Ve,Re),H=le,ie=he(),Q=J(()=>ie.props.auth?.user?.is_creator||!1),a=xe({title:"",content:"",post_category_id:"",type:"showcase",excerpt:"",images:[],image_temp_upload_ids:[],video_temp_upload_id:null,videos:[],tags:[],is_premium:Q.value,status:"draft"}),R=_("");_("");const S=_(null),M=_(null),x=_(null),V=_(!1),Y=_(""),L=_(""),N=_(0),$=_(!1),w=_(0),T=_(null),m=_([]),q=_(null),ne=[{value:"discussion",label:"è®¨è®º",icon:"ğŸ’¬",description:"åˆ†äº«æƒ³æ³•å’Œè§‚ç‚¹"},{value:"tutorial",label:"æ•™ç¨‹",icon:"ğŸ“–",description:"åˆ†äº«çŸ¥è¯†å’ŒæŠ€èƒ½"},{value:"showcase",label:"å±•ç¤º",icon:"ğŸ¨",description:"å±•ç¤ºä½ çš„ä½œå“"},{value:"question",label:"é—®é¢˜",icon:"â“",description:"å¯»æ±‚å¸®åŠ©å’Œå»ºè®®"}],A=J(()=>H.categories.find(n=>n.id.toString()===a.post_category_id)),z=J(()=>ne.find(n=>n.value===a.type));function Z(){const n=R.value.trim();n&&!a.tags.includes(n)&&(a.tags.push(n),R.value="")}function re(n){a.tags.splice(n,1)}function de(){if(S.value){const n=S.value.getFiles();a.images=n.map(e=>e.file)}}async function ue(n){const s=n.target.files?.[0];if(s){if(s.size>1024*1024*1024){alert("è§†é¢‘æ–‡ä»¶å¤ªå¤§ï¼æœ€å¤§æ”¯æŒ1GB");return}if(!s.type.startsWith("video/")){alert("è¯·ä¸Šä¼ æœ‰æ•ˆçš„è§†é¢‘æ–‡ä»¶");return}L.value=s.name,N.value=s.size,x.value&&URL.revokeObjectURL(x.value),x.value=URL.createObjectURL(s),await ce(s)}}async function ce(n){$.value=!0,T.value=null,w.value=0;try{const e=await fetch("/api/v1/media/presigned-url",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({file_name:n.name,file_type:n.type,file_size:n.size,type:"video"})});if(!e.ok)throw new Error("è·å–ä¸Šä¼ é“¾æ¥å¤±è´¥");const{presigned_url:s,temp_upload_id:g,s3_path:v}=await e.json(),p=new XMLHttpRequest;if(p.upload.addEventListener("progress",y=>{y.lengthComputable&&(w.value=Math.round(y.loaded/y.total*95))}),await new Promise((y,h)=>{p.addEventListener("load",()=>{p.status===200?y(p.response):h(new Error("S3ä¸Šä¼ å¤±è´¥"))}),p.addEventListener("error",()=>h(new Error("ç½‘ç»œé”™è¯¯"))),p.addEventListener("abort",()=>h(new Error("ä¸Šä¼ å·²å–æ¶ˆ"))),p.open("PUT",s),p.setRequestHeader("Content-Type",n.type),p.send(n)}),w.value=95,!(await fetch(`/api/v1/media/confirm-upload/${g}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({s3_path:v})})).ok)throw new Error("ç¡®è®¤ä¸Šä¼ å¤±è´¥");a.video_temp_upload_id=g,w.value=100}catch(e){console.error("Video upload failed:",e),T.value=e instanceof Error?e.message:"è§†é¢‘ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•",ee()}finally{$.value=!1}}function ee(){a.video_temp_upload_id=null,x.value&&(URL.revokeObjectURL(x.value),x.value=null),M.value&&(M.value.value=""),L.value="",N.value=0,T.value=null}async function pe(n){const s=n.target.files;if(s&&s.length>0){const g=12-m.value.length,v=Array.from(s).slice(0,g);for(const p of v){if(!p.type.startsWith("image/")){alert("è¯·ä¸Šä¼ æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶");continue}if(p.size>5*1024*1024){alert(`å›¾ç‰‡ ${p.name} å¤ªå¤§ï¼æœ€å¤§æ”¯æŒ5MB`);continue}const y={tempUploadId:0,preview:URL.createObjectURL(p),name:p.name,size:p.size,uploading:!0,progress:0,error:null};m.value.push(y);const h=m.value.length-1;await fe(p,h)}q.value&&(q.value.value="")}}async function fe(n,e){try{const s=await fetch("/api/v1/media/presigned-url",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({file_name:n.name,file_type:n.type,file_size:n.size,type:"image"})});if(!s.ok)throw new Error("è·å–ä¸Šä¼ é“¾æ¥å¤±è´¥");const{presigned_url:g,temp_upload_id:v,s3_path:p}=await s.json(),b=new XMLHttpRequest;if(b.upload.addEventListener("progress",h=>{h.lengthComputable&&(m.value[e].progress=Math.round(h.loaded/h.total*95))}),await new Promise((h,G)=>{b.addEventListener("load",()=>{b.status===200?h(b.response):G(new Error("ä¸Šä¼ å¤±è´¥"))}),b.addEventListener("error",()=>G(new Error("ç½‘ç»œé”™è¯¯"))),b.addEventListener("abort",()=>G(new Error("ä¸Šä¼ å·²å–æ¶ˆ"))),b.open("PUT",g),b.setRequestHeader("Content-Type",n.type),b.send(n)}),m.value[e].progress=95,!(await fetch(`/api/v1/media/confirm-upload/${v}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify({s3_path:p})})).ok)throw new Error("ç¡®è®¤ä¸Šä¼ å¤±è´¥");m.value[e].tempUploadId=v,m.value[e].progress=100,m.value[e].uploading=!1,a.image_temp_upload_ids.push(v)}catch(s){console.error("Image upload failed:",s),m.value[e].error=s instanceof Error?s.message:"ä¸Šä¼ å¤±è´¥",m.value[e].uploading=!1}}function me(n){const e=m.value[n],s=a.image_temp_upload_ids.indexOf(e.tempUploadId);s>-1&&a.image_temp_upload_ids.splice(s,1),URL.revokeObjectURL(e.preview),m.value.splice(n,1)}function ge(){const n=a.content&&a.content.trim().length>0,e=m.value.length>0||a.image_temp_upload_ids.length>0;let s=!1;S.value&&(s=S.value.getFiles().length>0);const g=e||s,v=a.video_temp_upload_id!==null;return!n&&!g&&!v?(Y.value="å¸–å­è‡³å°‘è¦æœ‰æ–‡å­—å†…å®¹ï¼Œå›¾ç‰‡æˆ–è€…è§†é¢‘ä»»æ„ä¸€ç§ã€‚",V.value=!0,!1):!0}function _e(){a.status="draft",a.post("/posts",{onSuccess:()=>{}})}function ve(){ge()&&(a.status="published",a.post("/posts",{onSuccess:()=>{}}))}return(n,e)=>(r(),k(Se,null,{default:i(()=>[o(t(ye),{title:"åˆ›å»ºæ–°å¸–å­"}),l("div",Xe,[l("div",Ke,[l("div",We,[e[7]||(e[7]=l("h1",{class:"text-3xl font-bold text-white mb-2"},"åˆ›å»ºæ–°å¸–å­",-1)),l("p",De,"åˆ†äº«ä½ çš„æƒ³æ³•ã€ç»éªŒæˆ–é—®é¢˜ç»™"+f(n.$page.props.name),1)]),l("div",He,[l("div",Qe,[o(t(E),{class:"bg-[#374151] border-[#4B5563]"},{default:i(()=>[o(t(P),null,{default:i(()=>[o(t(j),{class:"text-white flex items-center gap-2"},{default:i(()=>[o(t(qe),{class:"h-5 w-5"}),e[8]||(e[8]=c(" åŸºæœ¬ä¿¡æ¯ ",-1))]),_:1,__:[8]})]),_:1}),o(t(U),{class:"space-y-4"},{default:i(()=>[l("div",null,[o(t(B),{for:"title",class:"text-white"},{default:i(()=>e[9]||(e[9]=[c("æ ‡é¢˜ *",-1)])),_:1,__:[9]}),o(t(se),{id:"title",modelValue:t(a).title,"onUpdate:modelValue":e[0]||(e[0]=s=>t(a).title=s),placeholder:"è¾“å…¥å¸–å­æ ‡é¢˜...",class:X(["mt-1 bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]",{"border-red-500":t(a).errors.title}])},null,8,["modelValue","class"]),o(F,{message:t(a).errors.title,class:"mt-1"},null,8,["message"])]),l("div",null,[o(t(B),{class:"text-white"},{default:i(()=>e[10]||(e[10]=[c("åˆ†ç±» *",-1)])),_:1,__:[10]}),K(l("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>t(a).post_category_id=s),class:X(["mt-1 w-full bg-[#1c1c1c] border border-[#4B5563] text-white rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff6e02] focus:border-[#ff6e02]",{"border-red-500":t(a).errors.post_category_id}])},[e[11]||(e[11]=l("option",{value:"",class:"text-[#999999]"},"é€‰æ‹©åˆ†ç±»",-1)),(r(!0),d(I,null,O(n.categories,s=>(r(),d("option",{key:s.id,value:s.id.toString(),class:"bg-[#1c1c1c] text-white"},f(s.name),9,Ye))),128))],2),[[we,t(a).post_category_id]]),o(F,{message:t(a).errors.post_category_id,class:"mt-1"},null,8,["message"])]),l("div",null,[o(t(B),{for:"content",class:"text-white"},{default:i(()=>e[12]||(e[12]=[c("å†…å®¹",-1)])),_:1,__:[12]}),K(l("textarea",{id:"content","onUpdate:modelValue":e[2]||(e[2]=s=>t(a).content=s),placeholder:"å†™ä¸‹ä½ çš„å†…å®¹...",rows:"12",class:X(["mt-1 w-full bg-[#1c1c1c] border border-[#4B5563] text-white placeholder:text-[#999999] rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#ff6e02] focus:border-[#ff6e02] resize-y",{"border-red-500":t(a).errors.content}])},null,2),[[ke,t(a).content]]),o(F,{message:t(a).errors.content,class:"mt-1"},null,8,["message"])])]),_:1})]),_:1}),o(t(E),{class:"bg-[#374151] border-[#4B5563]"},{default:i(()=>[o(t(P),null,{default:i(()=>[o(t(j),{class:"text-white flex items-center gap-2"},{default:i(()=>[o(t(oe),{class:"h-5 w-5"}),e[13]||(e[13]=c(" åª’ä½“å†…å®¹ ",-1))]),_:1,__:[13]})]),_:1}),o(t(U),{class:"space-y-4"},{default:i(()=>[l("div",null,[o(t(B),{class:"text-white"},{default:i(()=>e[14]||(e[14]=[c("å›¾ç‰‡ (æœ€å¤š12å¼ )",-1)])),_:1,__:[14]}),H.useCloudForImages?(r(),d("div",Ze,[m.value.length<12?(r(),d("div",et,[l("label",tt,[l("div",st,[o(t(oe),{class:"w-10 h-10 mb-3 text-[#999999]"}),e[15]||(e[15]=l("p",{class:"mb-2 text-sm text-[#999999]"},[l("span",{class:"font-semibold text-[#ff6e02]"},"ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡")],-1)),l("p",ot,"æ”¯æŒ JPG, PNG, GIF, WebP (æœ€å¤§5MB) - å·²ä¸Šä¼  "+f(m.value.length)+"/12",1)]),l("input",{ref_key:"imageInput",ref:q,type:"file",class:"hidden",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",multiple:"",onChange:pe},null,544)])])):u("",!0),m.value.length>0?(r(),d("div",lt,[(r(!0),d(I,null,O(m.value,(s,g)=>(r(),d("div",{key:g,class:"relative bg-[#1c1c1c] rounded-lg overflow-hidden aspect-square"},[l("img",{src:s.preview,alt:s.name,class:"w-full h-full object-cover"},null,8,at),s.uploading?u("",!0):(r(),k(t(C),{key:0,type:"button",size:"sm",variant:"ghost",onClick:v=>me(g),class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white p-1 h-auto"},{default:i(()=>[o(t(D),{class:"h-4 w-4"})]),_:2},1032,["onClick"])),s.uploading?(r(),d("div",it,[l("div",nt,[l("div",rt,[e[16]||(e[16]=l("span",null,"ä¸Šä¼ ä¸­...",-1)),l("span",null,f(s.progress)+"%",1)]),l("div",dt,[l("div",{class:"bg-[#ff6e02] h-2 rounded-full transition-all duration-300",style:te({width:`${s.progress}%`})},null,4)])])])):u("",!0),!s.uploading&&!s.error&&s.tempUploadId?(r(),d("div",ut," âœ“ å·²ä¸Šä¼  ")):u("",!0),s.error?(r(),d("div",ct,[l("p",pt,f(s.error),1)])):u("",!0)]))),128))])):u("",!0),e[17]||(e[17]=l("p",{class:"text-xs text-[#999999] mt-2"},"æ”¯æŒ JPG, PNG, GIF, WebPï¼Œå•å¼ æœ€å¤§5MBã€‚",-1))])):(r(),d("div",ft,[o(t(ae),{ref_key:"pond",ref:S,name:"images","allow-multiple":!0,"max-files":12,"accepted-file-types":"image/jpeg, image/jpg, image/png, image/gif, image/webp","max-file-size":"5MB","label-idle":"æ‹–æ”¾å›¾ç‰‡æˆ– <span class='filepond--label-action'>æµè§ˆ</span>","label-file-loading":"åŠ è½½ä¸­","label-file-processing":"ä¸Šä¼ ä¸­","label-tap-to-cancel":"ç‚¹å‡»å–æ¶ˆ","label-tap-to-retry":"ç‚¹å‡»é‡è¯•","label-tap-to-undo":"ç‚¹å‡»æ’¤é”€","image-resize-target-width":1200,"image-resize-target-height":900,"image-resize-mode":"contain","image-resize-upscale":"false","image-transform-output-quality":85,"image-transform-output-quality-mode":"always",onUpdatefiles:de,"style-panel-layout":"compact","style-load-indicator-position":"center bottom","style-progress-indicator-position":"right bottom","style-button-remove-item-position":"left bottom","style-button-process-item-position":"right bottom"},null,512),e[18]||(e[18]=l("p",{class:"text-xs text-[#999999] mt-2"},"æ”¯æŒ JPG, PNG, GIF, WebPï¼Œå•å¼ æœ€å¤§5MBã€‚å›¾ç‰‡å°†è‡ªåŠ¨ä¼˜åŒ–ã€‚",-1))])),o(F,{message:t(a).errors.images,class:"mt-1"},null,8,["message"])]),l("div",null,[o(t(B),{class:"text-white"},{default:i(()=>e[19]||(e[19]=[c("è§†é¢‘ (å¯é€‰)",-1)])),_:1,__:[19]}),x.value?u("",!0):(r(),d("div",mt,[l("label",gt,[l("div",_t,[o(t(Ae),{class:"w-10 h-10 mb-3 text-[#999999]"}),e[20]||(e[20]=l("p",{class:"mb-2 text-sm text-[#999999]"},[l("span",{class:"font-semibold text-[#ff6e02]"},"ç‚¹å‡»ä¸Šä¼ è§†é¢‘")],-1)),e[21]||(e[21]=l("p",{class:"text-xs text-[#999999]"},"æ”¯æŒ MP4, WebM, MOV (æœ€å¤§1GB)",-1))]),l("input",{ref_key:"videoInput",ref:M,type:"file",class:"hidden",accept:"video/*",onChange:ue},null,544)])])),x.value?(r(),d("div",vt,[l("div",bt,[l("video",{src:x.value,controls:"",class:"w-full max-h-64 object-contain"},null,8,ht),$.value?u("",!0):(r(),k(t(C),{key:0,type:"button",size:"sm",variant:"ghost",onClick:ee,class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white"},{default:i(()=>[o(t(D),{class:"h-4 w-4"})]),_:1}))]),$.value?(r(),d("div",xt,[l("div",yt,[e[22]||(e[22]=l("span",null,"ä¸Šä¼ ä¸­...",-1)),l("span",null,f(w.value)+"%",1)]),l("div",wt,[l("div",{class:"bg-[#ff6e02] h-2 rounded-full transition-all duration-300",style:te({width:`${w.value}%`})},null,4)])])):u("",!0),!$.value&&L.value?(r(),d("p",kt,[c(f(L.value)+" ("+f((N.value/1024/1024).toFixed(2))+"MB) ",1),t(a).video_temp_upload_id?(r(),d("span",Ct,"âœ“ å·²ä¸Šä¼ ")):u("",!0)])):u("",!0),T.value?(r(),d("p",Bt,f(T.value),1)):u("",!0)])):u("",!0),o(F,{message:t(a).errors.video,class:"mt-1"},null,8,["message"])])]),_:1})]),_:1}),o(t(E),{class:"bg-[#374151] border-[#4B5563]"},{default:i(()=>[o(t(P),null,{default:i(()=>[o(t(j),{class:"text-white flex items-center gap-2"},{default:i(()=>[o(t(Ge),{class:"h-5 w-5"}),e[23]||(e[23]=c(" æ ‡ç­¾ ",-1))]),_:1,__:[23]})]),_:1}),o(t(U),null,{default:i(()=>[l("div",St,[o(t(se),{modelValue:R.value,"onUpdate:modelValue":e[3]||(e[3]=s=>R.value=s),placeholder:"è¾“å…¥æ ‡ç­¾...",class:"bg-[#1c1c1c] border-[#4B5563] text-white placeholder:text-[#999999]",onKeyup:Ce(Z,["enter"])},null,8,["modelValue"]),o(t(C),{type:"button",onClick:Z,class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:i(()=>e[24]||(e[24]=[c(" æ·»åŠ  ",-1)])),_:1,__:[24]})]),t(a).tags.length>0?(r(),d("div",$t,[(r(!0),d(I,null,O(t(a).tags,(s,g)=>(r(),k(t(W),{key:g,class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:i(()=>[c(f(s)+" ",1),l("button",{type:"button",onClick:v=>re(g),class:"ml-1 hover:text-red-300"},[o(t(D),{class:"h-3 w-3"})],8,Tt)]),_:2},1024))),128))])):u("",!0)]),_:1})]),_:1})]),l("div",Et,[o(t(E),{class:"bg-[#374151] border-[#4B5563]"},{default:i(()=>[o(t(P),null,{default:i(()=>[o(t(j),{class:"text-white"},{default:i(()=>e[25]||(e[25]=[c("å‘å¸ƒè®¾ç½®",-1)])),_:1,__:[25]})]),_:1}),o(t(U),{class:"space-y-4"},{default:i(()=>[Q.value?(r(),d("div",Ut,[l("div",Pt,[K(l("input",{id:"is_premium","onUpdate:modelValue":e[4]||(e[4]=s=>t(a).is_premium=s),type:"checkbox",class:"mt-1 w-4 h-4 text-[#ff6e02] bg-[#374151] border-[#4B5563] rounded focus:ring-[#ff6e02] focus:ring-2"},null,512),[[Be,t(a).is_premium]]),l("div",jt,[o(t(B),{for:"is_premium",class:"text-white font-medium cursor-pointer"},{default:i(()=>e[26]||(e[26]=[c(" ğŸ”’ ä¼šå‘˜ä¸“äº«å†…å®¹ ",-1)])),_:1,__:[26]}),e[27]||(e[27]=l("p",{class:"text-xs text-[#999999] mt-1"}," å¼€å¯åï¼Œä»…è®¢é˜…ä½ çš„ç”¨æˆ·å¯ä»¥æŸ¥çœ‹æ­¤å†…å®¹ ",-1))])])])):u("",!0),l("div",Ft,[o(t(C),{type:"button",onClick:_e,disabled:t(a).processing,class:"w-full bg-[#4B5563] hover:bg-[#6B7280] text-white"},{default:i(()=>[o(t(Me),{class:"h-4 w-4 mr-2"}),c(" "+f(t(a).processing?"ä¿å­˜ä¸­...":"ä¿å­˜è‰ç¨¿"),1)]),_:1},8,["disabled"]),o(t(C),{type:"button",onClick:ve,disabled:t(a).processing,class:"w-full bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:i(()=>[o(t(Ne),{class:"h-4 w-4 mr-2"}),c(" "+f(t(a).processing?"å‘å¸ƒä¸­...":"ç«‹å³å‘å¸ƒ"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),t(a).title||A.value||z.value?(r(),k(t(E),{key:0,class:"bg-[#374151] border-[#4B5563]"},{default:i(()=>[o(t(P),null,{default:i(()=>[o(t(j),{class:"text-white"},{default:i(()=>e[28]||(e[28]=[c("é¢„è§ˆ",-1)])),_:1,__:[28]})]),_:1}),o(t(U),{class:"space-y-3"},{default:i(()=>[z.value?(r(),d("div",Rt,[l("span",Vt,f(z.value.icon),1),o(t(W),{class:"bg-[#ff6e02]/20 text-[#ff6e02] border-[#ff6e02]/30"},{default:i(()=>[c(f(z.value.label),1)]),_:1})])):u("",!0),t(a).title?(r(),d("h3",Lt,f(t(a).title),1)):u("",!0),A.value?(r(),d("div",zt,[e[29]||(e[29]=l("div",{class:"w-3 h-3 rounded-full bg-[#ff6e02]"},null,-1)),l("span",It,f(A.value.name),1)])):u("",!0),t(a).excerpt?(r(),d("p",Ot,f(t(a).excerpt),1)):u("",!0),t(a).tags.length>0?(r(),d("div",Mt,[(r(!0),d(I,null,O(t(a).tags.slice(0,3),s=>(r(),k(t(W),{key:s,class:"text-xs bg-[#1c1c1c] text-[#999999]"},{default:i(()=>[c(" #"+f(s),1)]),_:2},1024))),128)),t(a).tags.length>3?(r(),d("span",Nt," +"+f(t(a).tags.length-3)+" more ",1)):u("",!0)])):u("",!0)]),_:1})]),_:1})):u("",!0)])])])]),o(t($e),{open:V.value,"onUpdate:open":e[6]||(e[6]=s=>V.value=s)},{default:i(()=>[o(t(Te),{class:"bg-[#1c1c1c] border-[#4B5563] text-white"},{default:i(()=>[o(t(Ee),null,{default:i(()=>[o(t(Ue),{class:"flex items-center gap-2 text-red-400"},{default:i(()=>[o(t(Je),{class:"h-5 w-5"}),e[30]||(e[30]=c(" é”™è¯¯ ",-1))]),_:1,__:[30]}),o(t(Pe),{class:"text-[#999999]"},{default:i(()=>[c(f(Y.value),1)]),_:1})]),_:1}),o(t(je),null,{default:i(()=>[o(t(C),{onClick:e[5]||(e[5]=s=>V.value=!1),class:"bg-[#ff6e02] hover:bg-[#e55a00] text-white"},{default:i(()=>e[31]||(e[31]=[c(" ç¡®å®š ",-1)])),_:1,__:[31]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}});export{bs as default};
