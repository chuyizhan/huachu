import{q as $,r as U}from"./index-hb5zdG9_.js";import{_ as E}from"./InputError.vue_vue_type_script_setup_true_lang-CX9wfN-K.js";import{_ as J}from"./index-Dwn8uRmC.js";import{P as L,c as O}from"./Primitive-BAQBOfwU.js";import{c as G,b as W}from"./usePrimitiveElement-BWSfl_RV.js";import{i as B}from"./nullish-CHIgUVhi.js";import{i as R}from"./ohash.D__AXeF1-C-E83dC9.js";import{u as X}from"./useFormControl-BOCnZz6V.js";import{b as N,u as Y}from"./useForwardExpose-Bn2djeiF.js";import{R as Z}from"./RovingFocusItem-Do8gvKme.js";import{V as ee}from"./VisuallyHiddenInput-Ckp_FAPv.js";import{d as w,D as x,c as v,o as p,w as l,B as S,j as k,e as t,G as q,p as te,g as ae,J as oe,a as r,i as re,h as se,t as le,ak as ie,b as f,f as _,m as I}from"./app-D7JLHZQu.js";import{P as de}from"./RovingFocusGroup-DM1Pcmd8.js";import{C as ne}from"./check-q9wC1v-T.js";import{_ as j}from"./Input.vue_vue_type_script_setup_true_lang-14hBJ1uD.js";import{_ as V}from"./Label.vue_vue_type_script_setup_true_lang-w1ytCbx7.js";import{L as ue,_ as me}from"./WebAuthLayout.vue_vue_type_script_setup_true_lang-BfhqOR8b.js";import{r as ce}from"./index-DF2TMZoT.js";import{U as fe}from"./user-BkbGV6Up.js";import{L as pe}from"./loader-circle-Bb7SCkEb.js";import"./index-Hyeev8z-.js";import"./VisuallyHidden-RSbYF_2N.js";import"./createLucideIcon-Jmld2wR3.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-ykvkgB-i.js";import"./index-BzYURwrv.js";function A(e,s){return B(e)?!1:Array.isArray(e)?e.some(a=>R(a,s)):R(e,s)}const[he,rt]=G("CheckboxGroupRoot");function C(e){return e==="indeterminate"}function D(e){return C(e)?"indeterminate":e?"checked":"unchecked"}const[ve,be]=G("CheckboxRoot");var _e=w({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:s}){const a=e,d=s,{forwardRef:h,currentElement:g}=N(),n=he(null),c=Y(a,"modelValue",d,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),y=x(()=>n?.disabled.value||a.disabled),b=x(()=>B(n?.modelValue.value)?c.value==="indeterminate"?"indeterminate":c.value:A(n.modelValue.value,a.value));function Q(){if(B(n?.modelValue.value))c.value=C(c.value)?!0:!c.value;else{const o=[...n.modelValue.value||[]];if(A(o,a.value)){const P=o.findIndex(T=>R(T,a.value));o.splice(P,1)}else o.push(a.value);n.modelValue.value=o}}const z=X(g),H=x(()=>a.id&&g.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return be({disabled:y,state:b}),(o,P)=>(p(),v(oe(t(n)?.rovingFocus.value?t(Z):t(L)),q(o.$attrs,{id:o.id,ref:t(h),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":t(C)(b.value)?"mixed":b.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||H.value,"data-state":t(D)(b.value),"data-disabled":y.value?"":void 0,disabled:y.value,focusable:t(n)?.rovingFocus.value?!y.value:void 0,onKeydown:te(ae(()=>{},["prevent"]),["enter"]),onClick:Q}),{default:l(()=>[S(o.$slots,"default",{modelValue:t(c),state:b.value}),t(z)&&o.name&&!t(n)?(p(),v(t(ee),{key:0,type:"checkbox",checked:!!b.value,name:o.name,value:o.value,disabled:y.value,required:o.required},null,8,["checked","name","value","disabled","required"])):k("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),ye=_e,ge=w({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const{forwardRef:s}=N(),a=ve();return(d,h)=>(p(),v(t(de),{present:d.forceMount||t(C)(t(a).state.value)||t(a).state.value===!0},{default:l(()=>[r(t(L),q({ref:t(s),"data-state":t(D)(t(a).state.value),"data-disabled":t(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":d.asChild,as:d.as},d.$attrs),{default:l(()=>[S(d.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),xe=ge;const i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/login"};i.url=e=>i.definition.url+$(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const F=e=>({action:i.url(e),method:"get"});F.get=e=>({action:i.url(e),method:"get"});F.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=F;const u=e=>({url:u.url(e),method:"post"});u.definition={methods:["post"],url:"/login"};u.url=e=>u.definition.url+$(e);u.post=e=>({url:u.url(e),method:"post"});const M=e=>({action:u.url(e),method:"post"});M.post=e=>({action:u.url(e),method:"post"});u.form=M;const m=e=>({url:m.url(e),method:"post"});m.definition={methods:["post"],url:"/logout"};m.url=e=>m.definition.url+$(e);m.post=e=>({url:m.url(e),method:"post"});const K=e=>({action:m.url(e),method:"post"});K.post=e=>({action:m.url(e),method:"post"});m.form=K;const ke={create:i,store:u,destroy:m},Ce=w({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(e,{emit:s}){const a=e,d=s,h=x(()=>{const{class:n,...c}=a;return c}),g=W(h,d);return(n,c)=>(p(),v(t(ye),q({"data-slot":"checkbox"},t(g),{class:t(O)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:l(()=>[r(t(xe),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:l(()=>[S(n.$slots,"default",{},()=>[r(t(ne),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),we={key:0,class:"mb-4 text-center text-sm font-medium text-green-500"},qe={class:"space-y-4"},Ve={class:"space-y-2"},Be={class:"relative"},Re={class:"space-y-2"},$e={class:"flex items-center justify-between"},Se={class:"relative"},Fe={class:"flex items-center justify-between"},Pe={class:"text-center text-sm text-[#999999] pt-4 border-t border-[#1f2937]"},st=w({__name:"Login",props:{status:{},canResetPassword:{type:Boolean}},setup(e){return(s,a)=>(p(),v(me,{title:"登录账户",description:`输入用户名和密码登录${s.$page.props.name}`},{default:l(()=>[r(t(se),{title:"登录"}),s.status?(p(),re("div",we,le(s.status),1)):k("",!0),r(t(ie),q(t(ke).store.form(),{"reset-on-success":["password"],class:"space-y-4"}),{default:l(({errors:d,processing:h})=>[f("div",qe,[f("div",Ve,[r(t(V),{for:"login_name",class:"text-white text-sm font-medium"},{default:l(()=>a[0]||(a[0]=[_("用户名",-1)])),_:1,__:[0]}),f("div",Be,[r(t(fe),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#999999] w-4 h-4"}),r(t(j),{id:"login_name",type:"text",name:"login_name",required:"",autofocus:"",tabindex:1,autocomplete:"username",placeholder:"请输入用户名",class:"pl-10 bg-[#1f2937] border-[#1f2937] text-white placeholder:text-[#999999] focus:border-[#ff6e02] focus:ring-[#ff6e02]"})]),r(E,{message:d.login_name},null,8,["message"])]),f("div",Re,[f("div",$e,[r(t(V),{for:"password",class:"text-white text-sm font-medium"},{default:l(()=>a[1]||(a[1]=[_("密码",-1)])),_:1,__:[1]}),s.canResetPassword?(p(),v(t(I),{key:0,href:t(ce)(),class:"text-sm text-[#ff6e02] hover:text-[#e55a00] transition-colors",tabindex:5},{default:l(()=>a[2]||(a[2]=[_(" 忘记密码？ ",-1)])),_:1,__:[2]},8,["href"])):k("",!0)]),f("div",Se,[r(t(ue),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#999999] w-4 h-4"}),r(t(j),{id:"password",type:"password",name:"password",required:"",tabindex:2,autocomplete:"current-password",placeholder:"请输入密码",class:"pl-10 bg-[#1f2937] border-[#1f2937] text-white placeholder:text-[#999999] focus:border-[#ff6e02] focus:ring-[#ff6e02]"})]),r(E,{message:d.password},null,8,["message"])]),f("div",Fe,[r(t(V),{for:"remember",class:"flex items-center space-x-2 text-sm text-white cursor-pointer"},{default:l(()=>[r(t(Ce),{id:"remember",name:"remember",tabindex:3,class:"border-[#999999] data-[state=checked]:bg-[#ff6e02] data-[state=checked]:border-[#ff6e02]"}),a[3]||(a[3]=f("span",null,"记住我",-1))]),_:1,__:[3]})]),r(t(J),{type:"submit",class:"w-full bg-[#ff6e02] text-white hover:bg-[#e55a00] transition-colors font-medium py-2.5",tabindex:4,disabled:h,"data-test":"login-button"},{default:l(()=>[h?(p(),v(t(pe),{key:0,class:"h-4 w-4 animate-spin mr-2"})):k("",!0),a[4]||(a[4]=_(" 登录 ",-1))]),_:2,__:[4]},1032,["disabled"])]),f("div",Pe,[a[6]||(a[6]=_(" 还没有账户？ ",-1)),r(t(I),{href:t(U)(),class:"text-[#ff6e02] hover:text-[#e55a00] transition-colors font-medium",tabindex:5},{default:l(()=>a[5]||(a[5]=[_(" 立即注册 ",-1)])),_:1,__:[5]},8,["href"])])]),_:1},16)]),_:1},8,["description"]))}});export{st as default};
